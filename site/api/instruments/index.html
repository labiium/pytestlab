
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Scientific test & measurement toolbox for Python.">
      
      
      
      
        <link rel="prev" href="../../user_guide/cli/">
      
      
        <link rel="next" href="../config/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Instruments - PyTestLab</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#instrument-drivers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PyTestLab" class="md-header__button md-logo" aria-label="PyTestLab" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyTestLab
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instruments
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/pytestlab/pytestlab" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user_guide/getting_started/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tutorials/compliance.ipynb" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../profiles/gallery/" class="md-tabs__link">
          
  
  
  Instrument Profiles

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../contributing/" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PyTestLab" class="md-nav__button md-logo" aria-label="PyTestLab" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    PyTestLab
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pytestlab/pytestlab" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/async_vs_sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Async vs. Sync
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/10_minute_tour.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 Minute Tour
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/connecting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connecting to Instruments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/simulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulation Mode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/uncertainty/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Handling Uncertainty
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/bench_descriptors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bench Descriptors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command-Line Interface
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/compliance.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compliance and Audit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/custom_validations.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Validations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/profile_creation.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profile Creation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/smartbench.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SmartBench Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/example.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Example
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Instruments
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Instruments
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-instrument-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Core Instrument Classes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument" class="md-nav__link">
    <span class="md-ellipsis">
      AutoInstrument
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AutoInstrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument" class="md-nav__link">
    <span class="md-ellipsis">
      AutoInstrument
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AutoInstrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument.from_type" class="md-nav__link">
    <span class="md-ellipsis">
      from_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument.get_config_from_cdn" class="md-nav__link">
    <span class="md-ellipsis">
      get_config_from_cdn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument.get_config_from_local" class="md-nav__link">
    <span class="md-ellipsis">
      get_config_from_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument.AutoInstrument.register_instrument" class="md-nav__link">
    <span class="md-ellipsis">
      register_instrument
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.AutoInstrument-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument" class="md-nav__link">
    <span class="md-ellipsis">
      Instrument
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.clear_status" class="md-nav__link">
    <span class="md-ellipsis">
      clear_status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.close" class="md-nav__link">
    <span class="md-ellipsis">
      close
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.connect_backend" class="md-nav__link">
    <span class="md-ellipsis">
      connect_backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.get_all_errors" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_errors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.get_communication_timeout" class="md-nav__link">
    <span class="md-ellipsis">
      get_communication_timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.get_error" class="md-nav__link">
    <span class="md-ellipsis">
      get_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.get_scpi_version" class="md-nav__link">
    <span class="md-ellipsis">
      get_scpi_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.health_check" class="md-nav__link">
    <span class="md-ellipsis">
      health_check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.id" class="md-nav__link">
    <span class="md-ellipsis">
      id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.lock_panel" class="md-nav__link">
    <span class="md-ellipsis">
      lock_panel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.requires" class="md-nav__link">
    <span class="md-ellipsis">
      requires
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.reset" class="md-nav__link">
    <span class="md-ellipsis">
      reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.run_self_test" class="md-nav__link">
    <span class="md-ellipsis">
      run_self_test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.set_communication_timeout" class="md-nav__link">
    <span class="md-ellipsis">
      set_communication_timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Instrument.wait_for_operation_complete" class="md-nav__link">
    <span class="md-ellipsis">
      wait_for_operation_complete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-instrument-types" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Instrument Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported Instrument Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oscilloscope" class="md-nav__link">
    <span class="md-ellipsis">
      Oscilloscope
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope" class="md-nav__link">
    <span class="md-ellipsis">
      Oscilloscope
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Oscilloscope">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ChannelReadingResult" class="md-nav__link">
    <span class="md-ellipsis">
      ChannelReadingResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.FFTResult" class="md-nav__link">
    <span class="md-ellipsis">
      FFTResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.FRanalysisResult" class="md-nav__link">
    <span class="md-ellipsis">
      FRanalysisResult
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope" class="md-nav__link">
    <span class="md-ellipsis">
      Oscilloscope
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Oscilloscope">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.acquisition" class="md-nav__link">
    <span class="md-ellipsis">
      acquisition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.trigger" class="md-nav__link">
    <span class="md-ellipsis">
      trigger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.auto_scale" class="md-nav__link">
    <span class="md-ellipsis">
      auto_scale
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.configure_fft" class="md-nav__link">
    <span class="md-ellipsis">
      configure_fft
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.configure_trigger" class="md-nav__link">
    <span class="md-ellipsis">
      configure_trigger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.display_channel" class="md-nav__link">
    <span class="md-ellipsis">
      display_channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.fft_display" class="md-nav__link">
    <span class="md-ellipsis">
      fft_display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.franalysis_sweep" class="md-nav__link">
    <span class="md-ellipsis">
      franalysis_sweep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.function_display" class="md-nav__link">
    <span class="md-ellipsis">
      function_display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.get_channel_axis" class="md-nav__link">
    <span class="md-ellipsis">
      get_channel_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.get_probe_attenuation" class="md-nav__link">
    <span class="md-ellipsis">
      get_probe_attenuation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.get_sampling_rate" class="md-nav__link">
    <span class="md-ellipsis">
      get_sampling_rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.get_time_axis" class="md-nav__link">
    <span class="md-ellipsis">
      get_time_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.health_check" class="md-nav__link">
    <span class="md-ellipsis">
      health_check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.lock_panel" class="md-nav__link">
    <span class="md-ellipsis">
      lock_panel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.measure_rms_voltage" class="md-nav__link">
    <span class="md-ellipsis">
      measure_rms_voltage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.measure_voltage_peak_to_peak" class="md-nav__link">
    <span class="md-ellipsis">
      measure_voltage_peak_to_peak
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.read_channels" class="md-nav__link">
    <span class="md-ellipsis">
      read_channels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.read_fft_data" class="md-nav__link">
    <span class="md-ellipsis">
      read_fft_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.screenshot" class="md-nav__link">
    <span class="md-ellipsis">
      screenshot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_acquisition_time" class="md-nav__link">
    <span class="md-ellipsis">
      set_acquisition_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_bandwidth_limit" class="md-nav__link">
    <span class="md-ellipsis">
      set_bandwidth_limit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_channel_axis" class="md-nav__link">
    <span class="md-ellipsis">
      set_channel_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_probe_attenuation" class="md-nav__link">
    <span class="md-ellipsis">
      set_probe_attenuation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_sample_rate" class="md-nav__link">
    <span class="md-ellipsis">
      set_sample_rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_time_axis" class="md-nav__link">
    <span class="md-ellipsis">
      set_time_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_amp" class="md-nav__link">
    <span class="md-ellipsis">
      set_wave_gen_amp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_freq" class="md-nav__link">
    <span class="md-ellipsis">
      set_wave_gen_freq
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_func" class="md-nav__link">
    <span class="md-ellipsis">
      set_wave_gen_func
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_offset" class="md-nav__link">
    <span class="md-ellipsis">
      set_wave_gen_offset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_dc" class="md-nav__link">
    <span class="md-ellipsis">
      set_wgen_dc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_noise" class="md-nav__link">
    <span class="md-ellipsis">
      set_wgen_noise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_pulse" class="md-nav__link">
    <span class="md-ellipsis">
      set_wgen_pulse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_ramp" class="md-nav__link">
    <span class="md-ellipsis">
      set_wgen_ramp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_sin" class="md-nav__link">
    <span class="md-ellipsis">
      set_wgen_sin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_square" class="md-nav__link">
    <span class="md-ellipsis">
      set_wgen_square
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Oscilloscope.wave_gen" class="md-nav__link">
    <span class="md-ellipsis">
      wave_gen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble" class="md-nav__link">
    <span class="md-ellipsis">
      Preamble
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preamble">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.format" class="md-nav__link">
    <span class="md-ellipsis">
      format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.points" class="md-nav__link">
    <span class="md-ellipsis">
      points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.type" class="md-nav__link">
    <span class="md-ellipsis">
      type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.xinc" class="md-nav__link">
    <span class="md-ellipsis">
      xinc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.xorg" class="md-nav__link">
    <span class="md-ellipsis">
      xorg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.xref" class="md-nav__link">
    <span class="md-ellipsis">
      xref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.yinc" class="md-nav__link">
    <span class="md-ellipsis">
      yinc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.yorg" class="md-nav__link">
    <span class="md-ellipsis">
      yorg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble.yref" class="md-nav__link">
    <span class="md-ellipsis">
      yref
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.Preamble-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade" class="md-nav__link">
    <span class="md-ellipsis">
      ScopeAcquisitionFacade
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ScopeAcquisitionFacade">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.analyze_all_segments" class="md-nav__link">
    <span class="md-ellipsis">
      analyze_all_segments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquire_points" class="md-nav__link">
    <span class="md-ellipsis">
      get_acquire_points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquire_setup" class="md-nav__link">
    <span class="md-ellipsis">
      get_acquire_setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_average_count" class="md-nav__link">
    <span class="md-ellipsis">
      get_acquisition_average_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_mode" class="md-nav__link">
    <span class="md-ellipsis">
      get_acquisition_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_sample_rate" class="md-nav__link">
    <span class="md-ellipsis">
      get_acquisition_sample_rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_acquisition_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_segment_index" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_segmented_count" class="md-nav__link">
    <span class="md-ellipsis">
      get_segmented_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_acquisition_average_count" class="md-nav__link">
    <span class="md-ellipsis">
      set_acquisition_average_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_acquisition_mode" class="md-nav__link">
    <span class="md-ellipsis">
      set_acquisition_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_acquisition_type" class="md-nav__link">
    <span class="md-ellipsis">
      set_acquisition_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_segment_index" class="md-nav__link">
    <span class="md-ellipsis">
      set_segment_index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_segmented_count" class="md-nav__link">
    <span class="md-ellipsis">
      set_segmented_count
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade" class="md-nav__link">
    <span class="md-ellipsis">
      ScopeChannelFacade
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ScopeChannelFacade">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade.disable" class="md-nav__link">
    <span class="md-ellipsis">
      disable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade.enable" class="md-nav__link">
    <span class="md-ellipsis">
      enable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade.measure_peak_to_peak" class="md-nav__link">
    <span class="md-ellipsis">
      measure_peak_to_peak
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade.measure_rms" class="md-nav__link">
    <span class="md-ellipsis">
      measure_rms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade.setup" class="md-nav__link">
    <span class="md-ellipsis">
      setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeTriggerFacade" class="md-nav__link">
    <span class="md-ellipsis">
      ScopeTriggerFacade
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ScopeTriggerFacade">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeTriggerFacade-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Oscilloscope.ScopeTriggerFacade.setup_edge" class="md-nav__link">
    <span class="md-ellipsis">
      setup_edge
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#power-supply" class="md-nav__link">
    <span class="md-ellipsis">
      Power Supply
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply" class="md-nav__link">
    <span class="md-ellipsis">
      PowerSupply
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PowerSupply">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig" class="md-nav__link">
    <span class="md-ellipsis">
      PSUChannelConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PSUChannelConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.current" class="md-nav__link">
    <span class="md-ellipsis">
      current
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.state" class="md-nav__link">
    <span class="md-ellipsis">
      state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.voltage" class="md-nav__link">
    <span class="md-ellipsis">
      voltage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      __repr__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade" class="md-nav__link">
    <span class="md-ellipsis">
      PSUChannelFacade
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PSUChannelFacade">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade.get_current" class="md-nav__link">
    <span class="md-ellipsis">
      get_current
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade.get_output_state" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade.get_voltage" class="md-nav__link">
    <span class="md-ellipsis">
      get_voltage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade.off" class="md-nav__link">
    <span class="md-ellipsis">
      off
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade.on" class="md-nav__link">
    <span class="md-ellipsis">
      on
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PSUChannelFacade.set" class="md-nav__link">
    <span class="md-ellipsis">
      set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply" class="md-nav__link">
    <span class="md-ellipsis">
      PowerSupply
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PowerSupply">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.SCPI_MAP" class="md-nav__link">
    <span class="md-ellipsis">
      SCPI_MAP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.model_config" class="md-nav__link">
    <span class="md-ellipsis">
      model_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.display" class="md-nav__link">
    <span class="md-ellipsis">
      display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.get_configuration" class="md-nav__link">
    <span class="md-ellipsis">
      get_configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.id" class="md-nav__link">
    <span class="md-ellipsis">
      id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.output" class="md-nav__link">
    <span class="md-ellipsis">
      output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.read_current" class="md-nav__link">
    <span class="md-ellipsis">
      read_current
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.read_voltage" class="md-nav__link">
    <span class="md-ellipsis">
      read_voltage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.reset" class="md-nav__link">
    <span class="md-ellipsis">
      reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.set_current" class="md-nav__link">
    <span class="md-ellipsis">
      set_current
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerSupply.PowerSupply.set_voltage" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#waveform-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Waveform Generator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      WaveformGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WaveformGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WAVEFORM_PARAM_COMMANDS" class="md-nav__link">
    <span class="md-ellipsis">
      WAVEFORM_PARAM_COMMANDS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo" class="md-nav__link">
    <span class="md-ellipsis">
      FileSystemInfo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FileSystemInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_free" class="md-nav__link">
    <span class="md-ellipsis">
      bytes_free
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_used" class="md-nav__link">
    <span class="md-ellipsis">
      bytes_used
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo.files" class="md-nav__link">
    <span class="md-ellipsis">
      files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade" class="md-nav__link">
    <span class="md-ellipsis">
      WGChannelFacade
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WGChannelFacade">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.disable" class="md-nav__link">
    <span class="md-ellipsis">
      disable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.enable" class="md-nav__link">
    <span class="md-ellipsis">
      enable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.set_load_impedance" class="md-nav__link">
    <span class="md-ellipsis">
      set_load_impedance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.set_voltage_unit" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage_unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_arbitrary" class="md-nav__link">
    <span class="md-ellipsis">
      setup_arbitrary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_dc" class="md-nav__link">
    <span class="md-ellipsis">
      setup_dc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_pulse" class="md-nav__link">
    <span class="md-ellipsis">
      setup_pulse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_ramp" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ramp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_sine" class="md-nav__link">
    <span class="md-ellipsis">
      setup_sine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_square" class="md-nav__link">
    <span class="md-ellipsis">
      setup_square
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult" class="md-nav__link">
    <span class="md-ellipsis">
      WaveformConfigResult
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WaveformConfigResult">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.amplitude" class="md-nav__link">
    <span class="md-ellipsis">
      amplitude
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.duty_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      duty_cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.frequency" class="md-nav__link">
    <span class="md-ellipsis">
      frequency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.function" class="md-nav__link">
    <span class="md-ellipsis">
      function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.load_impedance" class="md-nav__link">
    <span class="md-ellipsis">
      load_impedance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.offset" class="md-nav__link">
    <span class="md-ellipsis">
      offset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.output_state" class="md-nav__link">
    <span class="md-ellipsis">
      output_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.phase" class="md-nav__link">
    <span class="md-ellipsis">
      phase
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.symmetry" class="md-nav__link">
    <span class="md-ellipsis">
      symmetry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.voltage_unit" class="md-nav__link">
    <span class="md-ellipsis">
      voltage_unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      WaveformGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WaveformGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.channel_count" class="md-nav__link">
    <span class="md-ellipsis">
      channel_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.model_config" class="md-nav__link">
    <span class="md-ellipsis">
      model_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.apply_waveform_settings" class="md-nav__link">
    <span class="md-ellipsis">
      apply_waveform_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.clear_volatile_arbitrary_waveforms" class="md-nav__link">
    <span class="md-ellipsis">
      clear_volatile_arbitrary_waveforms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.delete_file_or_folder" class="md-nav__link">
    <span class="md-ellipsis">
      delete_file_or_folder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.download_arbitrary_waveform_data" class="md-nav__link">
    <span class="md-ellipsis">
      download_arbitrary_waveform_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.download_arbitrary_waveform_data_binary" class="md-nav__link">
    <span class="md-ellipsis">
      download_arbitrary_waveform_data_binary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.download_arbitrary_waveform_data_csv" class="md-nav__link">
    <span class="md-ellipsis">
      download_arbitrary_waveform_data_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.enable_burst" class="md-nav__link">
    <span class="md-ellipsis">
      enable_burst
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.enable_modulation" class="md-nav__link">
    <span class="md-ellipsis">
      enable_modulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.enable_sweep" class="md-nav__link">
    <span class="md-ellipsis">
      enable_sweep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_amplitude" class="md-nav__link">
    <span class="md-ellipsis">
      get_amplitude
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_angle_unit" class="md-nav__link">
    <span class="md-ellipsis">
      get_angle_unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_arbitrary_waveform_points" class="md-nav__link">
    <span class="md-ellipsis">
      get_arbitrary_waveform_points
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_arbitrary_waveform_sample_rate" class="md-nav__link">
    <span class="md-ellipsis">
      get_arbitrary_waveform_sample_rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_channel_configuration_summary" class="md-nav__link">
    <span class="md-ellipsis">
      get_channel_configuration_summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_complete_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_complete_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_free_volatile_arbitrary_memory" class="md-nav__link">
    <span class="md-ellipsis">
      get_free_volatile_arbitrary_memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_frequency" class="md-nav__link">
    <span class="md-ellipsis">
      get_frequency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_function" class="md-nav__link">
    <span class="md-ellipsis">
      get_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_offset" class="md-nav__link">
    <span class="md-ellipsis">
      get_offset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_output_load_impedance" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_load_impedance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_output_polarity" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_polarity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_output_state" class="md-nav__link">
    <span class="md-ellipsis">
      get_output_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_phase" class="md-nav__link">
    <span class="md-ellipsis">
      get_phase
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_phase_unlock_error_state" class="md-nav__link">
    <span class="md-ellipsis">
      get_phase_unlock_error_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_duty_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_duty_cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_hold_mode" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_hold_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_period" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_period
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_transition_both" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_transition_both
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_transition_leading" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_transition_leading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_transition_trailing" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_transition_trailing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_width" class="md-nav__link">
    <span class="md-ellipsis">
      get_pulse_width
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_ramp_symmetry" class="md-nav__link">
    <span class="md-ellipsis">
      get_ramp_symmetry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_selected_arbitrary_waveform_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_selected_arbitrary_waveform_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_square_duty_cycle" class="md-nav__link">
    <span class="md-ellipsis">
      get_square_duty_cycle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_square_period" class="md-nav__link">
    <span class="md-ellipsis">
      get_square_period
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_mode" class="md-nav__link">
    <span class="md-ellipsis">
      get_sync_output_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_polarity" class="md-nav__link">
    <span class="md-ellipsis">
      get_sync_output_polarity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_source" class="md-nav__link">
    <span class="md-ellipsis">
      get_sync_output_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_state" class="md-nav__link">
    <span class="md-ellipsis">
      get_sync_output_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_autorange_state" class="md-nav__link">
    <span class="md-ellipsis">
      get_voltage_autorange_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_limit_high" class="md-nav__link">
    <span class="md-ellipsis">
      get_voltage_limit_high
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_limit_low" class="md-nav__link">
    <span class="md-ellipsis">
      get_voltage_limit_low
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_limits_state" class="md-nav__link">
    <span class="md-ellipsis">
      get_voltage_limits_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_unit" class="md-nav__link">
    <span class="md-ellipsis">
      get_voltage_unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.list_directory" class="md-nav__link">
    <span class="md-ellipsis">
      list_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.select_arbitrary_waveform" class="md-nav__link">
    <span class="md-ellipsis">
      select_arbitrary_waveform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_am_depth" class="md-nav__link">
    <span class="md-ellipsis">
      set_am_depth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_am_source" class="md-nav__link">
    <span class="md-ellipsis">
      set_am_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_amplitude" class="md-nav__link">
    <span class="md-ellipsis">
      set_amplitude
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_angle_unit" class="md-nav__link">
    <span class="md-ellipsis">
      set_angle_unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_arbitrary_waveform_sample_rate" class="md-nav__link">
    <span class="md-ellipsis">
      set_arbitrary_waveform_sample_rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_burst_cycles" class="md-nav__link">
    <span class="md-ellipsis">
      set_burst_cycles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_burst_mode" class="md-nav__link">
    <span class="md-ellipsis">
      set_burst_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_burst_period" class="md-nav__link">
    <span class="md-ellipsis">
      set_burst_period
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_fm_deviation" class="md-nav__link">
    <span class="md-ellipsis">
      set_fm_deviation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_frequency" class="md-nav__link">
    <span class="md-ellipsis">
      set_frequency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_function" class="md-nav__link">
    <span class="md-ellipsis">
      set_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_offset" class="md-nav__link">
    <span class="md-ellipsis">
      set_offset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_output_load_impedance" class="md-nav__link">
    <span class="md-ellipsis">
      set_output_load_impedance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_output_polarity" class="md-nav__link">
    <span class="md-ellipsis">
      set_output_polarity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_output_state" class="md-nav__link">
    <span class="md-ellipsis">
      set_output_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_phase" class="md-nav__link">
    <span class="md-ellipsis">
      set_phase
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_phase_reference" class="md-nav__link">
    <span class="md-ellipsis">
      set_phase_reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_phase_unlock_error_state" class="md-nav__link">
    <span class="md-ellipsis">
      set_phase_unlock_error_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_spacing" class="md-nav__link">
    <span class="md-ellipsis">
      set_sweep_spacing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_start_frequency" class="md-nav__link">
    <span class="md-ellipsis">
      set_sweep_start_frequency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_stop_frequency" class="md-nav__link">
    <span class="md-ellipsis">
      set_sweep_stop_frequency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_time" class="md-nav__link">
    <span class="md-ellipsis">
      set_sweep_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_mode" class="md-nav__link">
    <span class="md-ellipsis">
      set_sync_output_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_polarity" class="md-nav__link">
    <span class="md-ellipsis">
      set_sync_output_polarity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_source" class="md-nav__link">
    <span class="md-ellipsis">
      set_sync_output_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_state" class="md-nav__link">
    <span class="md-ellipsis">
      set_sync_output_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_trigger_slope" class="md-nav__link">
    <span class="md-ellipsis">
      set_trigger_slope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_trigger_source" class="md-nav__link">
    <span class="md-ellipsis">
      set_trigger_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_autorange_state" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage_autorange_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_limit_high" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage_limit_high
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_limit_low" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage_limit_low
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_limits_state" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage_limits_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_unit" class="md-nav__link">
    <span class="md-ellipsis">
      set_voltage_unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.synchronize_phase_all_channels" class="md-nav__link">
    <span class="md-ellipsis">
      synchronize_phase_all_channels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.WaveformGenerator.WaveformGenerator.trigger_now" class="md-nav__link">
    <span class="md-ellipsis">
      trigger_now
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multimeter" class="md-nav__link">
    <span class="md-ellipsis">
      Multimeter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter" class="md-nav__link">
    <span class="md-ellipsis">
      Multimeter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multimeter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.logger" class="md-nav__link">
    <span class="md-ellipsis">
      logger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter" class="md-nav__link">
    <span class="md-ellipsis">
      Multimeter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Multimeter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.configure_measurement" class="md-nav__link">
    <span class="md-ellipsis">
      configure_measurement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.get_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.measure" class="md-nav__link">
    <span class="md-ellipsis">
      measure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.set_measurement_function" class="md-nav__link">
    <span class="md-ellipsis">
      set_measurement_function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.Multimeter.set_trigger_source" class="md-nav__link">
    <span class="md-ellipsis">
      set_trigger_source
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult" class="md-nav__link">
    <span class="md-ellipsis">
      MultimeterConfigResult
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MultimeterConfigResult">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.measurement_mode" class="md-nav__link">
    <span class="md-ellipsis">
      measurement_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.range_value" class="md-nav__link">
    <span class="md-ellipsis">
      range_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.resolution" class="md-nav__link">
    <span class="md-ellipsis">
      resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.units" class="md-nav__link">
    <span class="md-ellipsis">
      units
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.Multimeter-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dc-active-load" class="md-nav__link">
    <span class="md-ellipsis">
      DC Active Load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad" class="md-nav__link">
    <span class="md-ellipsis">
      DCActiveLoad
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DCActiveLoad">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad" class="md-nav__link">
    <span class="md-ellipsis">
      DCActiveLoad
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DCActiveLoad">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.current_mode" class="md-nav__link">
    <span class="md-ellipsis">
      current_mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.configure_transient_mode" class="md-nav__link">
    <span class="md-ellipsis">
      configure_transient_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.enable_battery_test" class="md-nav__link">
    <span class="md-ellipsis">
      enable_battery_test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.enable_input" class="md-nav__link">
    <span class="md-ellipsis">
      enable_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.fetch_datalogger_data" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_datalogger_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.fetch_scope_data" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_scope_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.get_battery_test_measurement" class="md-nav__link">
    <span class="md-ellipsis">
      get_battery_test_measurement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.is_input_enabled" class="md-nav__link">
    <span class="md-ellipsis">
      is_input_enabled
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.measure_current" class="md-nav__link">
    <span class="md-ellipsis">
      measure_current
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.measure_power" class="md-nav__link">
    <span class="md-ellipsis">
      measure_power
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.measure_voltage" class="md-nav__link">
    <span class="md-ellipsis">
      measure_voltage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_battery_cutoff_capacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_battery_cutoff_capacity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_battery_cutoff_timer" class="md-nav__link">
    <span class="md-ellipsis">
      set_battery_cutoff_timer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_battery_cutoff_voltage" class="md-nav__link">
    <span class="md-ellipsis">
      set_battery_cutoff_voltage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_load" class="md-nav__link">
    <span class="md-ellipsis">
      set_load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_mode" class="md-nav__link">
    <span class="md-ellipsis">
      set_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_range" class="md-nav__link">
    <span class="md-ellipsis">
      set_range
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_slew_rate" class="md-nav__link">
    <span class="md-ellipsis">
      set_slew_rate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_transient_level" class="md-nav__link">
    <span class="md-ellipsis">
      set_transient_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.short_input" class="md-nav__link">
    <span class="md-ellipsis">
      short_input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.start_transient" class="md-nav__link">
    <span class="md-ellipsis">
      start_transient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad.stop_transient" class="md-nav__link">
    <span class="md-ellipsis">
      stop_transient
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.DCActiveLoad.health_check" class="md-nav__link">
    <span class="md-ellipsis">
      health_check
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectrum-analyzer" class="md-nav__link">
    <span class="md-ellipsis">
      Spectrum Analyzer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser" class="md-nav__link">
    <span class="md-ellipsis">
      SpectrumAnalyser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpectrumAnalyser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult" class="md-nav__link">
    <span class="md-ellipsis">
      PlaceholderMeasurementResult
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PlaceholderMeasurementResult">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.x" class="md-nav__link">
    <span class="md-ellipsis">
      x
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.x_label" class="md-nav__link">
    <span class="md-ellipsis">
      x_label
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.y" class="md-nav__link">
    <span class="md-ellipsis">
      y
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.y_label" class="md-nav__link">
    <span class="md-ellipsis">
      y_label
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser" class="md-nav__link">
    <span class="md-ellipsis">
      SpectrumAnalyser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpectrumAnalyser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser.configure_measurement" class="md-nav__link">
    <span class="md-ellipsis">
      configure_measurement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser.get_trace" class="md-nav__link">
    <span class="md-ellipsis">
      get_trace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-network-analyzer-vna" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Network Analyzer (VNA)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser" class="md-nav__link">
    <span class="md-ellipsis">
      VectorNetworkAnalyser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VectorNetworkAnalyser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.SParameterData" class="md-nav__link">
    <span class="md-ellipsis">
      SParameterData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SParameterData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.SParameterData-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.SParameterData.frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      frequencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.SParameterData.param_names" class="md-nav__link">
    <span class="md-ellipsis">
      param_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.SParameterData.s_params" class="md-nav__link">
    <span class="md-ellipsis">
      s_params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.SParameterData-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser" class="md-nav__link">
    <span class="md-ellipsis">
      VectorNetworkAnalyser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VectorNetworkAnalyser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser.model_config" class="md-nav__link">
    <span class="md-ellipsis">
      model_config
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser.configure_s_parameter_sweep" class="md-nav__link">
    <span class="md-ellipsis">
      configure_s_parameter_sweep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser.get_s_parameter_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_s_parameter_data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#power-meter" class="md-nav__link">
    <span class="md-ellipsis">
      Power Meter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerMeter" class="md-nav__link">
    <span class="md-ellipsis">
      PowerMeter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PowerMeter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerMeter-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerMeter.PowerMeter" class="md-nav__link">
    <span class="md-ellipsis">
      PowerMeter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PowerMeter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerMeter.PowerMeter-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerMeter.PowerMeter.configure_sensor" class="md-nav__link">
    <span class="md-ellipsis">
      configure_sensor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pytestlab.instruments.PowerMeter.PowerMeter.read_power" class="md-nav__link">
    <span class="md-ellipsis">
      read_power
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#facade-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Facade Pattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulation-support" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation Support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-drivers" class="md-nav__link">
    <span class="md-ellipsis">
      Extending Drivers
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backends
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../measurements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Measurements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Experiments & Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Errors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common Utilities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Instrument Profiles
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Instrument Profiles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiles/gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profile Gallery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiles/creating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Profiles
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="instrument-drivers">Instrument Drivers</h1>
<p>This section documents the main instrument driver classes provided by PyTestLab. All drivers support both real and simulated backends, and expose a modern, async-first API.</p>
<hr />
<h2 id="core-instrument-classes">Core Instrument Classes</h2>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.AutoInstrument" class="doc doc-heading">
            <code>pytestlab.instruments.AutoInstrument</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.AutoInstrument-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.AutoInstrument.AutoInstrument" class="doc doc-heading">
            <code>AutoInstrument</code>


</h4>


    <div class="doc doc-contents ">


        <p>A factory class for creating and configuring instrument objects.</p>
<p>This class provides a high-level interface to instantiate various types of
instruments based on configuration files, instrument types, or other
identifiers. It handles the complexities of locating configuration data,
selecting the appropriate communication backend (e.g., VISA, simulation),
and initializing the correct instrument driver.</p>
<p>The primary methods are <code>from_config</code> for creating an instrument from a
configuration source and <code>from_type</code> for creating one based on a generic
instrument category.</p>










  <div class="doc doc-children">







<h5 id="pytestlab.instruments.AutoInstrument.AutoInstrument-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.AutoInstrument.AutoInstrument.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config_source</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">serial_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">simulate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">backend_type_hint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">address_override</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout_override_ms</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Initializes an instrument from a configuration source.</p>
<p>This is the primary factory method for creating instrument instances. It
orchestrates the entire setup process:
1. Loads configuration from a dictionary, a local file, or a CDN URL.
2. Determines whether to run in simulation or live mode.
3. Selects and instantiates the appropriate communication backend (Sim, VISA, Lamb).
4. Instantiates the final instrument driver with the config and backend.</p>
<p>Note: This method creates and configures the instrument object but does not
establish the connection. The caller must explicitly call <code>await
instrument.connect_backend()</code> on the returned object.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config_source</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A dictionary containing the configuration, a string
           identifier for a CDN/local profile, or a file path.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>serial_number</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>An optional serial number to override the one in the config.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>debug_mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, prints detailed logs during the setup process.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>simulate</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Explicitly enable or disable simulation mode, overriding
      environment variables and config settings.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>backend_type_hint</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Manually specify the backend ('visa' or 'lamb'),
               bypassing automatic detection.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>address_override</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Use a specific communication address, overriding the
              one in the config.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout_override_ms</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Use a specific communication timeout in milliseconds.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<span title="typing.Any">Any</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>An initialized instrument object ready to be connected.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the configuration source is a string and the
               corresponding file cannot be found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConfigurationError(instrument=None, message='') (pytestlab.errors.InstrumentConfigurationError)" href="../errors/#pytestlab.errors.InstrumentConfigurationError">InstrumentConfigurationError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the configuration is invalid or a
                          required setting is missing.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="TypeError">TypeError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If <code>config_source</code> is not a dictionary or a string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/AutoInstrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AutoInstrument</span><span class="p">],</span>
                <span class="n">config_source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
                <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                <span class="n">serial_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="c1"># For logging during config load</span>
                <span class="n">simulate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">backend_type_hint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">address_override</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">timeout_override_ms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
               <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Instrument</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span> <span class="c1"># Returns an instance of a subclass of Instrument</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes an instrument from a configuration source.</span>

<span class="sd">    This is the primary factory method for creating instrument instances. It</span>
<span class="sd">    orchestrates the entire setup process:</span>
<span class="sd">    1. Loads configuration from a dictionary, a local file, or a CDN URL.</span>
<span class="sd">    2. Determines whether to run in simulation or live mode.</span>
<span class="sd">    3. Selects and instantiates the appropriate communication backend (Sim, VISA, Lamb).</span>
<span class="sd">    4. Instantiates the final instrument driver with the config and backend.</span>

<span class="sd">    Note: This method creates and configures the instrument object but does not</span>
<span class="sd">    establish the connection. The caller must explicitly call `await</span>
<span class="sd">    instrument.connect_backend()` on the returned object.</span>

<span class="sd">    Args:</span>
<span class="sd">        config_source: A dictionary containing the configuration, a string</span>
<span class="sd">                       identifier for a CDN/local profile, or a file path.</span>
<span class="sd">        serial_number: An optional serial number to override the one in the config.</span>
<span class="sd">        debug_mode: If True, prints detailed logs during the setup process.</span>
<span class="sd">        simulate: Explicitly enable or disable simulation mode, overriding</span>
<span class="sd">                  environment variables and config settings.</span>
<span class="sd">        backend_type_hint: Manually specify the backend (&#39;visa&#39; or &#39;lamb&#39;),</span>
<span class="sd">                           bypassing automatic detection.</span>
<span class="sd">        address_override: Use a specific communication address, overriding the</span>
<span class="sd">                          one in the config.</span>
<span class="sd">        timeout_override_ms: Use a specific communication timeout in milliseconds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An initialized instrument object ready to be connected.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If the configuration source is a string and the</span>
<span class="sd">                           corresponding file cannot be found.</span>
<span class="sd">        InstrumentConfigurationError: If the configuration is invalid or a</span>
<span class="sd">                                      required setting is missing.</span>
<span class="sd">        TypeError: If `config_source` is not a dictionary or a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Support serial_number as positional second argument</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">serial_number</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">config_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>

    <span class="c1"># Step 1: Load configuration data from the provided source</span>
    <span class="n">config_model</span><span class="p">:</span> <span class="n">PydanticInstrumentConfig</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config_source</span><span class="p">,</span> <span class="n">PydanticInstrumentConfig</span><span class="p">):</span>
        <span class="n">config_model</span> <span class="o">=</span> <span class="n">config_source</span>
        <span class="n">config_data</span> <span class="o">=</span> <span class="n">config_model</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config_source</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">config_data</span> <span class="o">=</span> <span class="n">config_source</span>
        <span class="n">config_model</span> <span class="o">=</span> <span class="n">load_profile</span><span class="p">(</span><span class="n">config_data</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config_source</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Try fetching from the CDN first</span>
            <span class="n">config_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_config_from_cdn</span><span class="p">(</span><span class="n">config_source</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully loaded configuration for &#39;</span><span class="si">{</span><span class="n">config_source</span><span class="si">}</span><span class="s2">&#39; from CDN.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Fallback to local file system if not found on CDN</span>
                <span class="n">config_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_config_from_local</span><span class="p">(</span><span class="n">config_source</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully loaded configuration for &#39;</span><span class="si">{</span><span class="n">config_source</span><span class="si">}</span><span class="s2">&#39; from local.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
                <span class="c1"># If not found in either location, raise an error</span>
                <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configuration &#39;</span><span class="si">{</span><span class="n">config_source</span><span class="si">}</span><span class="s2">&#39; not found in CDN or local paths.&quot;</span><span class="p">)</span>
        <span class="n">config_model</span> <span class="o">=</span> <span class="n">load_profile</span><span class="p">(</span><span class="n">config_data</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;config_source must be a file path (str), a dict, or an InstrumentConfig object.&quot;</span><span class="p">)</span>

    <span class="c1"># Override the serial number in the config if one is provided as an argument</span>
    <span class="k">if</span> <span class="n">serial_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s1">&#39;serial_number&#39;</span><span class="p">):</span>
        <span class="n">config_model</span><span class="o">.</span><span class="n">serial_number</span> <span class="o">=</span> <span class="n">serial_number</span> <span class="c1"># type: ignore</span>

    <span class="n">backend_instance</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span>

    <span class="c1"># Step 2: Determine the final simulation mode based on a clear priority</span>
    <span class="n">final_simulation_mode</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="k">if</span> <span class="n">simulate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Highest priority: explicit argument to the function</span>
        <span class="n">final_simulation_mode</span> <span class="o">=</span> <span class="n">simulate</span>
        <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Simulation mode explicitly set to </span><span class="si">{</span><span class="n">final_simulation_mode</span><span class="si">}</span><span class="s2"> by argument.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Second priority: environment variable</span>
        <span class="n">env_simulate</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;PYTESTLAB_SIMULATE&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">env_simulate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">final_simulation_mode</span> <span class="o">=</span> <span class="n">env_simulate</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Simulation mode set to </span><span class="si">{</span><span class="n">final_simulation_mode</span><span class="si">}</span><span class="s2"> by PYTESTLAB_SIMULATE environment variable.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Lowest priority: default to False</span>
            <span class="n">final_simulation_mode</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Simulation mode defaulted to </span><span class="si">{</span><span class="n">final_simulation_mode</span><span class="si">}</span><span class="s2"> (no explicit argument or PYTESTLAB_SIMULATE).&quot;</span><span class="p">)</span>

    <span class="c1"># Step 3: Determine the actual communication address and timeout</span>
    <span class="n">actual_address</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">address_override</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Argument override has the highest priority for address</span>
        <span class="n">actual_address</span> <span class="o">=</span> <span class="n">address_override</span>
        <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Address overridden to &#39;</span><span class="si">{</span><span class="n">actual_address</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Otherwise, get the address from the configuration data</span>
        <span class="n">actual_address</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s1">&#39;resource_name&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Address from config: &#39;</span><span class="si">{</span><span class="n">actual_address</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="n">actual_timeout</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">default_communication_timeout_ms</span> <span class="o">=</span> <span class="mi">30000</span> <span class="c1"># Default if not in override or config</span>
    <span class="k">if</span> <span class="n">timeout_override_ms</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">actual_timeout</span> <span class="o">=</span> <span class="n">timeout_override_ms</span>
        <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Timeout overridden to </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Assuming &#39;communication.timeout_ms&#39; or &#39;communication_timeout_ms&#39; might exist</span>
        <span class="c1"># Prefer &#39;communication_timeout_ms&#39; as per previous logic if &#39;communication&#39; object isn&#39;t standard</span>
        <span class="n">timeout_from_config</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s1">&#39;communication_timeout_ms&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s1">&#39;communication&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config_model</span><span class="o">.</span><span class="n">communication</span><span class="p">,</span> <span class="s1">&#39;timeout_ms&#39;</span><span class="p">):</span> <span class="c1"># type: ignore</span>
             <span class="n">timeout_from_config</span> <span class="o">=</span> <span class="n">config_model</span><span class="o">.</span><span class="n">communication</span><span class="o">.</span><span class="n">timeout_ms</span> <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">timeout_from_config</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">timeout_from_config</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">actual_timeout</span> <span class="o">=</span> <span class="n">timeout_from_config</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Timeout from config: </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">actual_timeout</span> <span class="o">=</span> <span class="n">default_communication_timeout_ms</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Invalid or missing timeout in config, using default </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">actual_timeout</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">actual_timeout</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># Final safety check</span>
        <span class="n">actual_timeout</span> <span class="o">=</span> <span class="n">default_communication_timeout_ms</span>
        <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Corrected invalid timeout to default </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms.&quot;</span><span class="p">)</span>


    <span class="c1"># Step 4: Instantiate the appropriate backend based on the mode and configuration</span>
    <span class="k">if</span> <span class="n">final_simulation_mode</span><span class="p">:</span>
        <span class="c1"># Helper to resolve sim profile path</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">resolve_sim_profile_path</span><span class="p">(</span><span class="n">profile_key_or_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="c1"># 1. User override in ~/.pytestlab/profiles</span>
            <span class="n">user_profile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;~/.pytestlab/profiles&quot;</span><span class="p">,</span> <span class="n">profile_key_or_path</span> <span class="o">+</span> <span class="s2">&quot;.yaml&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">user_profile</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">user_profile</span>
            <span class="c1"># 2. User sim_profiles (legacy)</span>
            <span class="n">user_sim_profile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;~/.pytestlab/sim_profiles&quot;</span><span class="p">,</span> <span class="n">profile_key_or_path</span> <span class="o">+</span> <span class="s2">&quot;.yaml&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">user_sim_profile</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">user_sim_profile</span>
            <span class="c1"># 3. Package profile</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">pytestlab</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ptl</span>
            <span class="n">pkg_profile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">ptl</span><span class="o">.</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;profiles&quot;</span><span class="p">,</span> <span class="n">profile_key_or_path</span> <span class="o">+</span> <span class="s2">&quot;.yaml&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pkg_profile</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">pkg_profile</span>
            <span class="c1"># 4. Direct path</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">profile_key_or_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">profile_key_or_path</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Simulation profile not found for &#39;</span><span class="si">{</span><span class="n">profile_key_or_path</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="n">device_model_str</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;GenericSimulatedModel&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config_source</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">sim_profile_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">resolve_sim_profile_path</span><span class="p">(</span><span class="n">config_source</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resolved sim profile path: </span><span class="si">{</span><span class="n">sim_profile_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Write dict config to a temp file</span>
            <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.yaml&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">tf</span><span class="p">:</span>
                <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">config_data</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>
                <span class="n">sim_profile_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrote temp sim profile: </span><span class="si">{</span><span class="n">sim_profile_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">backend_instance</span> <span class="o">=</span> <span class="n">SimBackendV2</span><span class="p">(</span>
            <span class="n">profile_path</span><span class="o">=</span><span class="n">sim_profile_path</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">device_model_str</span><span class="p">,</span>
            <span class="n">timeout_ms</span><span class="o">=</span><span class="n">actual_timeout</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Using SimBackendV2 for </span><span class="si">{</span><span class="n">device_model_str</span><span class="si">}</span><span class="s2"> with timeout </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms. Profile: </span><span class="si">{</span><span class="n">sim_profile_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># For live hardware, determine the backend type (VISA or Lamb)</span>
        <span class="k">if</span> <span class="n">backend_type_hint</span><span class="p">:</span>
            <span class="c1"># Explicit hint overrides any inference</span>
            <span class="n">chosen_backend_type</span> <span class="o">=</span> <span class="n">backend_type_hint</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Backend type hint provided: &#39;</span><span class="si">{</span><span class="n">chosen_backend_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">actual_address</span> <span class="ow">and</span> <span class="s2">&quot;LAMB::&quot;</span> <span class="ow">in</span> <span class="n">actual_address</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
            <span class="c1"># Infer &#39;lamb&#39; backend from the address format</span>
            <span class="n">chosen_backend_type</span> <span class="o">=</span> <span class="s1">&#39;lamb&#39;</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Inferred backend type: &#39;lamb&#39; from address &#39;</span><span class="si">{</span><span class="n">actual_address</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">actual_address</span><span class="p">:</span>
            <span class="c1"># Infer &#39;visa&#39; for any other address type</span>
            <span class="n">chosen_backend_type</span> <span class="o">=</span> <span class="s1">&#39;visa&#39;</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Inferred backend type: &#39;visa&#39; from address &#39;</span><span class="si">{</span><span class="n">actual_address</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Default to &#39;lamb&#39; if no address is provided (e.g., for remote discovery)</span>
            <span class="n">chosen_backend_type</span> <span class="o">=</span> <span class="s1">&#39;lamb&#39;</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defaulting backend type to &#39;lamb&#39; (no address present).&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">chosen_backend_type</span> <span class="o">==</span> <span class="s1">&#39;visa&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">actual_address</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                    <span class="n">config_source</span><span class="p">,</span> <span class="s2">&quot;Missing address/resource_name for VISA backend.&quot;</span>
                <span class="p">)</span>
            <span class="n">backend_instance</span> <span class="o">=</span> <span class="n">AsyncVisaBackend</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">actual_address</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="n">actual_timeout</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using AsyncVisaBackend for &#39;</span><span class="si">{</span><span class="n">actual_address</span><span class="si">}</span><span class="s2">&#39; with timeout </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">chosen_backend_type</span> <span class="o">==</span> <span class="s1">&#39;lamb&#39;</span><span class="p">:</span>
            <span class="n">lamb_server_url</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s1">&#39;lamb_url&#39;</span><span class="p">,</span> <span class="s1">&#39;http://lamb-server:8000&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">actual_address</span><span class="p">:</span>
                <span class="n">backend_instance</span> <span class="o">=</span> <span class="n">AsyncLambBackend</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="n">actual_address</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">lamb_server_url</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="n">actual_timeout</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s2">&quot;model&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s2">&quot;serial_number&quot;</span><span class="p">):</span>
                <span class="n">backend_instance</span> <span class="o">=</span> <span class="n">AsyncLambBackend</span><span class="p">(</span>
                    <span class="n">address</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">url</span><span class="o">=</span><span class="n">lamb_server_url</span><span class="p">,</span>
                    <span class="n">timeout_ms</span><span class="o">=</span><span class="n">actual_timeout</span><span class="p">,</span>
                    <span class="n">model_name</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s2">&quot;model&quot;</span><span class="p">),</span>
                    <span class="n">serial_number</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span> <span class="s2">&quot;serial_number&quot;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                    <span class="n">config_source</span><span class="p">,</span>
                    <span class="s2">&quot;Lamb backend requires either an address or both model and serial_number in the config.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using AsyncLambBackend for model=&#39;</span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;model&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, serial=&#39;</span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">config_model</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;serial_number&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; via &#39;</span><span class="si">{</span><span class="n">lamb_server_url</span><span class="si">}</span><span class="s2">&#39; with timeout </span><span class="si">{</span><span class="n">actual_timeout</span><span class="si">}</span><span class="s2">ms.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                <span class="n">config_source</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Unsupported backend_type &#39;</span><span class="si">{</span><span class="n">chosen_backend_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="c1"># Step 5: Instantiate the final instrument driver class</span>
    <span class="n">device_type_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">config_model</span><span class="o">.</span><span class="n">device_type</span>
    <span class="n">instrument_class_to_init</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instrument_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">device_type_str</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">instrument_class_to_init</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="n">config_source</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Unknown device_type: &#39;</span><span class="si">{</span><span class="n">device_type_str</span><span class="si">}</span><span class="s2">&#39;. No registered instrument class.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># The instrument&#39;s constructor receives the parsed configuration model and the</span>
    <span class="c1"># instantiated backend.</span>
    <span class="n">instrument</span> <span class="o">=</span> <span class="n">instrument_class_to_init</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config_model</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="n">backend_instance</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debug_mode</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instantiated </span><span class="si">{</span><span class="n">instrument_class_to_init</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend_instance</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Note: Backend connection is not established by __init__. Call &#39;await instrument.connect_backend()&#39; explicitly.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">instrument</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.AutoInstrument.AutoInstrument.from_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_type</span><span class="p">(</span><span class="n">instrument_type</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Initializes a specific instrument driver based on its type string.</p>
<p>This factory method uses a mapping to find the appropriate instrument class
for a given <code>instrument_type</code> string (e.g., 'oscilloscope') and passes
any additional arguments to its constructor.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instrument_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The type of the instrument to initialize.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Positional arguments to pass to the instrument's constructor.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>()</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Keyword arguments to pass to the instrument's constructor.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>An instance of a specific Instrument subclass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConfigurationError(instrument=None, message='') (pytestlab.errors.InstrumentConfigurationError)" href="../errors/#pytestlab.errors.InstrumentConfigurationError">InstrumentConfigurationError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the instrument_type is not recognized.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/AutoInstrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AutoInstrument</span><span class="p">],</span> <span class="n">instrument_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Instrument</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes a specific instrument driver based on its type string.</span>

<span class="sd">    This factory method uses a mapping to find the appropriate instrument class</span>
<span class="sd">    for a given `instrument_type` string (e.g., &#39;oscilloscope&#39;) and passes</span>
<span class="sd">    any additional arguments to its constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        instrument_type: The type of the instrument to initialize.</span>
<span class="sd">        *args: Positional arguments to pass to the instrument&#39;s constructor.</span>
<span class="sd">        **kwargs: Keyword arguments to pass to the instrument&#39;s constructor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An instance of a specific Instrument subclass.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentConfigurationError: If the instrument_type is not recognized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instrument_class</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instrument_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">instrument_type</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">instrument_class</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">instrument_class</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># type: ignore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="n">instrument_type</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Unknown instrument type: </span><span class="si">{</span><span class="n">instrument_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.AutoInstrument.AutoInstrument.get_config_from_cdn" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config_from_cdn</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches an instrument configuration from a CDN with local caching.</p>
<p>This method attempts to retrieve a configuration file from a predefined
CDN URL. For efficiency, it caches the configuration locally. If a cached
version is available, it's used directly. Otherwise, the file is
downloaded, cached for future use, and then returned.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>identifier</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The unique identifier for the configuration, which is
        used to construct the CDN URL (e.g., 'keysight/dsox1204g').</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The loaded configuration data as a dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the configuration is not found on the CDN.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConfigurationError(instrument=None, message='') (pytestlab.errors.InstrumentConfigurationError)" href="../errors/#pytestlab.errors.InstrumentConfigurationError">InstrumentConfigurationError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the downloaded configuration is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/AutoInstrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_config_from_cdn</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AutoInstrument</span><span class="p">],</span> <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches an instrument configuration from a CDN with local caching.</span>

<span class="sd">    This method attempts to retrieve a configuration file from a predefined</span>
<span class="sd">    CDN URL. For efficiency, it caches the configuration locally. If a cached</span>
<span class="sd">    version is available, it&#39;s used directly. Otherwise, the file is</span>
<span class="sd">    downloaded, cached for future use, and then returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        identifier: The unique identifier for the configuration, which is</span>
<span class="sd">                    used to construct the CDN URL (e.g., &#39;keysight/dsox1204g&#39;).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded configuration data as a dictionary.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If the configuration is not found on the CDN.</span>
<span class="sd">        InstrumentConfigurationError: If the downloaded configuration is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pytestlab</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ptl</span>

    <span class="n">cache_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">ptl</span><span class="o">.</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;cache&quot;</span><span class="p">,</span> <span class="s2">&quot;configs&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">cache_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">cache_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cache_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">.yaml&quot;</span><span class="p">)</span>

    <span class="c1"># Check for a cached version of the configuration first</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cache_file</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">cache_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="k">await</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="n">loaded_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                <span class="c1"># Validate the cached content; if corrupt, proceed to download</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">loaded_config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cache_file</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                        <span class="n">identifier</span><span class="p">,</span> <span class="s2">&quot;Cached config is not a valid dictionary.&quot;</span>
                    <span class="p">)</span>
                <span class="k">return</span> <span class="n">loaded_config</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># If reading the cache fails, remove the broken file and fetch from CDN</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cache read failed for </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">. Fetching from CDN.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cache_file</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cache_file</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                    <span class="k">pass</span>

    <span class="c1"># If not cached, fetch from the official CDN</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://pytestlab.org/config/</span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">.yaml&quot;</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="o">.</span><span class="n">AsyncClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># Raise an exception for bad status codes</span>

            <span class="n">config_text</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
            <span class="n">loaded_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">config_text</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">loaded_config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                    <span class="n">identifier</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;CDN config for </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2"> is not a valid dictionary.&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Cache the newly downloaded configuration</span>
            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">cache_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_text</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">loaded_config</span>
        <span class="k">except</span> <span class="n">httpx</span><span class="o">.</span><span class="n">HTTPStatusError</span> <span class="k">as</span> <span class="n">http_err</span><span class="p">:</span>
            <span class="c1"># Handle HTTP errors, specifically 404 for not found</span>
            <span class="k">if</span> <span class="n">http_err</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
                 <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configuration file not found at </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2"> (HTTP 404).&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">http_err</span>
            <span class="k">else</span><span class="p">:</span>
                 <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to fetch configuration from CDN (</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">): HTTP </span><span class="si">{</span><span class="n">http_err</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">http_err</span>
        <span class="k">except</span> <span class="n">httpx</span><span class="o">.</span><span class="n">RequestError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Handle network-related errors</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to fetch configuration from CDN (</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">ye</span><span class="p">:</span>
            <span class="c1"># Handle errors in parsing the YAML content</span>
            <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                <span class="n">identifier</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Error parsing YAML from CDN for </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">ye</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ye</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.AutoInstrument.AutoInstrument.get_config_from_local" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config_from_local</span><span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">normalized_identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Loads an instrument configuration from the local filesystem.</p>
<p>This method searches for a configuration file in two primary locations:
1. A built-in 'profiles' directory within the PyTestLab package.
2. A direct file path provided by the user.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>identifier</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The identifier for the profile (e.g., 'keysight/dsox1204g')
        or a direct path to a .yaml or .json file.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>normalized_identifier</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A pre-normalized version of the identifier.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The loaded configuration data as a dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If no configuration file can be found at any of the
               searched locations.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConfigurationError(instrument=None, message='') (pytestlab.errors.InstrumentConfigurationError)" href="../errors/#pytestlab.errors.InstrumentConfigurationError">InstrumentConfigurationError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the file is found but is not a valid
                          YAML/JSON dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/AutoInstrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_config_from_local</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AutoInstrument</span><span class="p">],</span> <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">normalized_identifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads an instrument configuration from the local filesystem.</span>

<span class="sd">    This method searches for a configuration file in two primary locations:</span>
<span class="sd">    1. A built-in &#39;profiles&#39; directory within the PyTestLab package.</span>
<span class="sd">    2. A direct file path provided by the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        identifier: The identifier for the profile (e.g., &#39;keysight/dsox1204g&#39;)</span>
<span class="sd">                    or a direct path to a .yaml or .json file.</span>
<span class="sd">        normalized_identifier: A pre-normalized version of the identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded configuration data as a dictionary.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If no configuration file can be found at any of the</span>
<span class="sd">                           searched locations.</span>
<span class="sd">        InstrumentConfigurationError: If the file is found but is not a valid</span>
<span class="sd">                                      YAML/JSON dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pytestlab</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ptl</span>

    <span class="n">norm_id</span> <span class="o">=</span> <span class="n">normalized_identifier</span> <span class="k">if</span> <span class="n">normalized_identifier</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>

    <span class="n">current_file_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">ptl</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
    <span class="n">preset_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_file_directory</span><span class="p">,</span> <span class="s2">&quot;profiles&quot;</span><span class="p">,</span> <span class="n">norm_id</span> <span class="o">+</span> <span class="s1">&#39;.yaml&#39;</span><span class="p">)</span>

    <span class="c1"># Determine the correct file path to load from</span>
    <span class="n">path_to_try</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">preset_path</span><span class="p">):</span>
        <span class="c1"># First, check for a built-in profile matching the identifier</span>
        <span class="n">path_to_try</span> <span class="o">=</span> <span class="n">preset_path</span>
    <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">identifier</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.yaml&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">identifier</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.json&#39;</span><span class="p">)):</span>
        <span class="c1"># Next, check if the identifier is a direct path to an existing file</span>
        <span class="n">path_to_try</span> <span class="o">=</span> <span class="n">identifier</span>

    <span class="k">if</span> <span class="n">path_to_try</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path_to_try</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="k">await</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="n">loaded_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">loaded_config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                        <span class="n">identifier</span><span class="p">,</span>
                        <span class="sa">f</span><span class="s2">&quot;Local config file &#39;</span><span class="si">{</span><span class="n">path_to_try</span><span class="si">}</span><span class="s2">&#39; did not load as a dictionary.&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">return</span> <span class="n">loaded_config</span>
        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">ye</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                <span class="n">identifier</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Error parsing YAML from local file &#39;</span><span class="si">{</span><span class="n">path_to_try</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">ye</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ye</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error reading local config file &#39;</span><span class="si">{</span><span class="n">path_to_try</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No configuration found for identifier &#39;</span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">&#39; in local paths.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.AutoInstrument.AutoInstrument.register_instrument" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_instrument</span><span class="p">(</span><span class="n">instrument_type</span><span class="p">,</span> <span class="n">instrument_class</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Dynamically registers a new custom instrument class.</p>
<p>This allows users to extend PyTestLab with their own instrument drivers.
Once registered, the new instrument type can be used with the factory
methods like <code>from_config</code> and <code>from_type</code>.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instrument_type</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The string identifier for the new instrument type
             (e.g., 'my_custom_scope'). This is case-insensitive.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>instrument_class</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The class object that implements the instrument driver.
              It must be a subclass of <code>pytestlab.Instrument</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<span title="typing.Any">Any</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConfigurationError(instrument=None, message='') (pytestlab.errors.InstrumentConfigurationError)" href="../errors/#pytestlab.errors.InstrumentConfigurationError">InstrumentConfigurationError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the instrument type name is already
                          in use or if the provided class is not a
                          valid subclass of <code>Instrument</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/AutoInstrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">register_instrument</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AutoInstrument</span><span class="p">],</span> <span class="n">instrument_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">instrument_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Instrument</span><span class="p">[</span><span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dynamically registers a new custom instrument class.</span>

<span class="sd">    This allows users to extend PyTestLab with their own instrument drivers.</span>
<span class="sd">    Once registered, the new instrument type can be used with the factory</span>
<span class="sd">    methods like `from_config` and `from_type`.</span>

<span class="sd">    Args:</span>
<span class="sd">        instrument_type: The string identifier for the new instrument type</span>
<span class="sd">                         (e.g., &#39;my_custom_scope&#39;). This is case-insensitive.</span>
<span class="sd">        instrument_class: The class object that implements the instrument driver.</span>
<span class="sd">                          It must be a subclass of `pytestlab.Instrument`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentConfigurationError: If the instrument type name is already</span>
<span class="sd">                                      in use or if the provided class is not a</span>
<span class="sd">                                      valid subclass of `Instrument`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">type_key</span> <span class="o">=</span> <span class="n">instrument_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> 
    <span class="k">if</span> <span class="n">type_key</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instrument_mapping</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="n">instrument_type</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Instrument type &#39;</span><span class="si">{</span><span class="n">instrument_type</span><span class="si">}</span><span class="s2">&#39; already registered with class </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">_instrument_mapping</span><span class="p">[</span><span class="n">type_key</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">instrument_class</span><span class="p">,</span> <span class="n">Instrument</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="n">instrument_type</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Cannot register class </span><span class="si">{</span><span class="n">instrument_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">. It must be a subclass of Instrument.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_instrument_mapping</span><span class="p">[</span><span class="n">type_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">instrument_class</span>
    <span class="c1"># Consider using a logger if available, instead of print</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument type &#39;</span><span class="si">{</span><span class="n">instrument_type</span><span class="si">}</span><span class="s2">&#39; registered with class </span><span class="si">{</span><span class="n">instrument_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h3 id="pytestlab.instruments.AutoInstrument-functions">Functions</h3>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pytestlab.instruments.Instrument" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">pytestlab</span><span class="o">.</span><span class="n">instruments</span><span class="o">.</span><span class="n">Instrument</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Generic">Generic</span>[<span title="pytestlab.instruments.instrument.ConfigType">ConfigType</span>]</code></p>


        <p>Base class for all instrument drivers.</p>
<p>This class provides the core functionality for interacting with an instrument
through a standardized, asynchronous interface. It handles command sending,
querying, error checking, and logging. It is designed to be subclassed for
specific instrument types (e.g., Oscilloscope, PowerSupply).</p>
<p>The <code>Instrument</code> class is generic and typed with <code>ConfigType</code>, which allows
each subclass to specify its own Pydantic configuration model.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="config = config

  
      instance-attribute
   (pytestlab.instruments.Instrument.config)" href="#pytestlab.instruments.Instrument.config">config</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The Pydantic configuration model instance for this
                 instrument.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="pytestlab.instruments.instrument.ConfigType">ConfigType</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Instrument._backend">_backend</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The communication backend used to interact
                          with the hardware or simulation.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="pytestlab.instruments.instrument.AsyncInstrumentIO">AsyncInstrumentIO</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Instrument._command_log">_command_log</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A log of all commands sent and
                                 responses received.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="List">List</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Instrument._logger">_logger</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The logger instance for this instrument.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

        <p>Initialize the Instrument class.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Configuration for the instrument.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pytestlab.instruments.instrument.ConfigType">ConfigType</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>backend</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The communication backend instance.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pytestlab.instruments.instrument.AsyncInstrumentIO">AsyncInstrumentIO</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Additional keyword arguments.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>{}</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigType</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Changed to AsyncInstrumentIO</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Instrument class.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigType): Configuration for the instrument.</span>
<span class="sd">        backend (AsyncInstrumentIO): The communication backend instance.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span> <span class="c1"># Check against the bound base</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;A valid InstrumentConfig-compatible object must be provided, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="c1"># This will be an AsyncInstrumentIO instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_command_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Initializing with backend &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h3 id="pytestlab.instruments.Instrument-attributes">Attributes</h3>

<div class="doc doc-object doc-attribute">



<h4 id="pytestlab.instruments.Instrument.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span> <span class="o">=</span> <span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

    </div>

</div>

<h3 id="pytestlab.instruments.Instrument-functions">Functions</h3>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.clear_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_status</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Clears the instrument's status registers and error queue (*CLS).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">clear_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clears the instrument&#39;s status registers and error queue (*CLS).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;*CLS&quot;</span><span class="p">,</span> <span class="n">skip_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Status registers and error queue cleared (*CLS).&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.close" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">close</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Close the connection to the instrument via the backend.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Close the connection to the instrument via the backend.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">model_name_for_logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">model_name_for_logger</span><span class="si">}</span><span class="s2">&#39;: Closing connection.&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># Changed to use close as per AsyncInstrumentIO</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">model_name_for_logger</span><span class="si">}</span><span class="s2">&#39;: Connection closed.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">model_name_for_logger</span><span class="si">}</span><span class="s2">&#39;: Error during backend close: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.connect_backend" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">connect_backend</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Establishes the connection to the instrument via the backend.</p>
<p>This method must be called after the instrument is instantiated to open
the communication channel. It delegates the connection logic to the
underlying backend.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConnectionError(instrument=None, message='') (pytestlab.errors.InstrumentConnectionError)" href="../errors/#pytestlab.errors.InstrumentConnectionError">InstrumentConnectionError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the backend fails to connect.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect_backend</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Establishes the connection to the instrument via the backend.</span>

<span class="sd">    This method must be called after the instrument is instantiated to open</span>
<span class="sd">    the communication channel. It delegates the connection logic to the</span>
<span class="sd">    underlying backend.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentConnectionError: If the backend fails to connect.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Backend connected.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Failed to connect backend: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="p">,</span> <span class="s1">&#39;disconnect&#39;</span><span class="p">):</span> <span class="c1"># Check if disconnect is available (it should be for AsyncInstrumentIO)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">disc_e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Error disconnecting backend during failed connect: </span><span class="si">{</span><span class="n">disc_e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">InstrumentConnectionError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="n">logger_name</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to connect backend: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Instrument</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">InstrumentConfig</span><span class="p">,</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Instrument</span><span class="p">:</span>
    <span class="c1"># This method will likely need significant changes to support async backends.</span>
    <span class="c1"># For now, it&#39;s a placeholder and might not work correctly with async backends.</span>
    <span class="c1"># It should ideally accept an async_mode flag or similar to determine backend type.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;from_config expects an InstrumentConfig object.&quot;</span>
        <span class="p">)</span>
    <span class="c1"># The backend instantiation is missing here and is crucial.</span>
    <span class="c1"># This will be handled by AutoInstrument.from_config later.</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="s2">&quot;from_config needs to be updated for async backend instantiation.&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.get_all_errors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_errors</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Reads and clears all errors currently present in the instrument's error queue.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_all_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads and clears all errors currently present in the instrument&#39;s error queue.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">errors</span><span class="p">:</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">max_errors_to_read</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_errors_to_read</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">code</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Communication error while reading error queue (iteration </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Returning errors read before communication failure: </span><span class="si">{</span><span class="n">errors</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">errors</span>

        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">code</span><span class="p">,</span> <span class="n">message</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="o">-</span><span class="mi">350</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error queue overflow (-350) detected. Stopping read.&quot;</span><span class="p">)</span>
             <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Read </span><span class="si">{</span><span class="n">max_errors_to_read</span><span class="si">}</span><span class="s2"> errors without reaching &#39;No error&#39;. &quot;</span>
                  <span class="s2">&quot;Error queue might still contain errors or be in an unexpected state.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">errors</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No errors found in instrument queue.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieved </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span><span class="si">}</span><span class="s2"> error(s) from queue: </span><span class="si">{</span><span class="n">errors</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">errors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.get_communication_timeout" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_communication_timeout</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Gets the communication timeout from the backend.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_communication_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the communication timeout from the backend.&quot;&quot;&quot;</span>
    <span class="n">timeout</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">get_timeout</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Communication timeout retrieved from backend: </span><span class="si">{</span><span class="n">timeout</span><span class="si">}</span><span class="s2"> ms.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">timeout</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.get_error" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_error</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Reads and clears the oldest error from the instrument's error queue.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads and clears the oldest error from the instrument&#39;s error queue.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;SYSTem:ERRor?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">code_str</span><span class="p">,</span> <span class="n">msg_part</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code_str</span><span class="p">)</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">msg_part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Unexpected error response format: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;. Raising error.&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="s2">&quot;SYSTem:ERRor?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Could not parse error response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="k">if</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument Error Query: Code=</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">, Message=&#39;</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">code</span><span class="p">,</span> <span class="n">message</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.get_scpi_version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_scpi_version</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Queries the version of the SCPI standard the instrument complies with.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_scpi_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queries the version of the SCPI standard the instrument complies with.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;SYSTem:VERSion?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCPI Version reported: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.health_check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">health_check</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Performs a basic health check of the instrument.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HealthReport</span><span class="p">:</span> <span class="c1"># Type hint HealthReport</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a basic health check of the instrument.&quot;&quot;&quot;</span>
    <span class="c1"># Base implementation could try IDN and error queue check</span>
    <span class="c1"># report = HealthReport() # Initialize HealthReport</span>
    <span class="c1"># try:</span>
    <span class="c1">#     report.instrument_idn = await self.id() # Ensure await for async calls</span>
    <span class="c1">#     instrument_errors = await self.get_all_errors() # Ensure await for async calls</span>
    <span class="c1">#     if instrument_errors:</span>
    <span class="c1">#         report.warnings.extend([f&quot;Stored Error: {code} - {msg}&quot; for code, msg in instrument_errors])</span>
    <span class="c1">#</span>
    <span class="c1">#     if not report.errors and not report.warnings:</span>
    <span class="c1">#          report.status = HealthStatus.OK</span>
    <span class="c1">#     elif report.warnings and not report.errors:</span>
    <span class="c1">#          report.status = HealthStatus.WARNING</span>
    <span class="c1">#     else: # if errors are present</span>
    <span class="c1">#          report.status = HealthStatus.ERROR</span>
    <span class="c1">#</span>
    <span class="c1"># except Exception as e:</span>
    <span class="c1">#     report.status = HealthStatus.ERROR</span>
    <span class="c1">#     report.errors.append(f&quot;Health check failed during IDN/Error Query: {str(e)}&quot;)</span>
    <span class="c1"># return report</span>
    <span class="k">pass</span> <span class="c1"># Replace with actual base implementation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Query the instrument for its identification string (*IDN?).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Query the instrument for its identification string (*IDN?).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;*IDN?&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connected to </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.lock_panel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lock_panel</span><span class="p">(</span><span class="n">lock</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Locks or unlocks the front panel of the instrument.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">lock_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lock</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Locks or unlocks the front panel of the instrument.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lock</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:SYSTem:LOCK&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:SYSTem:LOCal&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Panel </span><span class="si">{</span><span class="s1">&#39;locked&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;unlocked (local control enabled)&#39;</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.requires" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">requires</span><span class="p">(</span><span class="n">requirement</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Decorator to specify method requirements based on instrument configuration.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">requires</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">requirement</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Decorator to specify method requirements based on instrument configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapped_func</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">Instrument</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;requires&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">requires</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                    <span class="s2">&quot;Config object missing &#39;requires&#39; method for decorator.&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="n">requirement</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Method &#39;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; requires &#39;</span><span class="si">{</span><span class="n">requirement</span><span class="si">}</span><span class="s2">&#39;, which is not available for this instrument model/configuration.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapped_func</span>
    <span class="k">return</span> <span class="n">decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.reset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Reset the instrument to its default settings (*RST).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reset the instrument to its default settings (*RST).&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;*RST&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Instrument reset to default settings (*RST).&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.run_self_test" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_self_test</span><span class="p">(</span><span class="n">full_test</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Executes the instrument's internal self-test routine (*TST?) and reports result.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_self_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">full_test</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the instrument&#39;s internal self-test routine (*TST?) and reports result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">full_test</span><span class="p">:</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Note: `full_test=False` currently ignored, running standard *TST? self-test.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Running self-test (*TST?)...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
         <span class="n">result_str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;*TST?&quot;</span><span class="p">)</span>
         <span class="n">code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">result_str</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="s2">&quot;*TST?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected non-integer response: &#39;</span><span class="si">{</span><span class="n">result_str</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="s2">&quot;*TST?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Failed to execute query.&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Self-test query (*TST?) returned 0 (Passed).&quot;</span><span class="p">)</span>
        <span class="n">errors_after_test</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_errors</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">errors_after_test</span><span class="p">:</span>
             <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">errors_after_test</span><span class="p">])</span>
             <span class="n">warn_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Self-test query passed, but errors found in queue afterwards: </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">warn_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;Passed&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Self-test query (*TST?) returned non-zero code: </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2"> (Failed). Reading error queue...&quot;</span><span class="p">)</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_errors</span><span class="p">()</span>
        <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">])</span> <span class="k">if</span> <span class="n">errors</span> <span class="k">else</span> <span class="s1">&#39;No specific errors reported in queue&#39;</span>
        <span class="n">fail_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Failed: Code </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">. Errors: </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">fail_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fail_msg</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.set_communication_timeout" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_communication_timeout</span><span class="p">(</span><span class="n">timeout_ms</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Sets the communication timeout on the backend.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_communication_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the communication timeout on the backend.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">set_timeout</span><span class="p">(</span><span class="n">timeout_ms</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Communication timeout set to </span><span class="si">{</span><span class="n">timeout_ms</span><span class="si">}</span><span class="s2"> ms on backend.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.Instrument.wait_for_operation_complete" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">wait_for_operation_complete</span><span class="p">(</span><span class="n">query_instrument</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Waits for the instrument to finish all pending overlapping commands.
The 'timeout' parameter's effect depends on the backend's query timeout settings.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">wait_for_operation_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query_instrument</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Waits for the instrument to finish all pending overlapping commands.</span>
<span class="sd">    The &#39;timeout&#39; parameter&#39;s effect depends on the backend&#39;s query timeout settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_instrument</span><span class="p">:</span>
        <span class="c1"># The original logic for setting/restoring instrument.timeout has been removed</span>
        <span class="c1"># as the _Backend protocol does not define a timeout attribute.</span>
        <span class="c1"># The &#39;timeout&#39; argument of this method might influence a timeout if the</span>
        <span class="c1"># _query method or backend implementation uses it, but _query currently</span>
        <span class="c1"># passes &#39;delay&#39;, not &#39;timeout&#39;. For *OPC?, no delay is typically needed.</span>
        <span class="c1"># The backend&#39;s own communication timeout will apply to the query.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Waiting for operation complete (*OPC?). Effective timeout depends on backend (method timeout hint: </span><span class="si">{</span><span class="n">timeout</span><span class="si">}</span><span class="s2">s).&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># The timeout parameter of this method is not directly passed to _query here.</span>
            <span class="c1"># _query&#39;s delay parameter is for a different purpose.</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;*OPC?&quot;</span><span class="p">)</span> <span class="c1"># This now uses self._backend.query</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Operation complete query (*OPC?) returned.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: *OPC? returned &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39; instead of expected &#39;1&#39;.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># The &#39;timeout&#39; parameter of this method is noted here for context.</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;*OPC? query failed. This may be due to backend communication timeout (related to method&#39;s timeout param: </span><span class="si">{</span><span class="n">timeout</span><span class="si">}</span><span class="s2">s).&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="s2">&quot;*OPC?&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">err_msg</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="c1"># &#39;finally&#39; block for restoring timeout removed.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;*OPC&quot;</span><span class="p">)</span> <span class="c1"># This now uses self._backend.write</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Operation complete command (*OPC) sent (non-blocking). Status polling required.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="supported-instrument-types">Supported Instrument Types</h2>
<h3 id="oscilloscope">Oscilloscope</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.Oscilloscope" class="doc doc-heading">
            <code>pytestlab.instruments.Oscilloscope</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.Oscilloscope-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.ChannelReadingResult" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ChannelReadingResult</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">instrument</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">measurement_type</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">envelope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.experiments.results.MeasurementResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.experiments.MeasurementResult)" href="../experiments/#pytestlab.experiments.results.MeasurementResult">MeasurementResult</a></code></p>


        <p>A result class for oscilloscope channel readings (time, voltage, etc).</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/experiments/results.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">UFloat</span><span class="p">],</span>
             <span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">units</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">measurement_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Allow optional timestamp override</span>
             <span class="n">envelope</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Add envelope as an explicit argument</span>
             <span class="n">sampling_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Add sampling_rate for FFT</span>
             <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Added **kwargs and type hint</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">UFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">units</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">instrument</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">measurement_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="k">if</span> <span class="n">timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="c1"># Envelope logic: always provide an envelope attribute</span>
    <span class="k">if</span> <span class="n">envelope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope</span> <span class="o">=</span> <span class="n">envelope</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Default: minimal valid envelope (empty dict, or customize as needed)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Store sampling rate for FFT calculations</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">sampling_rate</span>

    <span class="c1"># Store any additional kwargs as attributes</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.FFTResult" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">FFTResult</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">instrument</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">measurement_type</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">envelope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.experiments.results.MeasurementResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.experiments.MeasurementResult)" href="../experiments/#pytestlab.experiments.results.MeasurementResult">MeasurementResult</a></code></p>


        <p>A result class for FFT data from the oscilloscope.</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/experiments/results.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">UFloat</span><span class="p">],</span>
             <span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">units</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">measurement_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Allow optional timestamp override</span>
             <span class="n">envelope</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Add envelope as an explicit argument</span>
             <span class="n">sampling_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Add sampling_rate for FFT</span>
             <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Added **kwargs and type hint</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">UFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">units</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">instrument</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">measurement_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="k">if</span> <span class="n">timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="c1"># Envelope logic: always provide an envelope attribute</span>
    <span class="k">if</span> <span class="n">envelope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope</span> <span class="o">=</span> <span class="n">envelope</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Default: minimal valid envelope (empty dict, or customize as needed)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Store sampling rate for FFT calculations</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">sampling_rate</span>

    <span class="c1"># Store any additional kwargs as attributes</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.FRanalysisResult" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">FRanalysisResult</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">instrument</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">measurement_type</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">envelope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.experiments.results.MeasurementResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.experiments.MeasurementResult)" href="../experiments/#pytestlab.experiments.results.MeasurementResult">MeasurementResult</a></code></p>


        <p>A result class for frequency response analysis data.</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/experiments/results.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">UFloat</span><span class="p">],</span>
             <span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">units</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">measurement_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Allow optional timestamp override</span>
             <span class="n">envelope</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Add envelope as an explicit argument</span>
             <span class="n">sampling_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># Add sampling_rate for FFT</span>
             <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Added **kwargs and type hint</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">TypingList</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">UFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">units</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">instrument</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">measurement_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="k">if</span> <span class="n">timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="c1"># Envelope logic: always provide an envelope attribute</span>
    <span class="k">if</span> <span class="n">envelope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope</span> <span class="o">=</span> <span class="n">envelope</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Default: minimal valid envelope (empty dict, or customize as needed)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">envelope</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Store sampling rate for FFT calculations</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">sampling_rate</span>

    <span class="c1"># Store any additional kwargs as attributes</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.Oscilloscope" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">Oscilloscope</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">simulate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.oscilloscope_config.OscilloscopeConfig" href="../config/#pytestlab.config.oscilloscope_config.OscilloscopeConfig">OscilloscopeConfig</a>]</code></p>


        <p>Drives a digital oscilloscope for waveform acquisition and measurement.</p>
<p>This class provides a comprehensive, high-level interface for controlling an
oscilloscope. It builds upon the base <code>Instrument</code> class and adds extensive
functionality specific to oscilloscopes.</p>
<p>Key features include:
- Facade-based interfaces for channels, trigger, and acquisition for cleaner code.
- Methods for reading waveforms, performing automated measurements (e.g., Vpp, Vrms).
- Support for advanced features like FFT and Frequency Response Analysis (FRA).
- Built-in waveform generator control if the hardware supports it.
- Screenshot capability.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="config

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Oscilloscope.config)" href="#pytestlab.instruments.Oscilloscope.Oscilloscope.config">config</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The Pydantic configuration object (<code>OscilloscopeConfig</code>)
    containing settings specific to this oscilloscope.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="pytestlab.config.oscilloscope_config.OscilloscopeConfig" href="../config/#pytestlab.config.oscilloscope_config.OscilloscopeConfig">OscilloscopeConfig</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="trigger = ScopeTriggerFacade(self)

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Oscilloscope.trigger)" href="#pytestlab.instruments.Oscilloscope.Oscilloscope.trigger">trigger</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A <code>ScopeTriggerFacade</code> for configuring trigger settings.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="acquisition = ScopeAcquisitionFacade(self)

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Oscilloscope.acquisition)" href="#pytestlab.instruments.Oscilloscope.Oscilloscope.acquisition">acquisition</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A <code>ScopeAcquisitionFacade</code> for acquisition system settings.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

        <p>Initialize the Oscilloscope class with the given VISA resource and profile information.</p>
<p>Args:
config (OscilloscopeConfig): Configuration object for the oscilloscope.
debug_mode (bool): Enable debug mode. (Handled by base or backend)
simulate (bool): Enable simulation mode. (Handled by base or backend)</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">OscilloscopeConfig</span><span class="p">,</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">simulate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># config is now non-optional</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Oscilloscope class with the given VISA resource and profile information.</span>

<span class="sd">    Args:</span>
<span class="sd">    config (OscilloscopeConfig): Configuration object for the oscilloscope.</span>
<span class="sd">    debug_mode (bool): Enable debug mode. (Handled by base or backend)</span>
<span class="sd">    simulate (bool): Enable simulation mode. (Handled by base or backend)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The config is already validated by the loader to be OscilloscopeConfig V2</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="n">debug_mode</span><span class="p">,</span> <span class="n">simulate</span><span class="o">=</span><span class="n">simulate</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># Pass kwargs</span>
    <span class="c1"># Initialize facades</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span> <span class="o">=</span> <span class="n">ScopeTriggerFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">acquisition</span> <span class="o">=</span> <span class="n">ScopeAcquisitionFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.Oscilloscope.Oscilloscope-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.acquisition" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">acquisition</span> <span class="o">=</span> <span class="n">ScopeAcquisitionFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.trigger" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">trigger</span> <span class="o">=</span> <span class="n">ScopeTriggerFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.Oscilloscope.Oscilloscope-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.auto_scale" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">auto_scale</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Auto scale the oscilloscope display.</p>
<p>This method sends an SCPI command to the oscilloscope to auto scale the display.</p>
<p>Example:</p>
<blockquote>
<blockquote>
<blockquote>
<p>auto_scale()</p>
</blockquote>
</blockquote>
</blockquote>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">auto_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Auto scale the oscilloscope display.</span>

<span class="sd">    This method sends an SCPI command to the oscilloscope to auto scale the display.</span>

<span class="sd">    Example:</span>
<span class="sd">    &gt;&gt;&gt; auto_scale()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:AUToscale&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.channel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">channel</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a facade for interacting with a specific channel.</p>
<p>This method provides a convenient, chainable interface for controlling a
single oscilloscope channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ch_num</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number (1-based).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="ScopeChannelFacade(scope, channel_num) (pytestlab.instruments.Oscilloscope.ScopeChannelFacade)" href="#pytestlab.instruments.Oscilloscope.ScopeChannelFacade">ScopeChannelFacade</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A <code>ScopeChannelFacade</code> object for the specified channel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the channel number is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">def</span><span class="w"> </span><span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ch_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScopeChannelFacade</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a facade for interacting with a specific channel.</span>

<span class="sd">    This method provides a convenient, chainable interface for controlling a</span>
<span class="sd">    single oscilloscope channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        ch_num: The channel number (1-based).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `ScopeChannelFacade` object for the specified channel.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the channel number is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="ow">or</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">ch_num</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="n">num_conf_ch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;ch_num&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">ch_num</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_conf_ch</span><span class="p">),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">ScopeChannelFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ch_num</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.configure_fft" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_fft</span><span class="p">(</span><span class="n">source_channel</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">span</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">window_type</span><span class="o">=</span><span class="s1">&#39;HANNing&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;DECibel&#39;</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configure the oscilloscope to perform an FFT on the specified channel.</p>
<p>:param source_channel: The channel number to perform FFT on.
:param scale: The vertical scale of the FFT display. Instrument specific.
:param offset: The vertical offset of the FFT display. Instrument specific.
:param span: The frequency span for the FFT. Instrument specific.
:param window_type: The windowing function. Case-insensitive. From config.fft.window_types.
:param units: The unit for FFT magnitude. Case-insensitive. From config.fft.units.
:param display: True to turn FFT display ON, False for OFF.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;fft&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_fft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">span</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="n">window_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;HANNing&#39;</span><span class="p">,</span> <span class="n">units</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;DECibel&#39;</span><span class="p">,</span> <span class="n">display</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Configure the oscilloscope to perform an FFT on the specified channel.</span>

<span class="sd">    :param source_channel: The channel number to perform FFT on.</span>
<span class="sd">    :param scale: The vertical scale of the FFT display. Instrument specific.</span>
<span class="sd">    :param offset: The vertical offset of the FFT display. Instrument specific.</span>
<span class="sd">    :param span: The frequency span for the FFT. Instrument specific.</span>
<span class="sd">    :param window_type: The windowing function. Case-insensitive. From config.fft.window_types.</span>
<span class="sd">    :param units: The unit for FFT magnitude. Case-insensitive. From config.fft.units.</span>
<span class="sd">    :param display: True to turn FFT display ON, False for OFF.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">fft</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;FFT not configured for this instrument.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">source_channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source_channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">source_channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Source channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Validate window_type against config.fft.window_types (List[str])</span>
    <span class="c1"># Assuming window_type parameter is the SCPI string itself</span>
    <span class="k">if</span> <span class="n">window_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">wt</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">wt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">window_types</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;window_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">window_type</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">window_types</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unsupported FFT window type.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">scpi_window</span> <span class="o">=</span> <span class="n">window_type</span>

    <span class="c1"># Validate units against config.fft.units (List[str])</span>
    <span class="k">if</span> <span class="n">units</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">units</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;units&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">units</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unsupported FFT units.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">scpi_units</span> <span class="o">=</span> <span class="n">units</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:SOURce1 CHANnel</span><span class="si">{</span><span class="n">source_channel</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:WINDow </span><span class="si">{</span><span class="n">scpi_window</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">span</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:SPAn </span><span class="si">{</span><span class="n">span</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:VTYPe </span><span class="si">{</span><span class="n">scpi_units</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">scale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:SCALe </span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:OFFSet </span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">scpi_display_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">display</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:FFT:DISPlay </span><span class="si">{</span><span class="n">scpi_display_state</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FFT configured for channel </span><span class="si">{</span><span class="n">source_channel</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.configure_trigger" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_trigger</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trigger_type</span><span class="o">=</span><span class="s1">&#39;HIGH&#39;</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="n">TriggerSlope</span><span class="o">.</span><span class="n">POSITIVE</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;EDGE&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the trigger for the oscilloscope.</p>
<p>:param channel: The channel to set the trigger for (used if source is None or a channel itself)
:param level: The trigger level in volts
:param source: The source of the trigger. Default behaviour is to use the channel. Valid options CHANnel<n> | EXTernal | LINE | WGEN
:param trigger_type: The type of trigger. Default is 'HIGH' (Note: this param seems unused in current logic for level setting)
:param slope: The slope of the trigger. Default is TriggerSlope.POSITIVE
:param mode: The trigger mode. Default is 'EDGE'</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">trigger_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;HIGH&quot;</span><span class="p">,</span> <span class="n">slope</span><span class="p">:</span> <span class="n">TriggerSlope</span> <span class="o">=</span> <span class="n">TriggerSlope</span><span class="o">.</span><span class="n">POSITIVE</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;EDGE&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the trigger for the oscilloscope.</span>

<span class="sd">    :param channel: The channel to set the trigger for (used if source is None or a channel itself)</span>
<span class="sd">    :param level: The trigger level in volts</span>
<span class="sd">    :param source: The source of the trigger. Default behaviour is to use the channel. Valid options CHANnel&lt;n&gt; | EXTernal | LINE | WGEN</span>
<span class="sd">    :param trigger_type: The type of trigger. Default is &#39;HIGH&#39; (Note: this param seems unused in current logic for level setting)</span>
<span class="sd">    :param slope: The slope of the trigger. Default is TriggerSlope.POSITIVE</span>
<span class="sd">    :param mode: The trigger mode. Default is &#39;EDGE&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Primary channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">actual_source</span><span class="p">:</span> <span class="nb">str</span>
    <span class="k">if</span> <span class="n">source</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">actual_source</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">actual_source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="c1"># Check if source is a channel (handle CH1, CHAN1, CHANNEL1 formats)</span>
        <span class="k">if</span> <span class="n">actual_source</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;CH&quot;</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">num_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">,</span> <span class="n">actual_source</span><span class="p">))</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">num_str</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No digits found in channel source string&quot;</span><span class="p">)</span>
                <span class="n">source_channel_to_validate</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_str</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">source_channel_to_validate</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
                    <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                        <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
                        <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
                        <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
                        <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Source channel number is out of range.&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="c1"># Normalize the channel source to CHANNEL format for SCPI command</span>
                <span class="n">actual_source</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">source_channel_to_validate</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid channel format in source.&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">actual_source</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;EXTERNAL&quot;</span><span class="p">,</span> <span class="s2">&quot;LINE&quot;</span><span class="p">,</span> <span class="s2">&quot;WGEN&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
                <span class="n">valid_range</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;EXTernal&quot;</span><span class="p">,</span> <span class="s2">&quot;LINE&quot;</span><span class="p">,</span> <span class="s2">&quot;WGEN&quot;</span><span class="p">],</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid source.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:TRIG:SOUR </span><span class="si">{</span><span class="n">actual_source</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:TRIGger:LEVel </span><span class="si">{</span><span class="n">level</span><span class="si">}</span><span class="s1">, CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">slope</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">slopes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;slope&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">slope</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">slopes</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unsupported trigger slope.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">scpi_slope</span> <span class="o">=</span> <span class="n">slope</span><span class="o">.</span><span class="n">value</span>

    <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">modes</span><span class="p">]:</span> <span class="c1"># Case-insensitive check</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Trigger mode &#39;</span><span class="si">{</span><span class="n">mode</span><span class="si">}</span><span class="s2">&#39; not in configured supported modes: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">modes</span><span class="si">}</span><span class="s2">. Passing directly to instrument.&quot;</span><span class="p">)</span>
    <span class="n">scpi_mode</span> <span class="o">=</span> <span class="n">mode</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:TRIGger:SLOPe </span><span class="si">{</span><span class="n">scpi_slope</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:TRIGger:MODE </span><span class="si">{</span><span class="n">scpi_mode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Trigger set with the following parameters:</span>
<span class="s2">              Trigger Source: </span><span class="si">{</span><span class="n">actual_source</span><span class="si">}</span>
<span class="s2">              Trigger Level for CHAN</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">level</span><span class="si">}</span>
<span class="s2">              Trigger Slope: </span><span class="si">{</span><span class="n">scpi_slope</span><span class="si">}</span>
<span class="s2">              Trigger Mode: </span><span class="si">{</span><span class="n">scpi_mode</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.display_channel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">display_channel</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Display or hide the specified channel(s) on the oscilloscope.</p>
<p>Args:
channels (Union[int, List[int]]): A single channel number or a list of channel numbers.
state (bool): True to display (ON), False to hide (OFF). Default is True.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">display_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display or hide the specified channel(s) on the oscilloscope.</span>

<span class="sd">    Args:</span>
<span class="sd">    channels (Union[int, List[int]]): A single channel number or a list of channel numbers.</span>
<span class="sd">    state (bool): True to display (ON), False to hide (OFF). Default is True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ch_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">ch_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">channels</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">channels</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">):</span>
        <span class="n">ch_list</span> <span class="o">=</span> <span class="n">channels</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># validate_call should catch this if type hints are precise enough</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;channels must be an int or a list of ints&quot;</span>
        <span class="p">)</span>

    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">for</span> <span class="n">ch_num</span> <span class="ow">in</span> <span class="n">ch_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">ch_num</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channels&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">ch_num</span><span class="p">,</span>
                <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2">:DISPlay </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.fft_display" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fft_display</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Switches on or off the FFT display.</p>
<p>:param state: True to enable FFT display, False to disable.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;fft&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fft_display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Switches on or off the FFT display.</span>

<span class="sd">    :param state: True to enable FFT display, False to disable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:FFT:DISPlay </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FFT display </span><span class="si">{</span><span class="s1">&#39;enabled&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;disabled&#39;</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.franalysis_sweep" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">franalysis_sweep</span><span class="p">(</span><span class="n">input_channel</span><span class="p">,</span> <span class="n">output_channel</span><span class="p">,</span> <span class="n">start_freq</span><span class="p">,</span> <span class="n">stop_freq</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">points</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">load</span><span class="o">=</span><span class="s1">&#39;onemeg&#39;</span><span class="p">,</span> <span class="n">disable_on_complete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Perform a frequency response analysis sweep.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>FRanalysisResult</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Containing the frequency response analysis data.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="FRanalysisResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.instruments.Oscilloscope.FRanalysisResult)" href="#pytestlab.instruments.Oscilloscope.FRanalysisResult">FRanalysisResult</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;franalysis&quot;)</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">franalysis_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">output_channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">start_freq</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">stop_freq</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">trace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="n">load</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;onemeg&quot;</span><span class="p">,</span> <span class="n">disable_on_complete</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FRanalysisResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform a frequency response analysis sweep.</span>

<span class="sd">    Returns:</span>
<span class="sd">        FRanalysisResult: Containing the frequency response analysis data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">franalysis</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator or FRANalysis not configured.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">input_channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;input_channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">input_channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Input channel is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">output_channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;output_channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">output_channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Output channel is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Ensure points is at least 2 for a valid sweep</span>
    <span class="k">if</span> <span class="n">points</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;points&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">points</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;inf&quot;</span><span class="p">),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Points for sweep must be at least 2.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># SCPI commands for frequency response analysis sweep</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:FUNCtion:FRANalysis&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:FREQuency:START </span><span class="si">{</span><span class="n">start_freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:FREQuency:STOP </span><span class="si">{</span><span class="n">stop_freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:AMPLitude </span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:POINTS </span><span class="si">{</span><span class="n">points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:TRACe:FEED </span><span class="si">{</span><span class="n">trace</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:LOAD </span><span class="si">{</span><span class="n">load</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">disable_on_complete</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:DISABLE&quot;</span><span class="p">)</span>

    <span class="c1"># Optionally wait for completion or check status</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>  <span class="c1"># Ensure to wait for the command to complete</span>

    <span class="c1"># Assuming the result can be fetched with a common query, adjust as necessary</span>
    <span class="n">result_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:FETCH:FRANalysis?&quot;</span><span class="p">)</span>

    <span class="c1"># Parse the result data into a structured format if needed</span>
    <span class="c1"># For now, let&#39;s assume it&#39;s a simple comma-separated value string</span>
    <span class="n">parsed_results</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">result_data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>

    <span class="c1"># Create a DataFrame or structured result object</span>
    <span class="c1"># Assuming two columns: Frequency and Magnitude</span>
    <span class="n">freq_values</span> <span class="o">=</span> <span class="n">parsed_results</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># Extracting frequency values</span>
    <span class="n">mag_values</span> <span class="o">=</span> <span class="n">parsed_results</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>   <span class="c1"># Extracting magnitude values</span>

    <span class="k">return</span> <span class="n">FRanalysisResult</span><span class="p">(</span>
        <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="n">units</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;FrequencyResponse&quot;</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
            <span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">:</span> <span class="n">freq_values</span><span class="p">,</span>
            <span class="s2">&quot;Magnitude&quot;</span><span class="p">:</span> <span class="n">mag_values</span>
        <span class="p">})</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s1">&#39;Oscilloscope&#39;</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">OscilloscopeConfig</span><span class="p">,</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Oscilloscope&#39;</span><span class="p">:</span>
    <span class="c1"># This method aligns with the new __init__ signature.</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="n">debug_mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.function_display" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">function_display</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Switches on or off the function display (e.g. Math or WGEN waveform).</p>
<p>:param state: True to enable display, False to disable.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">function_display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Switches on or off the function display (e.g. Math or WGEN waveform).</span>

<span class="sd">    :param state: True to enable display, False to disable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:FUNCtion:DISPlay </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Function display </span><span class="si">{</span><span class="s1">&#39;enabled&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;disabled&#39;</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.get_channel_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_channel_axis</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the channel axis of the oscilloscope. (y-axis)</p>
<p>:param channel: The channel to get the axis for
:return: A list containing the channel axis scale and offset</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_channel_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the channel axis of the oscilloscope. (y-axis)</span>

<span class="sd">    :param channel: The channel to get the axis for</span>
<span class="sd">    :return: A list containing the channel axis scale and offset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">scale_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:SCALe?&quot;</span><span class="p">)</span>
    <span class="n">offset_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:OFFSet?&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">scale_str</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">offset_str</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.get_probe_attenuation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_probe_attenuation</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the probe attenuation for a given channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The oscilloscope channel to get the probe attenuation for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>str</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The probe attenuation value (e.g., '10:1', '1:1').</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_probe_attenuation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span> <span class="c1"># Returns string like &quot;10:1&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the probe attenuation for a given channel.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        channel (int): The oscilloscope channel to get the probe attenuation for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The probe attenuation value (e.g., &#39;10:1&#39;, &#39;1:1&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">response_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:PROBe?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c1"># Assuming response is the numeric factor (e.g., &quot;10&quot;, &quot;1&quot;)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Ensure it&#39;s a number before formatting</span>
        <span class="n">num_factor</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num_factor</span><span class="o">.</span><span class="n">is_integer</span><span class="p">():</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">num_factor</span><span class="p">)</span><span class="si">}</span><span class="s2">:1&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">num_factor</span><span class="si">}</span><span class="s2">:1&quot;</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not parse probe attenuation factor &#39;</span><span class="si">{</span><span class="n">response_str</span><span class="si">}</span><span class="s2">&#39; as number. Returning raw.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response_str</span> <span class="c1"># Or raise error</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.get_sampling_rate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sampling_rate</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Get the current sampling rate of the oscilloscope.
Returns:
    float: The sampling rate in Hz.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_sampling_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the current sampling rate of the oscilloscope.</span>
<span class="sd">    Returns:</span>
<span class="sd">        float: The sampling rate in Hz.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:SRATe?&quot;</span><span class="p">)</span>
    <span class="n">sampling_rate_float</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sampling_rate_float</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.get_time_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_time_axis</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the time axis of the oscilloscope. (x-axis)</p>
<p>:return: A list containing the time axis scale and position</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_time_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the time axis of the oscilloscope. (x-axis)</span>

<span class="sd">    :return: A list containing the time axis scale and position</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scale_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:TIMebase:SCALe?&quot;</span><span class="p">)</span>
    <span class="n">position_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:TIMebase:POSition?&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">scale_str</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">position_str</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.health_check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">health_check</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Performs a basic health check of the oscilloscope instrument.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>HealthReport</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A report containing the instrument's health status,
          errors, warnings, and supported features.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="HealthReport (pytestlab.common.health.HealthReport)" href="../common/#pytestlab.common.health.HealthReport">HealthReport</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HealthReport</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs a basic health check of the oscilloscope instrument.</span>

<span class="sd">    Returns:</span>
<span class="sd">        HealthReport: A report containing the instrument&#39;s health status,</span>
<span class="sd">                      errors, warnings, and supported features.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">HealthReport</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Get instrument identification</span>
        <span class="n">report</span><span class="o">.</span><span class="n">instrument_idn</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">()</span>

        <span class="c1"># Check for stored errors</span>
        <span class="n">instrument_errors</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_errors</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">instrument_errors</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">warnings</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;Stored Error: </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">code</span><span class="p">,</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">instrument_errors</span><span class="p">])</span>

        <span class="c1"># Set initial status based on errors</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">report</span><span class="o">.</span><span class="n">errors</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">report</span><span class="o">.</span><span class="n">warnings</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">OK</span>
        <span class="k">elif</span> <span class="n">report</span><span class="o">.</span><span class="n">warnings</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">report</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">WARNING</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">ERROR</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">ERROR</span>
        <span class="n">report</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Health check failed during IDN/Error Query: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Test basic oscilloscope functionality</span>
        <span class="n">_</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_time_axis</span><span class="p">()</span>

        <span class="c1"># Check supported features based on configuration</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;fft&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">fft</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">supported_features</span><span class="p">[</span><span class="s2">&quot;fft&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">supported_features</span><span class="p">[</span><span class="s2">&quot;fft&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;franalysis&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">franalysis</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">supported_features</span><span class="p">[</span><span class="s2">&quot;franalysis&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">supported_features</span><span class="p">[</span><span class="s2">&quot;franalysis&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;function_generator&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">supported_features</span><span class="p">[</span><span class="s2">&quot;function_generator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">supported_features</span><span class="p">[</span><span class="s2">&quot;function_generator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Oscilloscope-specific check failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Determine backend status</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_backend&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="p">,</span> <span class="s1">&#39;__class__&#39;</span><span class="p">):</span>
        <span class="n">backend_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">if</span> <span class="s2">&quot;SimBackend&quot;</span> <span class="ow">in</span> <span class="n">backend_name</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">backend_status</span> <span class="o">=</span> <span class="s2">&quot;Simulated&quot;</span>
        <span class="k">elif</span> <span class="s2">&quot;VisaBackend&quot;</span> <span class="ow">in</span> <span class="n">backend_name</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">backend_status</span> <span class="o">=</span> <span class="s2">&quot;VISA Connection&quot;</span>
        <span class="k">elif</span> <span class="s2">&quot;LambInstrument&quot;</span> <span class="ow">in</span> <span class="n">backend_name</span> <span class="ow">or</span> <span class="s2">&quot;LambBackend&quot;</span> <span class="ow">in</span> <span class="n">backend_name</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">backend_status</span> <span class="o">=</span> <span class="s2">&quot;Lamb Connection&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">backend_status</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Unknown backend: </span><span class="si">{</span><span class="n">backend_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">backend_status</span> <span class="o">=</span> <span class="s2">&quot;Backend information unavailable&quot;</span>

    <span class="c1"># Final status evaluation</span>
    <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">errors</span> <span class="ow">and</span> <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">ERROR</span>
    <span class="k">elif</span> <span class="n">report</span><span class="o">.</span><span class="n">warnings</span> <span class="ow">and</span> <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">WARNING</span>

    <span class="c1"># If no errors or warnings after all checks, and status is still UNKNOWN, set to OK</span>
    <span class="k">if</span> <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">UNKNOWN</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">report</span><span class="o">.</span><span class="n">errors</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">report</span><span class="o">.</span><span class="n">warnings</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">OK</span>

    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.lock_panel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lock_panel</span><span class="p">(</span><span class="n">lock</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Locks the panel of the instrument</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>lock</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>True to lock the panel, False to unlock it</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">lock_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lock</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Locks the panel of the instrument</span>

<span class="sd">    Args:</span>
<span class="sd">        lock (bool): True to lock the panel, False to unlock it</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">lock</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:SYSTem:LOCK </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.measure_rms_voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_rms_voltage</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Measure the root-mean-square (RMS) voltage for a specified channel.</p>
<p>Args:
channel (int): The channel identifier.</p>
<p>Returns:
MeasurementResult: An object containing the RMS voltage measurement.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_rms_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Measure the root-mean-square (RMS) voltage for a specified channel.</span>

<span class="sd">    Args:</span>
<span class="sd">    channel (int): The channel identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">    MeasurementResult: An object containing the RMS voltage measurement.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">response_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MEAS:VRMS? CHAN</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">reading</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>

    <span class="n">value_to_return</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="n">reading</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="p">:</span>
        <span class="n">mode_key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;vrms_ch</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to find accuracy spec for Vrms on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key: &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">spec</span><span class="p">:</span>
            <span class="n">sigma</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">calculate_std_dev</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">range_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sigma</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">value_to_return</span> <span class="o">=</span> <span class="n">ufloat</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;, value: </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39; resulted in sigma=0. Returning float.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No accuracy spec found for Vrms on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;. Returning float.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No measurement_accuracy configuration in instrument for Vrms on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMS Voltage (Channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">measurement_result</span> <span class="o">=</span> <span class="n">MeasurementResult</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">value_to_return</span><span class="p">,</span>
        <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="n">units</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">,</span>
        <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;rms_voltage&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">measurement_result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.measure_voltage_peak_to_peak" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_voltage_peak_to_peak</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Measure the peak-to-peak voltage for a specified channel.</p>
<p>Args:
channel (int): The channel identifier.</p>
<p>Returns:
MeasurementResult: An object containing the peak-to-peak voltage measurement.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_voltage_peak_to_peak</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Measure the peak-to-peak voltage for a specified channel.</span>

<span class="sd">    Args:</span>
<span class="sd">    channel (int): The channel identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">    MeasurementResult: An object containing the peak-to-peak voltage measurement.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">response_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MEAS:VPP? CHAN</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">reading</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>

    <span class="n">value_to_return</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="n">reading</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="p">:</span>
        <span class="n">mode_key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;vpp_ch</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to find accuracy spec for Vpp on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key: &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">spec</span><span class="p">:</span>
            <span class="n">sigma</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">calculate_std_dev</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">range_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sigma</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">value_to_return</span> <span class="o">=</span> <span class="n">ufloat</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;, value: </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39; resulted in sigma=0. Returning float.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No accuracy spec found for Vpp on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;. Returning float.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No measurement_accuracy configuration in instrument for Vpp on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>

    <span class="n">measurement_result</span> <span class="o">=</span> <span class="n">MeasurementResult</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">value_to_return</span><span class="p">,</span>
        <span class="n">units</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">,</span>
        <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;P2PV&quot;</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Peak to Peak Voltage (Channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">measurement_result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.read_channels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_channels</span><span class="p">(</span><span class="o">*</span><span class="n">channels</span><span class="p">,</span> <span class="n">points</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_after</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timebase</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads and processes waveform data from one or more channels.</p>
<p>This is a primary data acquisition method. It triggers an acquisition,
reads the raw data for the specified channels, and uses the preamble
to convert the data into a <code>ChannelReadingResult</code> containing properly
scaled time and voltage values in a Polars DataFrame.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*channels</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A variable number of channel numbers (e.g., <code>read_channels(1, 2)</code>)
       or a single list/tuple of channels (e.g., <code>read_channels([1, 2])</code>).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="typing.List">List</span>[<span title="int">int</span>], <span title="typing.Tuple">Tuple</span>[<span title="int">int</span>, ...]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>()</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Deprecated. The number of points is determined by the timebase
    and instrument settings.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_after</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>This parameter is currently unused.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timebase</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If provided, sets the time-per-division for this acquisition.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="ChannelReadingResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.instruments.Oscilloscope.ChannelReadingResult)" href="#pytestlab.instruments.Oscilloscope.ChannelReadingResult">ChannelReadingResult</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A <code>ChannelReadingResult</code> containing the waveform data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If channel numbers are invalid or not provided.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="pytestlab.errors.InstrumentDataError">InstrumentDataError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If time values cannot be generated.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">channels</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">]],</span> <span class="n">points</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">run_after</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">timebase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChannelReadingResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads and processes waveform data from one or more channels.</span>

<span class="sd">    This is a primary data acquisition method. It triggers an acquisition,</span>
<span class="sd">    reads the raw data for the specified channels, and uses the preamble</span>
<span class="sd">    to convert the data into a `ChannelReadingResult` containing properly</span>
<span class="sd">    scaled time and voltage values in a Polars DataFrame.</span>

<span class="sd">    Args:</span>
<span class="sd">        *channels: A variable number of channel numbers (e.g., `read_channels(1, 2)`)</span>
<span class="sd">                   or a single list/tuple of channels (e.g., `read_channels([1, 2])`).</span>
<span class="sd">        points: Deprecated. The number of points is determined by the timebase</span>
<span class="sd">                and instrument settings.</span>
<span class="sd">        run_after: This parameter is currently unused.</span>
<span class="sd">        timebase: If provided, sets the time-per-division for this acquisition.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `ChannelReadingResult` containing the waveform data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If channel numbers are invalid or not provided.</span>
<span class="sd">        InstrumentDataError: If time values cannot be generated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;runAfter&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;&#39;runAfter&#39; is deprecated, use &#39;run_after&#39; instead.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">run_after</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;runAfter&#39;</span><span class="p">]</span>

    <span class="n">processed_channels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">channels</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;No channels specified.&quot;</span><span class="p">)</span>

    <span class="n">first_arg</span> <span class="o">=</span> <span class="n">channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">first_arg</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ch_num</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch_num</span> <span class="ow">in</span> <span class="n">first_arg</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;All elements in channel list/tuple must be integers.&quot;</span>
            <span class="p">)</span>
        <span class="n">processed_channels</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">first_arg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ch_num</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch_num</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">):</span> <span class="c1"># type: ignore [arg-type]</span>
        <span class="n">processed_channels</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="c1"># type: ignore [assignment]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid channel arguments. Must be integers or a single list/tuple of integers.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">processed_channels</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;No channels specified in the list/tuple.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">timebase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">current_time_axis</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_time_axis</span><span class="p">()</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_time_axis</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="n">timebase</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="n">current_time_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">points</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Points argument is deprecated (value: </span><span class="si">{</span><span class="n">points</span><span class="si">}</span><span class="s2">). Use set_time_axis instead.&quot;</span><span class="p">)</span>


    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;starting channel read&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">ch_num_val</span> <span class="ow">in</span> <span class="n">processed_channels</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">ch_num_val</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channels&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">ch_num_val</span><span class="p">,</span>
                <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
            <span class="p">)</span>


    <span class="n">sampling_rate_float</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sampling_rate</span><span class="p">())</span>
    <span class="n">channel_commands_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">processed_channels</span><span class="p">)</span>

    <span class="n">acq_type_enum_or_str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition</span><span class="o">.</span><span class="n">get_acquisition_type</span><span class="p">()</span>

    <span class="n">is_average_mode</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acq_type_enum_or_str</span><span class="p">,</span> <span class="n">AcquisitionType</span><span class="p">):</span>
        <span class="n">is_average_mode</span> <span class="o">=</span> <span class="n">acq_type_enum_or_str</span> <span class="o">==</span> <span class="n">AcquisitionType</span><span class="o">.</span><span class="n">AVERAGE</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">acq_type_enum_or_str</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">is_average_mode</span> <span class="o">=</span> <span class="n">acq_type_enum_or_str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;AVERAGE&quot;</span>

    <span class="c1"># Handle different acquisition modes. Averaging mode often requires a</span>
    <span class="c1"># special command sequence to ensure the requested number of averages</span>
    <span class="c1"># are acquired before the data is read.</span>
    <span class="k">if</span> <span class="n">is_average_mode</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;AVERAGE acquisition type detected - using special sequence&quot;</span><span class="p">)</span>
        <span class="n">avg_count_int</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition</span><span class="o">.</span><span class="n">get_acquisition_average_count</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current average count: </span><span class="si">{</span><span class="n">avg_count_int</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:ACQuire:COMPlete 100&quot;</span><span class="p">)</span> <span class="c1"># Ensure all averages are processed</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:STOP&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>

        <span class="c1"># Force a new acquisition sequence for averaging</span>
        <span class="n">sweep_orig_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:TRIGger:SWEep?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:TRIGger:SWEep AUTO&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DIGitize </span><span class="si">{</span><span class="n">channel_commands_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">skip_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:TRIGger:FORCe&quot;</span><span class="p">,</span> <span class="n">skip_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;*OPC&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Waiting for acquisition to complete &quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:TRIGger:FORCe&quot;</span><span class="p">,</span> <span class="n">skip_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Waiting for acquisition to complete &quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:TRIGger:SWEep </span><span class="si">{</span><span class="n">sweep_orig_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">skip_check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_status</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># For other modes, a simple DIGitize command is sufficient.</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DIGitize </span><span class="si">{</span><span class="n">channel_commands_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WAVeform:SOURce CHANnel</span><span class="si">{</span><span class="n">processed_channels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s1">&#39;:WAVeform:FORMat BYTE&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s1">&#39;:WAVeform:POINts:MODE RAW&#39;</span><span class="p">)</span>

    <span class="n">pream</span><span class="p">:</span> <span class="n">Preamble</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_preamble</span><span class="p">()</span>

    <span class="n">time_values_np</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">measurement_results_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Loop through each requested channel to read its data</span>
    <span class="k">for</span> <span class="n">ch_num_loop</span> <span class="ow">in</span> <span class="n">processed_channels</span><span class="p">:</span>
        <span class="n">raw_wave_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_wave_data</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">ch_num_loop</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Convert raw ADC values to volts using the preamble data</span>
        <span class="n">voltages_np</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="p">(</span><span class="n">raw_wave_data</span> <span class="o">-</span> <span class="n">pream</span><span class="o">.</span><span class="n">yref</span><span class="p">)</span> <span class="o">*</span> <span class="n">pream</span><span class="o">.</span><span class="n">yinc</span> <span class="o">+</span> <span class="n">pream</span><span class="o">.</span><span class="n">yorg</span>

        <span class="c1"># Generate the corresponding time axis array, but only once.</span>
        <span class="k">if</span> <span class="n">time_values_np</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">n_pts_int</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">voltages_np</span><span class="p">)</span>
            <span class="n">time_values_np</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_pts_int</span><span class="p">)</span> <span class="o">-</span> <span class="n">pream</span><span class="o">.</span><span class="n">xref</span><span class="p">)</span> <span class="o">*</span> <span class="n">pream</span><span class="o">.</span><span class="n">xinc</span> <span class="o">+</span> <span class="n">pream</span><span class="o">.</span><span class="n">xorg</span>

        <span class="n">measurement_results_dict</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch_num_loop</span><span class="si">}</span><span class="s2"> (V)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voltages_np</span>

    <span class="k">if</span> <span class="n">time_values_np</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentDataError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Time values were not generated during channel read.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">ChannelReadingResult</span><span class="p">(</span>
       <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
       <span class="n">units</span><span class="o">=</span><span class="s2">&quot;V&quot;</span><span class="p">,</span>
       <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;ChannelVoltageTime&quot;</span><span class="p">,</span>
       <span class="n">sampling_rate</span><span class="o">=</span><span class="n">sampling_rate_float</span><span class="p">,</span>
       <span class="n">values</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
            <span class="s2">&quot;Time (s)&quot;</span><span class="p">:</span> <span class="n">time_values_np</span><span class="p">,</span>
            <span class="o">**</span><span class="n">measurement_results_dict</span>
       <span class="p">})</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.read_fft_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_fft_data</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="s1">&#39;hann&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Acquires time-domain data for the specified channel and computes the FFT using
the analysis submodule.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number to perform FFT on.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>window</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The windowing function to apply before FFT
                     (e.g., 'hann', 'hamming', None).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;hann&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>FFTResult</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>An object containing the computed FFT data (frequency and linear magnitude).</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="FFTResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.instruments.Oscilloscope.FFTResult)" href="#pytestlab.instruments.Oscilloscope.FFTResult">FFTResult</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_fft_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hann&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FFTResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Acquires time-domain data for the specified channel and computes the FFT using</span>
<span class="sd">    the analysis submodule.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel (int): The channel number to perform FFT on.</span>
<span class="sd">        window (Optional[str]): The windowing function to apply before FFT</span>
<span class="sd">                                 (e.g., &#39;hann&#39;, &#39;hamming&#39;, None).</span>

<span class="sd">    Returns:</span>
<span class="sd">        FFTResult: An object containing the computed FFT data (frequency and linear magnitude).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Initiating FFT computation for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> using analysis module.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># 1. Acquire raw time-domain waveform data</span>
    <span class="n">waveform_data</span><span class="p">:</span> <span class="n">ChannelReadingResult</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_channels</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">waveform_data</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">waveform_data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">is_empty</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No waveform data acquired for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">. Cannot compute FFT.&quot;</span><span class="p">)</span>
        <span class="c1"># Return an empty FFTResult or raise an error</span>
        <span class="k">return</span> <span class="n">FFTResult</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">units</span><span class="o">=</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span>
            <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;FFT_computed_python&quot;</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
                <span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]),</span>
                <span class="s2">&quot;Magnitude (Linear)&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
            <span class="p">})</span>
        <span class="p">)</span>

    <span class="n">time_array</span> <span class="o">=</span> <span class="n">waveform_data</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
    <span class="n">voltage_column_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> (V)&quot;</span>
    <span class="k">if</span> <span class="n">voltage_column_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">waveform_data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentDataError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Could not find voltage data for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> in waveform results.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">voltage_array</span> <span class="o">=</span> <span class="n">waveform_data</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">voltage_column_name</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

    <span class="c1"># 2. Call the appropriate function from pytestlab.analysis.fft</span>
    <span class="n">frequency_array</span><span class="p">,</span> <span class="n">magnitude_array</span> <span class="o">=</span> <span class="n">analysis_fft</span><span class="o">.</span><span class="n">compute_fft</span><span class="p">(</span>
        <span class="n">time_array</span><span class="o">=</span><span class="n">time_array</span><span class="p">,</span>
        <span class="n">voltage_array</span><span class="o">=</span><span class="n">voltage_array</span><span class="p">,</span>
        <span class="n">window</span><span class="o">=</span><span class="n">window</span>
    <span class="p">)</span>

    <span class="c1"># 3. Return or further process the results</span>
    <span class="k">return</span> <span class="n">FFTResult</span><span class="p">(</span>
        <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="n">units</span><span class="o">=</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="c1"># compute_fft returns linear magnitude</span>
        <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;FFT_computed_python&quot;</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
            <span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">:</span> <span class="n">frequency_array</span><span class="p">,</span>
            <span class="s2">&quot;Magnitude (Linear)&quot;</span><span class="p">:</span> <span class="n">magnitude_array</span>
        <span class="p">})</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.screenshot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">screenshot</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Capture a screenshot of the oscilloscope display.</p>
<p>:return Image: A PIL Image object containing the screenshot.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">screenshot</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Image</span><span class="o">.</span><span class="n">Image</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Capture a screenshot of the oscilloscope display.</span>

<span class="sd">    :return Image: A PIL Image object containing the screenshot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">binary_data_response</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_raw</span><span class="p">(</span><span class="s2">&quot;:DISPlay:DATA? PNG, COLor&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">binary_data_response</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InstrumentDataError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Invalid screenshot data format: does not start with #&quot;</span>
        <span class="p">)</span>

    <span class="n">length_of_length_field</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="n">binary_data_response</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">png_data_length_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">binary_data_response</span><span class="p">[</span><span class="mi">2</span> <span class="p">:</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">length_of_length_field</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
    <span class="n">png_data_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">png_data_length_str</span><span class="p">)</span>
    <span class="n">png_data_start_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">length_of_length_field</span>
    <span class="n">image_data_bytes</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">binary_data_response</span><span class="p">[</span><span class="n">png_data_start_index</span> <span class="p">:</span> <span class="n">png_data_start_index</span> <span class="o">+</span> <span class="n">png_data_length</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">image_data_bytes</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_acquisition_time" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_acquisition_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Set the total acquisition time for the oscilloscope.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>time</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The total acquisition time in seconds.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_acquisition_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the total acquisition time for the oscilloscope.</span>

<span class="sd">    Args:</span>
<span class="sd">        time (float): The total acquisition time in seconds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:TIMebase:MAIN:RANGe </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_bandwidth_limit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_bandwidth_limit</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">bandwidth</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the bandwidth limit for a specified channel.
Args:
    channel (int): The channel number.
    bandwidth (Union[str, float]): The bandwidth limit (e.g., "20M", 20e6, or "FULL").</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_bandwidth_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">bandwidth</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the bandwidth limit for a specified channel.</span>
<span class="sd">    Args:</span>
<span class="sd">        channel (int): The channel number.</span>
<span class="sd">        bandwidth (Union[str, float]): The bandwidth limit (e.g., &quot;20M&quot;, 20e6, or &quot;FULL&quot;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:BANDwidth </span><span class="si">{</span><span class="n">bandwidth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_channel_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_channel_axis</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the channel axis of the oscilloscope. (y-axis)</p>
<p>:param channel: The channel to set
:param scale: The scale of the channel axis in volts
:param offset: The offset of the channel in volts</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_channel_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the channel axis of the oscilloscope. (y-axis)</span>

<span class="sd">    :param channel: The channel to set</span>
<span class="sd">    :param scale: The scale of the channel axis in volts</span>
<span class="sd">    :param offset: The offset of the channel in volts</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s1">:SCALe </span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s1">:OFFSet </span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_probe_attenuation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_probe_attenuation</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the probe scale for a given channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The oscilloscope channel to set the scale for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scale</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The probe scale value (e.g., 10 for 10:1, 1 for 1:1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_probe_attenuation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the probe scale for a given channel.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        channel (int): The oscilloscope channel to set the scale for.</span>
<span class="sd">        scale (int): The probe scale value (e.g., 10 for 10:1, 1 for 1:1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;channel&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">channel</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Channel number is out of range.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">channel_model_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">channel</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">scale</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">channel_model_config</span><span class="o">.</span><span class="n">probe_attenuation</span><span class="p">:</span> <span class="c1"># probe_attenuation is List[int]</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="n">channel_model_config</span><span class="o">.</span><span class="n">probe_attenuation</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Scale not in supported probe_attenuation list for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># SCPI command usually takes the numeric factor directly</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:CHANnel</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:PROBe </span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Set probe scale to </span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s2">:1 for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_sample_rate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sample_rate</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the sample rate for the oscilloscope.</p>
<p>Args:
rate (str): The desired sample rate. Valid values are 'MAX' and 'AUTO'. Case-insensitive.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the sample rate for the oscilloscope.</span>

<span class="sd">    Args:</span>
<span class="sd">    rate (str): The desired sample rate. Valid values are &#39;MAX&#39; and &#39;AUTO&#39;. Case-insensitive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rate_upper</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">rate</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">valid_values</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;MAX&quot;</span><span class="p">,</span> <span class="s2">&quot;AUTO&quot;</span><span class="p">]</span> <span class="c1"># These are common SCPI values</span>
    <span class="k">if</span> <span class="n">rate_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;rate&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">rate</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="n">valid_values</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid rate.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ACQuire:SRATe </span><span class="si">{</span><span class="n">rate_upper</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_time_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_time_axis</span><span class="p">(</span><span class="n">scale</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the time axis of the Oscilloscope. (x-axis)</p>
<p>:param scale: scale The scale of the axis in seconds
:param position: The position of the time axis from the trigger in seconds</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_time_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the time axis of the Oscilloscope. (x-axis)</span>

<span class="sd">    :param scale: scale The scale of the axis in seconds</span>
<span class="sd">    :param position: The position of the time axis from the trigger in seconds</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:TIMebase:SCALe </span><span class="si">{</span><span class="n">scale</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:TIMebase:POSition </span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_amp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wave_gen_amp</span><span class="p">(</span><span class="n">amp</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Set the amplitude for the waveform generator.</p>
<p>Args:
amp (float): The desired amplitude for the waveform generator in volts.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wave_gen_amp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the amplitude for the waveform generator.</span>

<span class="sd">    Args:</span>
<span class="sd">    amp (float): The desired amplitude for the waveform generator in volts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span><span class="o">.</span><span class="n">amplitude</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="n">amp</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Waveform generator amplitude&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;WGEN:VOLT </span><span class="si">{</span><span class="n">amp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_freq" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wave_gen_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Set the frequency for the waveform generator.</p>
<p>Args:
freq (float): The desired frequency for the waveform generator in Hz.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">##@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wave_gen_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">freq</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the frequency for the waveform generator.</span>

<span class="sd">    Args:</span>
<span class="sd">    freq (float): The desired frequency for the waveform generator in Hz.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="c1"># Assuming RangeMixin&#39;s assert_in_range is preferred for validation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span><span class="o">.</span><span class="n">frequency</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Waveform generator frequency&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;WGEN:FREQ </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_func" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">func_type</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Set the waveform function for the oscilloscope's waveform generator.</p>
<p>Args:
func_type (WaveformType): The desired function enum member.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wave_gen_func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func_type</span><span class="p">:</span> <span class="n">WaveformType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the waveform function for the oscilloscope&#39;s waveform generator.</span>

<span class="sd">    Args:</span>
<span class="sd">    func_type (WaveformType): The desired function enum member.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Check if the SCPI value of the enum is in the list of supported waveform types from config</span>
    <span class="k">if</span> <span class="n">func_type</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span><span class="o">.</span><span class="n">waveform_types</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;func_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">func_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span><span class="o">.</span><span class="n">waveform_types</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unsupported waveform type.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;WGEN:FUNC </span><span class="si">{</span><span class="n">func_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wave_gen_offset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wave_gen_offset</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Set the voltage offset for the waveform generator.</p>
<p>Args:
offset (float): The desired voltage offset for the waveform generator in volts.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wave_gen_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the voltage offset for the waveform generator.</span>

<span class="sd">    Args:</span>
<span class="sd">    offset (float): The desired voltage offset for the waveform generator in volts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Waveform generator offset&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;WGEN:VOLT:OFFSet </span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_dc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wgen_dc</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the waveform generator to a DC wave.</p>
<p>:param offset: The offset of the DC wave in volts</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wgen_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the waveform generator to a DC wave.</span>

<span class="sd">    :param offset: The offset of the DC wave in volts</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">DC</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_offset</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_noise" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wgen_noise</span><span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the waveform generator to a noise wave.</p>
<p>:param v0: The 'low' amplitude component or similar parameter for noise.
:param v1: The 'high' amplitude component or similar parameter for noise.
:param offset: The offset of the noise wave in volts.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wgen_noise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v0</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the waveform generator to a noise wave.</span>

<span class="sd">    :param v0: The &#39;low&#39; amplitude component or similar parameter for noise.</span>
<span class="sd">    :param v1: The &#39;high&#39; amplitude component or similar parameter for noise.</span>
<span class="sd">    :param offset: The offset of the noise wave in volts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">NOISE</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:LOW </span><span class="si">{</span><span class="n">v0</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:HIGH </span><span class="si">{</span><span class="n">v1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_offset</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_pulse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wgen_pulse</span><span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">pulse_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the waveform generator to a pulse wave.</p>
<p>:param v0: The voltage of the low state in volts
:param v1: The voltage of the high state in volts
:param period: The period of the pulse wave in seconds.
:param pulse_width: The pulse width in seconds.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wgen_pulse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v0</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">period</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">pulse_width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the waveform generator to a pulse wave.</span>

<span class="sd">    :param v0: The voltage of the low state in volts</span>
<span class="sd">    :param v1: The voltage of the high state in volts</span>
<span class="sd">    :param period: The period of the pulse wave in seconds.</span>
<span class="sd">    :param pulse_width: The pulse width in seconds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;pulseWidth&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;&#39;pulseWidth&#39; is deprecated, use &#39;pulse_width&#39; instead.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">pulse_width</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;pulseWidth&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">pulse_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;pulse_width is required.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:LOW </span><span class="si">{</span><span class="n">v0</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:HIGH </span><span class="si">{</span><span class="n">v1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:PERiod </span><span class="si">{</span><span class="n">period</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:FUNCtion:PULSe:WIDTh </span><span class="si">{</span><span class="n">pulse_width</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_ramp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wgen_ramp</span><span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">symmetry</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the waveform generator to a ramp wave.</p>
<p>:param v0: The voltage of the low state in volts
:param v1: The voltage of the high state in volts
:param freq: The frequency of the ramp wave in Hz.
:param symmetry: Symmetry (0% to 100%).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wgen_ramp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v0</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">freq</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">symmetry</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the waveform generator to a ramp wave.</span>

<span class="sd">    :param v0: The voltage of the low state in volts</span>
<span class="sd">    :param v1: The voltage of the high state in volts</span>
<span class="sd">    :param freq: The frequency of the ramp wave in Hz.</span>
<span class="sd">    :param symmetry: Symmetry (0% to 100%).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">RAMP</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">clamp_symmetry</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:LOW </span><span class="si">{</span><span class="n">v0</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:HIGH </span><span class="si">{</span><span class="n">v1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:FREQuency </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:FUNCtion:RAMP:SYMMetry </span><span class="si">{</span><span class="n">clamp_symmetry</span><span class="p">(</span><span class="n">symmetry</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_sin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wgen_sin</span><span class="p">(</span><span class="n">amp</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">freq</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the waveform generator to a sine wave.</p>
<p>:param amp: The amplitude of the sine wave in volts
:param offset: The offset of the sine wave in volts
:param freq: The frequency of the sine wave in Hz.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wgen_sin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amp</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">freq</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the waveform generator to a sine wave.</span>

<span class="sd">    :param amp: The amplitude of the sine wave in volts</span>
<span class="sd">    :param offset: The offset of the sine wave in volts</span>
<span class="sd">    :param freq: The frequency of the sine wave in Hz.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_amp</span><span class="p">(</span><span class="n">amp</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_offset</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.set_wgen_square" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_wgen_square</span><span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the waveform generator to a square wave.</p>
<p>:param v0: The voltage of the low state in volts
:param v1: The voltage of the high state in volts
:param freq: The frequency of the square wave in Hz.
:param duty_cycle: The duty cycle (1% to 99%).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_wgen_square</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v0</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">freq</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the waveform generator to a square wave.</span>

<span class="sd">    :param v0: The voltage of the low state in volts</span>
<span class="sd">    :param v1: The voltage of the high state in volts</span>
<span class="sd">    :param freq: The frequency of the square wave in Hz.</span>
<span class="sd">    :param duty_cycle: The duty cycle (1% to 99%).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;dutyCycle&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;&#39;dutyCycle&#39; is deprecated, use &#39;duty_cycle&#39; instead.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">duty_cycle</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;dutyCycle&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">duty_cycle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">duty_cycle</span> <span class="o">=</span> <span class="mi">50</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">function_generator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;Function generator not configured.&quot;</span>
        <span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_wave_gen_func</span><span class="p">(</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clamp_duty</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="mi">99</span><span class="p">))</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:LOW </span><span class="si">{</span><span class="n">v0</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:VOLTage:HIGH </span><span class="si">{</span><span class="n">v1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:FREQuency </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;:WGEN:FUNCtion:SQUare:DCYCle </span><span class="si">{</span><span class="n">clamp_duty</span><span class="p">(</span><span class="n">duty_cycle</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.Oscilloscope.wave_gen" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">wave_gen</span><span class="p">(</span><span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enable or disable the waveform generator of the oscilloscope.</p>
<p>Args:
state (bool): True to enable ('ON'), False to disable ('OFF').</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="c1">#@ConfigRequires(&quot;function_generator&quot;)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">wave_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enable or disable the waveform generator of the oscilloscope.</span>

<span class="sd">    Args:</span>
<span class="sd">    state (bool): True to enable (&#39;ON&#39;), False to disable (&#39;OFF&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;WGEN:OUTP </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.Preamble" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">Preamble</span><span class="p">(</span><span class="nb">format</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">xinc</span><span class="p">,</span> <span class="n">xorg</span><span class="p">,</span> <span class="n">xref</span><span class="p">,</span> <span class="n">yinc</span><span class="p">,</span> <span class="n">yorg</span><span class="p">,</span> <span class="n">yref</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">


        <p>Holds the waveform preamble data from the oscilloscope.</p>
<p>The preamble contains all the necessary metadata to convert the raw, digitized
ADC values from the oscilloscope into meaningful time and voltage arrays. It
describes the scaling and offset factors for both the X (time) and Y (voltage)
axes.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="format

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.format)" href="#pytestlab.instruments.Oscilloscope.Preamble.format">format</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Data format (e.g., 'BYTE', 'WORD').</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="type

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.type)" href="#pytestlab.instruments.Oscilloscope.Preamble.type">type</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Acquisition type (e.g., 'NORMal', 'AVERage').</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="points

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.points)" href="#pytestlab.instruments.Oscilloscope.Preamble.points">points</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The number of data points in the waveform.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="xinc

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.xinc)" href="#pytestlab.instruments.Oscilloscope.Preamble.xinc">xinc</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The time difference between adjacent data points (sampling interval).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="xorg

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.xorg)" href="#pytestlab.instruments.Oscilloscope.Preamble.xorg">xorg</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The time value of the first data point.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="xref

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.xref)" href="#pytestlab.instruments.Oscilloscope.Preamble.xref">xref</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The reference time point (usually the trigger point).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="yinc

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.yinc)" href="#pytestlab.instruments.Oscilloscope.Preamble.yinc">yinc</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The voltage difference for each ADC level (voltage resolution).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="yorg

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.yorg)" href="#pytestlab.instruments.Oscilloscope.Preamble.yorg">yorg</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The voltage value at the vertical center of the screen.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="yref

  
      instance-attribute
   (pytestlab.instruments.Oscilloscope.Preamble.yref)" href="#pytestlab.instruments.Oscilloscope.Preamble.yref">yref</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The ADC level corresponding to the vertical center.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">





<h5 id="pytestlab.instruments.Oscilloscope.Preamble-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.format" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">format</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">points</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.type" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">type</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.xinc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">xinc</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.xorg" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">xorg</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.xref" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">xref</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.yinc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">yinc</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.yorg" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">yorg</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Oscilloscope.Preamble.yref" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">yref</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.Oscilloscope.Preamble-functions">Functions</h5>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ScopeAcquisitionFacade</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">


        <p>Provides a simplified interface for the oscilloscope's acquisition system.</p>
<p>This facade manages settings related to how the oscilloscope digitizes
signals, including acquisition type (e.g., Normal, Averaging), memory mode
(Real-time vs. Segmented), and sample rates.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade._scope">_scope</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The parent <code>Oscilloscope</code> instance.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="s1">&#39;Oscilloscope&#39;</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span> <span class="o">=</span> <span class="n">scope</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.analyze_all_segments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">analyze_all_segments</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Execute the scope's <em>Analyze Segments</em> soft-key.
Requires scope to be stopped and in SEGMENTED mode.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">analyze_all_segments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute the scope&#39;s *Analyze Segments* soft-key.</span>
<span class="sd">    Requires scope to be stopped and in SEGMENTED mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_acquisition_mode</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;SEGMENTED&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Segment analysis requires SEGMENTED mode.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;:ACQuire:SEGMented:ANALyze&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquire_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_acquire_points</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Hardware points actually <em>acquired</em> for the next waveform transfer.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_acquire_points</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Hardware points actually *acquired* for the next waveform transfer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:POINts?&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquire_setup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_acquire_setup</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Return a parsed dictionary of the scope's :ACQuire? status string.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_acquire_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a parsed dictionary of the scope&#39;s :ACQuire? status string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">raw_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">parts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">raw_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)]</span>
    <span class="n">setup_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
        <span class="n">kv</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">kv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">setup_dict</span><span class="p">[</span><span class="n">kv</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">kv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">setup_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_average_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_acquisition_average_count</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Integer average count (valid only when acquisition type == AVERAGE).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_acquisition_average_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Integer average count (valid only when acquisition type == AVERAGE).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:COUNt?&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_acquisition_mode</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Return "REAL_TIME" or "SEGMENTED".</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return &quot;REAL_TIME&quot; or &quot;SEGMENTED&quot;.&quot;&quot;&quot;</span>
    <span class="n">resp_str_raw</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:MODE?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">friendly_name</span><span class="p">,</span> <span class="n">scpi_command_str</span> <span class="ow">in</span> <span class="n">_ACQ_MODE_MAP</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">resp_str_raw</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">scpi_command_str</span><span class="o">.</span><span class="n">upper</span><span class="p">()[:</span><span class="mi">4</span><span class="p">]):</span>
            <span class="k">return</span> <span class="n">friendly_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not map SCPI response &#39;</span><span class="si">{</span><span class="n">resp_str_raw</span><span class="si">}</span><span class="s2">&#39; to a known AcquisitionMode. Returning raw response.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resp_str_raw</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_sample_rate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_acquisition_sample_rate</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Current sample rate of acquisition. Equivalent to get_sampling_rate().</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_acquisition_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Current sample rate of acquisition. Equivalent to get_sampling_rate().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:SRATe?&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_acquisition_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_acquisition_type</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns current acquisition type (e.g., "NORMAL", "AVERAGE").</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_acquisition_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns current acquisition type (e.g., &quot;NORMAL&quot;, &quot;AVERAGE&quot;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Invert _ACQ_TYPE_MAP for lookup: SCPI response -&gt; Enum member name</span>
    <span class="c1"># SCPI responses can be short forms (e.g., &quot;NORM&quot; for &quot;NORMal&quot;)</span>
    <span class="c1"># We need to match based on how the instrument actually responds.</span>
    <span class="c1"># A common way is that instrument responds with the short form.</span>
    <span class="c1"># Let&#39;s assume the instrument responds with a value that can be mapped back.</span>
    <span class="n">resp_str_raw</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:TYPE?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">enum_member</span><span class="p">,</span> <span class="n">scpi_command_str</span> <span class="ow">in</span> <span class="n">_ACQ_TYPE_MAP</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Check if the response starts with the typical short SCPI command part</span>
        <span class="c1"># e.g. &quot;NORM&quot; from &quot;NORMal&quot;</span>
        <span class="c1"># This matching logic might need to be more robust based on actual instrument behavior</span>
        <span class="k">if</span> <span class="n">resp_str_raw</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">scpi_command_str</span><span class="o">.</span><span class="n">upper</span><span class="p">()[:</span><span class="mi">4</span><span class="p">]):</span> <span class="c1"># Compare first 4 chars</span>
            <span class="k">return</span> <span class="n">enum_member</span><span class="o">.</span><span class="n">name</span> <span class="c1"># Return the string name of the enum member</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not map SCPI response &#39;</span><span class="si">{</span><span class="n">resp_str_raw</span><span class="si">}</span><span class="s2">&#39; to a known AcquisitionType. Returning raw response.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resp_str_raw</span> <span class="c1"># Fallback to raw response if no match</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_segment_index" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_segment_index</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Index (1-based) of the currently selected memory segment.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_segment_index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Index (1-based) of the currently selected memory segment.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:SEGMented:INDex?&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.get_segmented_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_segmented_count</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Number of segments currently configured (SEGMENTED mode only).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_segmented_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of segments currently configured (SEGMENTED mode only).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:SEGMented:COUNt?&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_acquisition_average_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_acquisition_average_count</span><span class="p">(</span><span class="n">count</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Set the running-average length for AVERAGE mode.
2 &lt;= count &lt;= 65536 (Keysight limit).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_acquisition_average_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the running-average length for AVERAGE mode.</span>
<span class="sd">    2 &lt;= count &lt;= 65536 (Keysight limit).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">_validate_range</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">65_536</span><span class="p">,</span> <span class="s2">&quot;Average count&quot;</span><span class="p">)</span> <span class="c1"># Sync</span>

    <span class="n">current_acq_type_str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_acquisition_type</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">current_acq_type_str</span> <span class="o">!=</span> <span class="n">AcquisitionType</span><span class="o">.</span><span class="n">AVERAGE</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Average count can only be set when acquisition type is AVERAGE, not </span><span class="si">{</span><span class="n">current_acq_type_str</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:ACQuire:COUNt </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AVERAGE count set  </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_acquisition_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Select real-time or segmented memory acquisition.
(Case-insensitive for mode).</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select real-time or segmented memory acquisition.</span>
<span class="sd">    (Case-insensitive for mode).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mode_upper</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">mode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">scpi_mode_val</span> <span class="o">=</span> <span class="n">_ACQ_MODE_MAP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode_upper</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">scpi_mode_val</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">_ACQ_MODE_MAP</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unknown acquisition mode.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:ACQuire:MODE </span><span class="si">{</span><span class="n">scpi_mode_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Acquisition MODE set  </span><span class="si">{</span><span class="n">mode_upper</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_acquisition_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_acquisition_type</span><span class="p">(</span><span class="n">acq_type</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Select the oscilloscope acquisition algorithm.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_acquisition_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">acq_type</span><span class="p">:</span> <span class="n">AcquisitionType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select the oscilloscope acquisition algorithm.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_val</span> <span class="o">=</span> <span class="n">_ACQ_TYPE_MAP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">acq_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">scpi_val</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;acq_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">acq_type</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Unsupported acquisition type enum member.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">current_mode_query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;:ACQuire:MODE?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">acq_type</span> <span class="o">==</span> <span class="n">AcquisitionType</span><span class="o">.</span><span class="n">AVERAGE</span> <span class="ow">and</span> <span class="n">current_mode_query</span> <span class="o">==</span> <span class="n">_ACQ_MODE_MAP</span><span class="p">[</span><span class="s2">&quot;SEGMENTED&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()[:</span><span class="mi">4</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;acq_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;AVERAGE&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;AVERAGE mode is unavailable in SEGMENTED acquisition.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:ACQuire:TYPE </span><span class="si">{</span><span class="n">scpi_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Acquisition TYPE set  </span><span class="si">{</span><span class="n">acq_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_segment_index" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_segment_index</span><span class="p">(</span><span class="n">index</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Select which memory segment is active for readback.
1 &lt;= index &lt;= get_segmented_count()</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_segment_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select which memory segment is active for readback.</span>
<span class="sd">    1 &lt;= index &lt;= get_segmented_count()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">total_segments</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_segmented_count</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">_validate_range</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">total_segments</span><span class="p">,</span> <span class="s2">&quot;Segment index&quot;</span><span class="p">)</span> <span class="c1"># Sync</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:ACQuire:SEGMented:INDex </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeAcquisitionFacade.set_segmented_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_segmented_count</span><span class="p">(</span><span class="n">count</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configure number of memory segments for SEGMENTED acquisitions.
Default Keysight limit: 2 &lt;= count &lt;= 500 (check instrument specs)</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_segmented_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Configure number of memory segments for SEGMENTED acquisitions.</span>
<span class="sd">    Default Keysight limit: 2 &lt;= count &lt;= 500 (check instrument specs)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_acquisition_mode</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;SEGMENTED&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Segmented count can only be set while in SEGMENTED acquisition mode.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="n">_validate_range</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;Segmented count&quot;</span><span class="p">)</span> <span class="c1"># Sync</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:ACQuire:SEGMented:COUNt </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_wait</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Segmented COUNT set  </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ScopeChannelFacade</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">channel_num</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">


        <p>Provides a simplified, chainable interface for a single oscilloscope channel.</p>
<p>This facade abstracts the underlying SCPI commands for common channel
operations, allowing for more readable and fluent test scripts. For example:
<code>await scope.channel(1).setup(scale=0.5, offset=0).enable()</code></p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Oscilloscope.ScopeChannelFacade._scope">_scope</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The parent <code>Oscilloscope</code> instance.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Oscilloscope.ScopeChannelFacade._channel">_channel</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The channel number this facade controls.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="s1">&#39;Oscilloscope&#39;</span><span class="p">,</span> <span class="n">channel_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span> <span class="o">=</span> <span class="n">scope</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span> <span class="o">=</span> <span class="n">channel_num</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade.disable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">disable</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Disables the channel display.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disables the channel display.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">display_channel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade.enable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables the channel display.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables the channel display.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">display_channel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade.measure_peak_to_peak" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_peak_to_peak</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Performs a peak-to-peak voltage measurement on this channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_peak_to_peak</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a peak-to-peak voltage measurement on this channel.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">measure_voltage_peak_to_peak</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade.measure_rms" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_rms</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Performs an RMS voltage measurement on this channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_rms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs an RMS voltage measurement on this channel.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">measure_rms_voltage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeChannelFacade.setup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">coupling</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">probe_attenuation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bandwidth_limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures multiple settings for the channel in a single call.</p>
<p>This method allows setting the vertical scale, position/offset, coupling,
probe attenuation, and bandwidth limit. Any parameter left as <code>None</code> will
not be changed.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>scale</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The vertical scale in volts per division.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The vertical position in divisions from the center.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>offset</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The vertical offset in volts. 'offset' is often preferred
    over 'position' as it's independent of the scale.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coupling</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The input coupling ("AC" or "DC").</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>probe_attenuation</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The attenuation factor of the probe (e.g., 10 for 10:1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bandwidth_limit</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The bandwidth limit to apply (e.g., "20M" or 20e6).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="float">float</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Self">Self</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The <code>ScopeChannelFacade</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">coupling</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">probe_attenuation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bandwidth_limit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures multiple settings for the channel in a single call.</span>

<span class="sd">    This method allows setting the vertical scale, position/offset, coupling,</span>
<span class="sd">    probe attenuation, and bandwidth limit. Any parameter left as `None` will</span>
<span class="sd">    not be changed.</span>

<span class="sd">    Args:</span>
<span class="sd">        scale: The vertical scale in volts per division.</span>
<span class="sd">        position: The vertical position in divisions from the center.</span>
<span class="sd">        offset: The vertical offset in volts. &#39;offset&#39; is often preferred</span>
<span class="sd">                over &#39;position&#39; as it&#39;s independent of the scale.</span>
<span class="sd">        coupling: The input coupling (&quot;AC&quot; or &quot;DC&quot;).</span>
<span class="sd">        probe_attenuation: The attenuation factor of the probe (e.g., 10 for 10:1).</span>
<span class="sd">        bandwidth_limit: The bandwidth limit to apply (e.g., &quot;20M&quot; or 20e6).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `ScopeChannelFacade` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">scale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">current_offset_val</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">get_channel_axis</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">position</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">(</span><span class="n">offset</span> <span class="ow">or</span> <span class="n">position</span> <span class="ow">or</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">set_channel_axis</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">current_offset_val</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">position</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">offset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># only position/offset is set</span>
        <span class="n">val_to_set</span> <span class="o">=</span> <span class="n">position</span> <span class="k">if</span> <span class="n">position</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">offset</span>
        <span class="n">current_scale_val</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">get_channel_axis</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">set_channel_axis</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">current_scale_val</span><span class="p">,</span> <span class="n">val_to_set</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">coupling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:CHANnel</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="si">}</span><span class="s2">:COUPling </span><span class="si">{</span><span class="n">coupling</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="si">}</span><span class="s2"> coupling set to </span><span class="si">{</span><span class="n">coupling</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">probe_attenuation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">set_probe_attenuation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">probe_attenuation</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">bandwidth_limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">set_bandwidth_limit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">bandwidth_limit</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Oscilloscope.ScopeTriggerFacade" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ScopeTriggerFacade</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">


        <p>Provides a simplified, chainable interface for the oscilloscope's trigger system.</p>
<p>This facade abstracts the underlying SCPI commands for trigger operations,
focusing on common use cases like setting up an edge trigger.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.Oscilloscope.ScopeTriggerFacade._scope">_scope</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The parent <code>Oscilloscope</code> instance.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="s1">&#39;Oscilloscope&#39;</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span> <span class="o">=</span> <span class="n">scope</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.Oscilloscope.ScopeTriggerFacade-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Oscilloscope.ScopeTriggerFacade.setup_edge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_edge</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="n">TriggerSlope</span><span class="o">.</span><span class="n">POSITIVE</span><span class="p">,</span> <span class="n">coupling</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;EDGE&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures a standard edge trigger.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The trigger source (e.g., "CH1", "CH2", "EXT", "LINE").</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The trigger level in volts.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>slope</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The trigger slope (<code>TriggerSlope.POSITIVE</code>, <code>NEGATIVE</code>, or <code>EITHER</code>).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="TriggerSlope (pytestlab.common.enums.TriggerSlope)" href="../common/#pytestlab.common.enums.TriggerSlope">TriggerSlope</a></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code><a class="autorefs autorefs-internal" title="POSITIVE = 'POS'

  
      class-attribute
      instance-attribute
   (pytestlab.common.enums.TriggerSlope.POSITIVE)" href="../common/#pytestlab.common.enums.TriggerSlope.POSITIVE">POSITIVE</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coupling</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The trigger coupling (e.g., "AC", "DC"). Can be instrument-specific.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The trigger mode, defaults to "EDGE".</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>&#39;EDGE&#39;</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Self">Self</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The <code>ScopeTriggerFacade</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Oscilloscope.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">slope</span><span class="p">:</span> <span class="n">TriggerSlope</span> <span class="o">=</span> <span class="n">TriggerSlope</span><span class="o">.</span><span class="n">POSITIVE</span><span class="p">,</span> <span class="n">coupling</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;EDGE&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures a standard edge trigger.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The trigger source (e.g., &quot;CH1&quot;, &quot;CH2&quot;, &quot;EXT&quot;, &quot;LINE&quot;).</span>
<span class="sd">        level: The trigger level in volts.</span>
<span class="sd">        slope: The trigger slope (`TriggerSlope.POSITIVE`, `NEGATIVE`, or `EITHER`).</span>
<span class="sd">        coupling: The trigger coupling (e.g., &quot;AC&quot;, &quot;DC&quot;). Can be instrument-specific.</span>
<span class="sd">        mode: The trigger mode, defaults to &quot;EDGE&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `ScopeTriggerFacade` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Determine channel number if source is like &#39;CH1&#39; for the level command</span>
    <span class="n">trigger_channel_for_level</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># Default or fallback</span>
    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;CHAN&quot;</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">trigger_channel_for_level</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;CHAN&quot;</span><span class="p">):])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid trigger source format for channel.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">elif</span> <span class="n">source</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;CH&quot;</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">trigger_channel_for_level</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;CH&quot;</span><span class="p">):])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid trigger source format for channel.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="c1"># The main configure_trigger method handles source validation and mapping.</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">configure_trigger</span><span class="p">(</span>
        <span class="n">channel</span><span class="o">=</span><span class="n">trigger_channel_for_level</span><span class="p">,</span> <span class="c1"># This is for the :TRIGger:LEVel CHANnel&lt;n&gt; part</span>
        <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="c1"># This is for :TRIGger:SOURce part</span>
        <span class="n">slope</span><span class="o">=</span><span class="n">slope</span><span class="p">,</span>
        <span class="n">mode</span><span class="o">=</span><span class="n">mode</span>
    <span class="p">)</span>
    <span class="c1"># Coupling for trigger is often separate, e.g., :TRIGger:COUPling</span>
    <span class="k">if</span> <span class="n">coupling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:TRIGger:</span><span class="si">{</span><span class="n">mode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">:COUPling </span><span class="si">{</span><span class="n">coupling</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Assuming edge trigger coupling</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scope</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Trigger coupling set to </span><span class="si">{</span><span class="n">coupling</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="power-supply">Power Supply</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.PowerSupply" class="doc doc-heading">
            <code>pytestlab.instruments.PowerSupply</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.PowerSupply-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.PowerSupply.PSUChannelConfig" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PSUChannelConfig</span><span class="p">(</span><span class="n">voltage</span><span class="p">,</span> <span class="n">current</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">


        <p>A data class to hold the measured configuration of a single PSU channel.</p>
<p>This class is used to structure the data returned by <code>get_configuration</code>,
providing a snapshot of a channel's state. It is not a Pydantic model for
loading configurations from files.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="voltage = voltage

  
      instance-attribute
   (pytestlab.instruments.PowerSupply.PSUChannelConfig.voltage)" href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.voltage">voltage</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The measured voltage of the channel.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span> | <span title="uncertainties.core.UFloat">UFloat</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="current = current

  
      instance-attribute
   (pytestlab.instruments.PowerSupply.PSUChannelConfig.current)" href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.current">current</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The measured current of the channel.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span> | <span title="uncertainties.core.UFloat">UFloat</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="state

  
      instance-attribute
   (pytestlab.instruments.PowerSupply.PSUChannelConfig.state)" href="#pytestlab.instruments.PowerSupply.PSUChannelConfig.state">state</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The output state of the channel ("ON" or "OFF").</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>

        <p>Initializes the PSUChannelConfig.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>voltage</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The voltage value for the channel.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span> | <span title="uncertainties.core.UFloat">UFloat</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The current value for the channel.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span> | <span title="uncertainties.core.UFloat">UFloat</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>state</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The state of the channel (e.g., 0, 1, "ON", "OFF").</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="str">str</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">voltage</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span><span class="p">,</span> <span class="n">current</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the PSUChannelConfig.</span>

<span class="sd">    Args:</span>
<span class="sd">        voltage: The voltage value for the channel.</span>
<span class="sd">        current: The current value for the channel.</span>
<span class="sd">        state: The state of the channel (e.g., 0, 1, &quot;ON&quot;, &quot;OFF&quot;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">voltage</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="n">voltage</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="n">current</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># Store state as string &quot;ON&quot; or &quot;OFF&quot; for consistency</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="c1"># Normalize state from various string inputs like &quot;1&quot;, &quot;0&quot;, &quot;ON&quot;, &quot;OFF&quot;</span>
        <span class="n">state_upper</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">state_upper</span> <span class="o">==</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="n">state_upper</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="n">state_upper</span> <span class="o">==</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span> <span class="ow">or</span> <span class="n">state_upper</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid string state value: </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span> <span class="c1"># float for query results that might be like 1.0</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid state value type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">state</span><span class="p">)</span><span class="si">}</span><span class="s2">, value: </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.PowerSupply.PSUChannelConfig-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.PowerSupply.PSUChannelConfig.current" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current</span> <span class="o">=</span> <span class="n">current</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.PowerSupply.PSUChannelConfig.state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">state</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.PowerSupply.PSUChannelConfig.voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">voltage</span> <span class="o">=</span> <span class="n">voltage</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.PowerSupply.PSUChannelConfig-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelConfig.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PSUChannelConfig(voltage=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">voltage</span><span class="si">!r}</span><span class="s2">, current=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current</span><span class="si">!r}</span><span class="s2">, state=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.PowerSupply.PSUChannelFacade" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PSUChannelFacade</span><span class="p">(</span><span class="n">psu</span><span class="p">,</span> <span class="n">channel_num</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">


        <p>Provides a simplified, chainable interface for a single PSU channel.</p>
<p>This facade abstracts the underlying SCPI commands for common channel
operations, allowing for more readable and fluent test scripts. For example:
<code>await psu.channel(1).set(voltage=5.0, current_limit=0.1).on()</code></p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.PowerSupply.PSUChannelFacade._psu">_psu</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The parent <code>PowerSupply</code> instance.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pytestlab.instruments.PowerSupply.PSUChannelFacade._channel">_channel</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The channel number (1-based) this facade controls.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">psu</span><span class="p">:</span> <span class="s1">&#39;PowerSupply&#39;</span><span class="p">,</span> <span class="n">channel_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span> <span class="o">=</span> <span class="n">psu</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span> <span class="o">=</span> <span class="n">channel_num</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.PowerSupply.PSUChannelFacade-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelFacade.get_current" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_current</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads the measured current from this channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_current</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads the measured current from this channel.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">read_current</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelFacade.get_output_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_state</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if the channel output is enabled (ON).</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="bool">bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>True if the output is on, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the instrument returns an unexpected state.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_output_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the channel output is enabled (ON).</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the output is on, False otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the instrument returns an unexpected state.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">OUTPUT_STATE_QUERY_BASE</span><span class="si">}</span><span class="s2"> (@</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="n">state_str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">command</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">state_str</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;ON&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">state_str</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;OFF&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected output state &#39;</span><span class="si">{</span><span class="n">state_str</span><span class="si">}</span><span class="s2">&#39; for channel </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelFacade.get_voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voltage</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads the measured voltage from this channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads the measured voltage from this channel.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">read_voltage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelFacade.off" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">off</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Disables the output of this channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">off</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disables the output of this channel.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelFacade.on" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables the output of this channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">on</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables the output of this channel.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PSUChannelFacade.set" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="n">voltage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">current_limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the voltage and/or current limit for this channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>voltage</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The target voltage in Volts.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current_limit</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The current limit in Amperes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Self">Self</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The <code>PSUChannelFacade</code> instance for method chaining.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">voltage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">current_limit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the voltage and/or current limit for this channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        voltage: The target voltage in Volts.</span>
<span class="sd">        current_limit: The current limit in Amperes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `PSUChannelFacade` instance for method chaining.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">voltage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">set_voltage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">voltage</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">current_limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_psu</span><span class="o">.</span><span class="n">set_current</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">current_limit</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.PowerSupply.PowerSupply" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PowerSupply</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.power_supply_config.PowerSupplyConfig (pytestlab.config.PowerSupplyConfig)" href="../config/#pytestlab.config.power_supply_config.PowerSupplyConfig">PowerSupplyConfig</a>]</code></p>


        <p>Drives a multi-channel Power Supply Unit (PSU).</p>
<p>This class provides a high-level interface for controlling a programmable
power supply. It builds upon the base <code>Instrument</code> class and adds methods
for setting and reading voltage and current on a per-channel basis. It also
supports incorporating measurement uncertainty if configured.</p>
<p>A key feature is the <code>channel()</code> method, which returns a <code>PSUChannelFacade</code>
for a simplified, chainable programming experience.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="config

  
      instance-attribute
   (pytestlab.instruments.PowerSupply.PowerSupply.config)" href="#pytestlab.instruments.PowerSupply.PowerSupply.config">config</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The Pydantic configuration object (<code>PowerSupplyConfig</code>)
    containing settings specific to this PSU.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="pytestlab.config.power_supply_config.PowerSupplyConfig (pytestlab.config.PowerSupplyConfig)" href="../config/#pytestlab.config.power_supply_config.PowerSupplyConfig">PowerSupplyConfig</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="SCPI_MAP = KeysightEDU36311APSU_SCPI()

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.PowerSupply.PowerSupply.SCPI_MAP)" href="#pytestlab.instruments.PowerSupply.PowerSupply.SCPI_MAP">SCPI_MAP</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>An object that maps generic functions to model-specific SCPI commands.</p>
              </div>
              <p>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigType</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Changed to AsyncInstrumentIO</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Instrument class.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigType): Configuration for the instrument.</span>
<span class="sd">        backend (AsyncInstrumentIO): The communication backend instance.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span> <span class="c1"># Check against the bound base</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;A valid InstrumentConfig-compatible object must be provided, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="c1"># This will be an AsyncInstrumentIO instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_command_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Initializing with backend &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.PowerSupply.PowerSupply-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.SCPI_MAP" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">SCPI_MAP</span> <span class="o">=</span> <span class="n">KeysightEDU36311APSU_SCPI</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.model_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arbitrary_types_allowed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.PowerSupply.PowerSupply-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.channel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">channel</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a facade for interacting with a specific channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ch_num</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number (1-based).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>PSUChannelFacade</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A facade object for the specified channel.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="PSUChannelFacade(psu, channel_num) (pytestlab.instruments.PowerSupply.PSUChannelFacade)" href="#pytestlab.instruments.PowerSupply.PSUChannelFacade">PSUChannelFacade</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If channel number is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">def</span><span class="w"> </span><span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ch_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PSUChannelFacade</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a facade for interacting with a specific channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        ch_num (int): The channel number (1-based).</span>

<span class="sd">    Returns:</span>
<span class="sd">        PSUChannelFacade: A facade object for the specified channel.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If channel number is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="ow">or</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">ch_num</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="n">num_ch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel number </span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2"> is out of range (1-</span><span class="si">{</span><span class="n">num_ch</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">PSUChannelFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ch_num</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.display" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">display</span><span class="p">(</span><span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables or disables the instrument's front panel display.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>state</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>True to turn the display on, False to turn it off.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables or disables the instrument&#39;s front panel display.</span>

<span class="sd">    Args:</span>
<span class="sd">        state: True to turn the display on, False to turn it off.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DISP </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s1">&#39;PowerSupply&#39;</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">PowerSupplyConfig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;PowerSupply&#39;</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.get_configuration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_configuration</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads the live state of all configured PSU channels.</p>
<p>This method iterates through all channels defined in the configuration,
queries their current voltage, current, and output state, and returns
the collected data.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span>[<span title="int">int</span>, <a class="autorefs autorefs-internal" title="PSUChannelConfig(voltage, current, state) (pytestlab.instruments.PowerSupply.PSUChannelConfig)" href="#pytestlab.instruments.PowerSupply.PSUChannelConfig">PSUChannelConfig</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A dictionary where keys are channel numbers (1-based) and values are</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span>[<span title="int">int</span>, <a class="autorefs autorefs-internal" title="PSUChannelConfig(voltage, current, state) (pytestlab.instruments.PowerSupply.PSUChannelConfig)" href="#pytestlab.instruments.PowerSupply.PSUChannelConfig">PSUChannelConfig</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p><code>PSUChannelConfig</code> objects representing the state of each channel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">PSUChannelConfig</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads the live state of all configured PSU channels.</span>

<span class="sd">    This method iterates through all channels defined in the configuration,</span>
<span class="sd">    queries their current voltage, current, and output state, and returns</span>
<span class="sd">    the collected data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary where keys are channel numbers (1-based) and values are</span>
<span class="sd">        `PSUChannelConfig` objects representing the state of each channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">PSUChannelConfig</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No channels defined in the PowerSupplyConfig. Cannot get configuration.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="n">num_channels</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">channel_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_channels</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="c1"># Iterate 1-indexed channel numbers</span>
        <span class="n">voltage_val</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_voltage</span><span class="p">(</span><span class="n">channel_num</span><span class="p">)</span> <span class="c1"># Already uses @validate_call</span>
        <span class="n">current_val</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_current</span><span class="p">(</span><span class="n">channel_num</span><span class="p">)</span> <span class="c1"># Already uses @validate_call</span>
        <span class="c1"># Query output state using SCPI_MAP</span>
        <span class="n">output_state_command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">OUTPUT_STATE_QUERY_BASE</span><span class="si">}</span><span class="s2"> (@</span><span class="si">{</span><span class="n">channel_num</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="n">state_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">output_state_command</span><span class="p">)</span>

        <span class="n">results</span><span class="p">[</span><span class="n">channel_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">PSUChannelConfig</span><span class="p">(</span>
            <span class="n">voltage</span><span class="o">=</span><span class="n">voltage_val</span><span class="p">,</span>
            <span class="n">current</span><span class="o">=</span><span class="n">current_val</span><span class="p">,</span>
            <span class="n">state</span><span class="o">=</span><span class="n">state_str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.id" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">id</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Queries the instrument identification string.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>str</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The instrument identification string.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Queries the instrument identification string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The instrument identification string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">IDN</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.output" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">output</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables or disables the output for one or more channels.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A single channel number (1-based) or a list of channel numbers.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="typing.List">List</span>[<span title="int">int</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>state</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>True to enable the output (ON), False to disable (OFF).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If any channel number is invalid.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="ValueError">ValueError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the <code>channel</code> argument is not an int or a list of ints.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables or disables the output for one or more channels.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: A single channel number (1-based) or a list of channel numbers.</span>
<span class="sd">        state: True to enable the output (ON), False to disable (OFF).</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If any channel number is invalid.</span>
<span class="sd">        ValueError: If the `channel` argument is not an int or a list of ints.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">channels_to_process</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">channels_to_process</span> <span class="o">=</span> <span class="p">[</span><span class="n">channel</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="c1"># Ensure all elements in the list are integers</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">channel</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All elements in channel list must be integers.&quot;</span><span class="p">)</span>
        <span class="n">channels_to_process</span> <span class="o">=</span> <span class="n">channel</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># This case should ideally be caught by validate_call if type hints are precise enough,</span>
        <span class="c1"># but an explicit check remains good practice.</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid channel type: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span><span class="si">}</span><span class="s2">. Expected int or List[int].&quot;</span><span class="p">)</span>

    <span class="n">num_configured_channels</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">ch_num</span> <span class="ow">in</span> <span class="n">channels_to_process</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">ch_num</span> <span class="o">&lt;=</span> <span class="n">num_configured_channels</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel number </span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2"> is out of range (1-</span><span class="si">{</span><span class="n">num_configured_channels</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>

    <span class="n">argument</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">channels_to_process</span><span class="p">))</span>
    <span class="n">scpi_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">OUTPUT_STATE_SET_BASE</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">scpi_state</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">argument</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.read_current" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_current</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads the measured output current from a specific channel.</p>
<p>If measurement accuracy is defined in the configuration, this method
will return a <code>UFloat</code> object containing the value and its uncertainty.
Otherwise, it returns a standard float.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number to measure (1-based).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="float">float</span> | <span title="uncertainties.core.UFloat">UFloat</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The measured current as a float or <code>UFloat</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the channel number is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads the measured output current from a specific channel.</span>

<span class="sd">    If measurement accuracy is defined in the configuration, this method</span>
<span class="sd">    will return a `UFloat` object containing the value and its uncertainty.</span>
<span class="sd">    Otherwise, it returns a standard float.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The channel number to measure (1-based).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The measured current as a float or `UFloat`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the channel number is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="ow">or</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="n">num_ch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel number </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> is out of range (1-</span><span class="si">{</span><span class="n">num_ch</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">MEAS_CURRENT_QUERY_BASE</span><span class="si">}</span><span class="s2"> (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="n">response_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="n">reading</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>

    <span class="n">value_to_return</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="n">reading</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="p">:</span>
        <span class="n">mode_key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;read_current_ch</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to find accuracy spec for read_current on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key: &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode_key</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">spec</span><span class="p">:</span>
            <span class="n">sigma</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">calculate_std_dev</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">range_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sigma</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">value_to_return</span> <span class="o">=</span> <span class="n">ufloat</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;, value: </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39; resulted in sigma=0. Returning float.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No accuracy spec found for read_current on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;. Returning float.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No measurement_accuracy configuration in instrument for read_current on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">value_to_return</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.read_voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_voltage</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads the measured output voltage from a specific channel.</p>
<p>If measurement accuracy is defined in the configuration, this method
will return a <code>UFloat</code> object containing the value and its uncertainty.
Otherwise, it returns a standard float.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number to measure (1-based).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="float">float</span> | <span title="uncertainties.core.UFloat">UFloat</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The measured voltage as a float or <code>UFloat</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the channel number is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads the measured output voltage from a specific channel.</span>

<span class="sd">    If measurement accuracy is defined in the configuration, this method</span>
<span class="sd">    will return a `UFloat` object containing the value and its uncertainty.</span>
<span class="sd">    Otherwise, it returns a standard float.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The channel number to measure (1-based).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The measured voltage as a float or `UFloat`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the channel number is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="ow">or</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="n">num_ch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel number </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> is out of range (1-</span><span class="si">{</span><span class="n">num_ch</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">MEAS_VOLTAGE_QUERY_BASE</span><span class="si">}</span><span class="s2"> (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="n">response_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="n">reading</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>

    <span class="n">value_to_return</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="n">UFloat</span> <span class="o">=</span> <span class="n">reading</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="p">:</span>
        <span class="n">mode_key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;read_voltage_ch</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempting to find accuracy spec for read_voltage on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key: &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">measurement_accuracy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode_key</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">spec</span><span class="p">:</span>
            <span class="n">sigma</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">calculate_std_dev</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">range_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sigma</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">value_to_return</span> <span class="o">=</span> <span class="n">ufloat</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;, value: </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Accuracy spec &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39; resulted in sigma=0. Returning float.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No accuracy spec found for read_voltage on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> with key &#39;</span><span class="si">{</span><span class="n">mode_key</span><span class="si">}</span><span class="s2">&#39;. Returning float.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No measurement_accuracy configuration in instrument for read_voltage on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">value_to_return</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.reset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Resets the instrument to its factory default settings.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resets the instrument to its factory default settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">RESET</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.set_current" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_current</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">current</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the current limit for a specific channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number (1-based).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>current</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The current limit in Amperes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the channel number is invalid or the
                      current is outside the configured range for
                      that channel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">current</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the current limit for a specific channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The channel number (1-based).</span>
<span class="sd">        current: The current limit in Amperes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the channel number is invalid or the</span>
<span class="sd">                                  current is outside the configured range for</span>
<span class="sd">                                  that channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="ow">or</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="n">num_ch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel number </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> is out of range (1-</span><span class="si">{</span><span class="n">num_ch</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>

    <span class="n">channel_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">channel</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="c1"># channel is 1-based</span>
    <span class="n">channel_config</span><span class="o">.</span><span class="n">current_limit_range</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Current for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Assuming current_limit_range from example</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">CURRENT_SET_BASE</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">current</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerSupply.PowerSupply.set_voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">voltage</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the output voltage for a specific channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number (1-based).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>voltage</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The target voltage in Volts.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the channel number is invalid or the
                      voltage is outside the configured range for
                      that channel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerSupply.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">voltage</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the output voltage for a specific channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The channel number (1-based).</span>
<span class="sd">        voltage: The target voltage in Volts.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the channel number is invalid or the</span>
<span class="sd">                                  voltage is outside the configured range for</span>
<span class="sd">                                  that channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Validate that the channel number is within the configured range</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="ow">or</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">channel</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)):</span>
        <span class="n">num_ch</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel number </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> is out of range (1-</span><span class="si">{</span><span class="n">num_ch</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>

    <span class="c1"># Validate the voltage against the limits defined in the configuration</span>
    <span class="n">channel_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">channel</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">channel_config</span><span class="o">.</span><span class="n">voltage_range</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="n">voltage</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Voltage for channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Construct and send the SCPI command</span>
    <span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SCPI_MAP</span><span class="o">.</span><span class="n">VOLTAGE_SET_BASE</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">voltage</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="waveform-generator">Waveform Generator</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.WaveformGenerator" class="doc doc-heading">
            <code>pytestlab.instruments.WaveformGenerator</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">





<h3 id="pytestlab.instruments.WaveformGenerator-attributes">Attributes</h3>

<div class="doc doc-object doc-attribute">



<h4 id="pytestlab.instruments.WaveformGenerator.WAVEFORM_PARAM_COMMANDS" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">WAVEFORM_PARAM_COMMANDS</span> <span class="o">=</span> <span class="p">{</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;duty_cycle&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:DCYCle </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:PERiod </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:WIDTh </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;transition_both&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:TRANsition:BOTH </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;transition_leading&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:TRANsition:LEADing </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;transition_trailing&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:TRANsition:TRAiling </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;hold_mode&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_str_hold</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:PULS:HOLD </span><span class="si">{</span><span class="n">v_str_hold</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;duty_cycle&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:SQUare:DCYCle </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:SQUare:PERiod </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">RAMP</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;symmetry&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:RAMP:SYMMetry </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">:</span> <span class="p">{},</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">NOISE</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bandwidth&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:NOISe:BANDwidth </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">ARB</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;sample_rate&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:ARB:SRATe </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">arb_filter_enum_val</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:ARB:FILTer </span><span class="si">{</span><span class="n">arb_filter_enum_val</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;advance_mode&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">arb_adv_enum_val</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:ARB:ADVance </span><span class="si">{</span><span class="n">arb_adv_enum_val</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:ARB:FREQ </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:ARB:PER </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;ptpeak_voltage&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">ch</span><span class="p">,</span> <span class="n">v_float</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s1">:FUNC:ARB:PTP </span><span class="si">{</span><span class="n">v_float</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">DC</span><span class="p">:</span> <span class="p">{}}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

    </div>

</div>
<h3 id="pytestlab.instruments.WaveformGenerator-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.WaveformGenerator.FileSystemInfo" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">FileSystemInfo</span><span class="p">(</span><span class="n">bytes_used</span><span class="p">,</span> <span class="n">bytes_free</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="nb">list</span><span class="p">())</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">


        <p>Data class representing the results of a directory listing query (<code>list_directory</code>).</p>
<p>Contains information about memory usage and the files/folders found in the queried path.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="bytes_used

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_used)" href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_used">bytes_used</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Total bytes used on the specified memory volume (INT or USB).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="bytes_free

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_free)" href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_free">bytes_free</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>Total bytes free on the specified memory volume.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="files = field(default_factory=list)

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.FileSystemInfo.files)" href="#pytestlab.instruments.WaveformGenerator.FileSystemInfo.files">files</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>A list of dictionaries, each representing a file or folder.
                          Example entry: <code>{'name': 'f.txt', 'type': 'FILE', 'size': 1024}</code>.
                          Type might be 'FILE', 'FOLDER', 'ARB', 'STAT', etc., depending on the file
                          extension and instrument response. Size is in bytes.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">





<h5 id="pytestlab.instruments.WaveformGenerator.FileSystemInfo-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_free" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bytes_free</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.FileSystemInfo.bytes_used" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bytes_used</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.FileSystemInfo.files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">files</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.WaveformGenerator.FileSystemInfo-functions">Functions</h5>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">WGChannelFacade</span><span class="p">(</span><span class="n">wg</span><span class="p">,</span> <span class="n">channel_num</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">








                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wg</span><span class="p">:</span> <span class="s1">&#39;WaveformGenerator&#39;</span><span class="p">,</span> <span class="n">channel_num</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span> <span class="o">=</span> <span class="n">wg</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span> <span class="o">=</span> <span class="n">channel_num</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.disable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">disable</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_output_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.enable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_output_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.set_load_impedance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_load_impedance</span><span class="p">(</span><span class="n">impedance</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_load_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">impedance</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_output_load_impedance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">impedance</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.set_voltage_unit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage_unit</span><span class="p">(</span><span class="n">unit</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit</span><span class="p">:</span> <span class="n">VoltageUnit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_voltage_unit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">unit</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_arbitrary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_arbitrary</span><span class="p">(</span><span class="n">arb_name</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_arbitrary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">phase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">ARB</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">select_arbitrary_waveform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_arbitrary_waveform_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">phase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_phase</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_dc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_dc</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">DC</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_pulse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_pulse</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transition_both</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_pulse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">transition_both</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">phase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="n">period</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">frequency</span> <span class="k">if</span> <span class="n">frequency</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">MAXIMUM</span>

    <span class="n">pulse_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="n">period</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pulse_params</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">width</span>
    <span class="k">elif</span> <span class="n">duty_cycle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pulse_params</span><span class="p">[</span><span class="s2">&quot;duty_cycle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">duty_cycle</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pulse_params</span><span class="p">[</span><span class="s2">&quot;duty_cycle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">50.0</span>

    <span class="k">if</span> <span class="n">transition_both</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pulse_params</span><span class="p">[</span><span class="s2">&quot;transition_both&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition_both</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="p">,</span> <span class="o">**</span><span class="n">pulse_params</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">phase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_phase</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_ramp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_ramp</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">symmetry</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_ramp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">symmetry</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">50.0</span><span class="p">,</span> <span class="n">phase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">RAMP</span><span class="p">,</span> <span class="n">symmetry</span><span class="o">=</span><span class="n">symmetry</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">frequency</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">phase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_phase</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_sine" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_sine</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_sine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">phase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">frequency</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">phase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_phase</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WGChannelFacade.setup_square" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_square</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="mf">50.0</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">setup_square</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">50.0</span><span class="p">,</span> <span class="n">phase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_function</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="n">duty_cycle</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">frequency</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">phase</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wg</span><span class="o">.</span><span class="n">set_phase</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">WaveformConfigResult</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">symmetry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">load_impedance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">voltage_unit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">


        <p>Data class storing the retrieved waveform configuration of a channel.</p>
<p>Provides a structured way to access key parameters of the channel's current state,
obtained by querying multiple SCPI commands.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="channel

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.channel)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.channel">channel</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The channel number (1 or 2).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="function

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.function)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.function">function</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The short SCPI name of the active waveform function (e.g., "SIN", "RAMP").</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="frequency

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.frequency)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.frequency">frequency</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current frequency in Hz (or sample rate in Sa/s for ARB).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="amplitude

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.amplitude)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.amplitude">amplitude</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current amplitude in the configured voltage units.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="offset

  
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.offset)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.offset">offset</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current DC offset voltage in Volts.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="phase = None

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.phase)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.phase">phase</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current phase offset in the configured angle units (None if not applicable).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="symmetry = None

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.symmetry)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.symmetry">symmetry</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current symmetry percentage for RAMP/TRIANGLE (None otherwise).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="duty_cycle = None

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.duty_cycle)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.duty_cycle">duty_cycle</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current duty cycle percentage for SQUARE/PULSE (None otherwise).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="output_state = None

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.output_state)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.output_state">output_state</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The current state of the main output (True=ON, False=OFF).</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="load_impedance = None

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.load_impedance)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.load_impedance">load_impedance</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The configured load impedance (Ohms or "INFinity").</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="float">float</span>, <span title="str">str</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="voltage_unit = None

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.WaveformGenerator.WaveformConfigResult.voltage_unit)" href="#pytestlab.instruments.WaveformGenerator.WaveformConfigResult.voltage_unit">voltage_unit</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The currently configured voltage unit ("VPP", "VRMS", "DBM").</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">





<h5 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.amplitude" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">amplitude</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.channel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">channel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.duty_cycle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">duty_cycle</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.frequency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">frequency</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">function</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.load_impedance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_impedance</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.offset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">offset</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.output_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">output_state</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.phase" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">phase</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.symmetry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">symmetry</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult.voltage_unit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">voltage_unit</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.WaveformGenerator.WaveformConfigResult-functions">Functions</h5>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">WaveformGenerator</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.waveform_generator_config.WaveformGeneratorConfig (pytestlab.config.WaveformGeneratorConfig)" href="../config/#pytestlab.config.waveform_generator_config.WaveformGeneratorConfig">WaveformGeneratorConfig</a>]</code></p>


        <p>Provides a high-level Python interface for controlling Keysight EDU33210
Series Trueform Arbitrary Waveform Generators via SCPI commands.</p>

        <p>Initializes the WaveformGenerator instance.</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">WaveformGeneratorConfig</span><span class="p">,</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the WaveformGenerator instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="n">debug_mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># Pass kwargs to base</span>
    <span class="c1"># self.config is already set by base Instrument&#39;s __init__ due to Generic type</span>

    <span class="c1"># Determine channel count from the length of the channels list in the config</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;channels&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channel_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># This case should ideally be caught by Pydantic validation of WaveformGeneratorConfig</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;config.channels is not a list. Defaulting channel count to 0.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_channel_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel_count</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel count determined as </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel_count</span><span class="si">}</span><span class="s2">. Check instrument configuration.&quot;</span><span class="p">)</span>
        <span class="c1"># Consider if raising an error is more appropriate if channel_count is essential and expected to be &gt; 0</span>
        <span class="c1"># For now, logging a warning to allow flexibility if some AWGs might be configured with 0 channels initially.</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Detected </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel_count</span><span class="si">}</span><span class="s2"> channels from configuration.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.channel_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">channel_count</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the number of output channels supported by this instrument, based on configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.model_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arbitrary_types_allowed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.apply_waveform_settings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_waveform_settings</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">function_type</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">apply_waveform_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">function_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">WaveformType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">frequency</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">scpi_short_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_scpi_function_name</span><span class="p">(</span><span class="n">function_type</span><span class="p">)</span>
    <span class="n">apply_suffix_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;SINusoid&quot;</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;SQUare&quot;</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">RAMP</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;RAMP&quot;</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;PULSe&quot;</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">NOISE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;NOISe&quot;</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">ARB</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;ARBitrary&quot;</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">DC</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,}</span>
    <span class="k">if</span> <span class="n">scpi_short_name</span> <span class="o">==</span> <span class="s2">&quot;TRI&quot;</span> <span class="ow">and</span> <span class="s2">&quot;TRI&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">apply_suffix_map</span><span class="p">:</span> <span class="n">apply_suffix_map</span><span class="p">[</span><span class="s2">&quot;TRI&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;TRIangle&quot;</span>
    <span class="n">apply_suffix</span> <span class="o">=</span> <span class="n">apply_suffix_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scpi_short_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">apply_suffix</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">scpi_short_name</span> <span class="ow">in</span> <span class="n">apply_suffix_map</span><span class="p">:</span>
            <span class="n">apply_suffix</span> <span class="o">=</span> <span class="n">apply_suffix_map</span><span class="p">[</span><span class="n">scpi_short_name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;function_type&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">function_type</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Waveform function (SCPI: </span><span class="si">{</span><span class="n">scpi_short_name</span><span class="si">}</span><span class="s2">) not supported by APPLy.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">frequency</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">amplitude</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">offset</span><span class="p">)]</span>
    <span class="n">param_str</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:APPLy:</span><span class="si">{</span><span class="n">apply_suffix</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">param_str</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Applied </span><span class="si">{</span><span class="n">apply_suffix</span><span class="si">}</span><span class="s2"> with params: Freq/SR=</span><span class="si">{</span><span class="n">frequency</span><span class="si">}</span><span class="s2">, Ampl=</span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s2">, Offs=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.channel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">channel</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a facade for interacting with a specific channel.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ch_num</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel number (1-based) or string identifier (e.g. "CH1").</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="str">str</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>WGChannelFacade</code>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A facade object for the specified channel.</p>
              </div>
                <p>
                  <span class="doc-returns-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="WGChannelFacade(wg, channel_num) (pytestlab.instruments.WaveformGenerator.WGChannelFacade)" href="#pytestlab.instruments.WaveformGenerator.WGChannelFacade">WGChannelFacade</a></code>
                  </span>
                </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If channel number is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">def</span><span class="w"> </span><span class="nf">channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ch_num</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">WGChannelFacade</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a facade for interacting with a specific channel.</span>

<span class="sd">    Args:</span>
<span class="sd">        ch_num (Union[int,str]): The channel number (1-based) or string identifier (e.g. &quot;CH1&quot;).</span>

<span class="sd">    Returns:</span>
<span class="sd">        WGChannelFacade: A facade object for the specified channel.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If channel number is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">validated_ch_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span> <span class="c1"># _validate_channel returns int</span>
    <span class="k">return</span> <span class="n">WGChannelFacade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">validated_ch_num</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.clear_volatile_arbitrary_waveforms" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_volatile_arbitrary_waveforms</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">clear_volatile_arbitrary_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:DATA:VOLatile:CLEar&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Cleared volatile arbitrary waveform memory.&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.delete_file_or_folder" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_file_or_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_file_or_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Path cannot be empty for deletion.&quot;</span>
        <span class="p">)</span>
    <span class="n">path_scpi</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;MMEMory:DELete </span><span class="si">{</span><span class="n">path_scpi</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempted to delete file/folder: &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39; using MMEM:DELete&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">code</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;Directory not empty&quot;</span> <span class="ow">in</span> <span class="n">msg</span> <span class="ow">or</span> <span class="s2">&quot;folder&quot;</span> <span class="ow">in</span> <span class="n">msg</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                    <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                    <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to delete &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;. Non-empty folder? Inst Err </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                    <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                    <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to delete &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;. Inst Err </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.download_arbitrary_waveform_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_arbitrary_waveform_data</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">,</span> <span class="n">data_points</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s1">&#39;DAC&#39;</span><span class="p">,</span> <span class="n">use_binary</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_dual_channel_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dual_data_format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">download_arbitrary_waveform_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">arb_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_points</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;DAC&quot;</span><span class="p">,</span> <span class="n">use_binary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">is_dual_channel_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">dual_data_format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">use_binary</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_arbitrary_waveform_data_binary</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">,</span> <span class="n">data_points</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="n">is_dual_channel_data</span><span class="o">=</span><span class="n">is_dual_channel_data</span><span class="p">,</span> <span class="n">dual_data_format</span><span class="o">=</span><span class="n">dual_data_format</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_arbitrary_waveform_data_csv</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">,</span> <span class="n">data_points</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.download_arbitrary_waveform_data_binary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_arbitrary_waveform_data_binary</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">,</span> <span class="n">data_points</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s1">&#39;DAC&#39;</span><span class="p">,</span> <span class="n">is_dual_channel_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dual_data_format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">download_arbitrary_waveform_data_binary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">arb_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_points</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;DAC&quot;</span><span class="p">,</span> <span class="n">is_dual_channel_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">dual_data_format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9_]{1,12}$&quot;</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;arb_name&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">arb_name</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Arbitrary waveform name is invalid.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">data_type_upper</span> <span class="o">=</span> <span class="n">data_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">data_type_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;DAC&quot;</span><span class="p">,</span> <span class="s2">&quot;NORM&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DAC&quot;</span><span class="p">,</span> <span class="s2">&quot;NORM&quot;</span><span class="p">],</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid data_type.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">np_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data_points</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">np_data</span><span class="o">.</span><span class="n">ndim</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">np_data</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;data_points must be a non-empty 1D sequence.&quot;</span>
        <span class="p">)</span>
    <span class="n">num_points_total</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">size</span>
    <span class="n">num_points_per_channel</span> <span class="o">=</span> <span class="n">num_points_total</span>
    <span class="n">arb_cmd_node</span> <span class="o">=</span> <span class="s2">&quot;ARBitrary&quot;</span>
    <span class="k">if</span> <span class="n">is_dual_channel_data</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_count</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="s2">&quot;Dual channel download requires 2-channel instrument.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">arb_cmd_node</span> <span class="o">=</span> <span class="s2">&quot;ARBitrary2&quot;</span>
        <span class="k">if</span> <span class="n">num_points_total</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Total data_points must be even for dual channel.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">num_points_per_channel</span> <span class="o">=</span> <span class="n">num_points_total</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">dual_data_format</span><span class="p">:</span>
            <span class="n">fmt_upper</span> <span class="o">=</span> <span class="n">dual_data_format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">fmt_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;AABB&quot;</span><span class="p">,</span> <span class="s2">&quot;ABAB&quot;</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;dual_data_format&quot;</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">dual_data_format</span><span class="p">,</span>
                    <span class="n">valid_range</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AABB&quot;</span><span class="p">,</span> <span class="s2">&quot;ABAB&quot;</span><span class="p">],</span>
                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid dual_data_format.&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:DATA:</span><span class="si">{</span><span class="n">arb_cmd_node</span><span class="si">}</span><span class="s2">:FORMat </span><span class="si">{</span><span class="n">fmt_upper</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Dual arb data format set to </span><span class="si">{</span><span class="n">fmt_upper</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">binary_data</span><span class="p">:</span> <span class="nb">bytes</span>
    <span class="n">scpi_suffix</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">transfer_type_log_msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Binary Block&quot;</span>
    <span class="k">if</span> <span class="n">data_type_upper</span> <span class="o">==</span> <span class="s2">&quot;DAC&quot;</span><span class="p">:</span>
        <span class="n">scpi_suffix</span> <span class="o">=</span> <span class="s2">&quot;:DAC&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">np_data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Warning: DAC data not integer, converting to int16.&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">np_data</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot convert DAC data to int16.&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="n">dac_min</span><span class="p">,</span> <span class="n">dac_max</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">waveforms</span><span class="p">,</span> <span class="s1">&#39;arbitrary_dac_range&#39;</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">32768</span><span class="p">,</span> <span class="mi">32767</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np_data</span> <span class="o">&lt;</span> <span class="n">dac_min</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np_data</span> <span class="o">&gt;</span> <span class="n">dac_max</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;DAC data out of range [</span><span class="si">{</span><span class="n">dac_min</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">dac_max</span><span class="si">}</span><span class="s2">].&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">binary_data</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;&lt;h&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tobytes</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># NORM</span>
        <span class="n">scpi_suffix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">np_data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">floating</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Warning: Normalized data not float, converting to float32.&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">np_data</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot convert Normalized data to float32.&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="n">norm_min</span><span class="p">,</span> <span class="n">norm_max</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="mf">1e-6</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np_data</span> <span class="o">&lt;</span> <span class="n">norm_min</span> <span class="o">-</span> <span class="n">tolerance</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span>
            <span class="n">np_data</span> <span class="o">&gt;</span> <span class="n">norm_max</span> <span class="o">+</span> <span class="n">tolerance</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Normalized data out of range [</span><span class="si">{</span><span class="n">norm_min</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">norm_max</span><span class="si">}</span><span class="s2">].&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">np_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">np_data</span><span class="p">,</span> <span class="n">norm_min</span><span class="p">,</span> <span class="n">norm_max</span><span class="p">)</span>
        <span class="n">binary_data</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;&lt;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tobytes</span><span class="p">()</span>
    <span class="n">cmd_prefix</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:DATA:</span><span class="si">{</span><span class="n">arb_cmd_node</span><span class="si">}{</span><span class="n">scpi_suffix</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">,&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_binary</span><span class="p">(</span><span class="n">cmd_prefix</span><span class="p">,</span> <span class="n">binary_data</span><span class="p">)</span> <span class="c1"># Assumed async</span>
        <span class="n">transfer_type_log_msg</span> <span class="o">=</span> <span class="s2">&quot;IEEE 488.2 Binary Block via _write_binary&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Downloaded arb &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39; via </span><span class="si">{</span><span class="n">transfer_type_log_msg</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">num_points_per_channel</span><span class="si">}</span><span class="s2"> pts/ch, </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">binary_data</span><span class="p">)</span><span class="si">}</span><span class="s2"> bytes, type: </span><span class="si">{</span><span class="n">data_type_upper</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error during </span><span class="si">{</span><span class="n">transfer_type_log_msg</span><span class="si">}</span><span class="s2"> arb download for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="n">code</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">786</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd_prefix</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Arb Name Conflict (786) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">781</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd_prefix</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Out of Memory (781) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="o">-</span><span class="mi">113</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd_prefix</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SCPI Syntax Error (-113) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd_prefix</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Arb download for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39; failed. Inst Err </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected error during binary arb download for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd_prefix</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected failure downloading arb &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.download_arbitrary_waveform_data_csv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_arbitrary_waveform_data_csv</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">,</span> <span class="n">data_points</span><span class="p">,</span> <span class="n">data_type</span><span class="o">=</span><span class="s1">&#39;DAC&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">download_arbitrary_waveform_data_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">arb_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_points</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;DAC&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9_]{1,12}$&quot;</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;arb_name&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">arb_name</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Arbitrary waveform name is invalid.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">data_type_upper</span> <span class="o">=</span> <span class="n">data_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">data_type_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;DAC&quot;</span><span class="p">,</span> <span class="s2">&quot;NORM&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DAC&quot;</span><span class="p">,</span> <span class="s2">&quot;NORM&quot;</span><span class="p">],</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid data_type.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">np_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data_points</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">np_data</span><span class="o">.</span><span class="n">ndim</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">np_data</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;data_points must be a non-empty 1D sequence.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">):</span>
        <span class="n">channel_conf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">ch</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">channel_conf</span><span class="p">,</span> <span class="s1">&#39;arbitrary&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">channel_conf</span><span class="o">.</span><span class="n">arbitrary</span><span class="p">,</span> <span class="s1">&#39;max_points&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">np_data</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="n">channel_conf</span><span class="o">.</span><span class="n">arbitrary</span><span class="o">.</span><span class="n">max_points</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of data points (</span><span class="si">{</span><span class="n">np_data</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2">) exceeds configured max_points (</span><span class="si">{</span><span class="n">channel_conf</span><span class="o">.</span><span class="n">arbitrary</span><span class="o">.</span><span class="n">max_points</span><span class="si">}</span><span class="s2">) for CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="n">formatted_data</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">scpi_suffix</span><span class="p">:</span> <span class="nb">str</span>
    <span class="k">if</span> <span class="n">data_type_upper</span> <span class="o">==</span> <span class="s2">&quot;DAC&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">np_data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DAC data not integer, converting to int16.&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">np_data</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot convert DAC data to int16.&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="n">dac_min</span><span class="p">,</span> <span class="n">dac_max</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">waveforms</span><span class="p">,</span> <span class="s1">&#39;arbitrary_dac_range&#39;</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">32768</span><span class="p">,</span> <span class="mi">32767</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np_data</span> <span class="o">&lt;</span> <span class="n">dac_min</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np_data</span> <span class="o">&gt;</span> <span class="n">dac_max</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;DAC data out of range [</span><span class="si">{</span><span class="n">dac_min</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">dac_max</span><span class="si">}</span><span class="s2">].&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">formatted_data</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">np_data</span><span class="p">))</span>
        <span class="n">scpi_suffix</span> <span class="o">=</span> <span class="s2">&quot;:DAC&quot;</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># NORM</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">np_data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">floating</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Normalized data not float, converting to float32.&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">np_data</span> <span class="o">=</span> <span class="n">np_data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Cannot convert Normalized data to floats.&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="n">norm_min</span><span class="p">,</span> <span class="n">norm_max</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="mf">1e-9</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np_data</span> <span class="o">&lt;</span> <span class="n">norm_min</span> <span class="o">-</span> <span class="n">tolerance</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span>
            <span class="n">np_data</span> <span class="o">&gt;</span> <span class="n">norm_max</span> <span class="o">+</span> <span class="n">tolerance</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;data_points&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Normalized data out of range [</span><span class="si">{</span><span class="n">norm_min</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">norm_max</span><span class="si">}</span><span class="s2">].&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">np_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">np_data</span><span class="p">,</span> <span class="n">norm_min</span><span class="p">,</span> <span class="n">norm_max</span><span class="p">)</span>
        <span class="n">formatted_data</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">.8G</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">np_data</span><span class="p">))</span>
        <span class="n">scpi_suffix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:DATA:ARBitrary</span><span class="si">{</span><span class="n">scpi_suffix</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">formatted_data</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">max_cmd_len</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;max_scpi_command_length&#39;</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_cmd_len</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCPI command length (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="si">}</span><span class="s2">) large. Consider binary transfer.&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Downloaded arb &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39; via CSV (</span><span class="si">{</span><span class="n">np_data</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> points, type: </span><span class="si">{</span><span class="n">data_type_upper</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error during CSV arb download for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
        <span class="n">code</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="o">-</span><span class="mi">113</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SCPI Syntax Error (-113) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">786</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Arb Name Conflict (786) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">781</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Out of Memory (781) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="o">-</span><span class="mi">102</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SCPI Syntax Error (-102) for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Arb download for &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39; failed. Inst Err </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.enable_burst" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_burst</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable_burst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:BURSt:STATe </span><span class="si">{</span><span class="n">cmd_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Burst state set to </span><span class="si">{</span><span class="n">cmd_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.enable_modulation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_modulation</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">mod_type</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable_modulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">mod_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">mod_upper</span> <span class="o">=</span> <span class="n">mod_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">valid_mods</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;AM&quot;</span><span class="p">,</span> <span class="s2">&quot;FM&quot;</span><span class="p">,</span> <span class="s2">&quot;PM&quot;</span><span class="p">,</span> <span class="s2">&quot;PWM&quot;</span><span class="p">,</span> <span class="s2">&quot;FSK&quot;</span><span class="p">,</span> <span class="s2">&quot;BPSK&quot;</span><span class="p">,</span> <span class="s2">&quot;SUM&quot;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">mod_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_mods</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;mod_type&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">mod_type</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="n">valid_mods</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid modulation type.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">cmd_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">mod_upper</span><span class="si">}</span><span class="s2">:STATe </span><span class="si">{</span><span class="n">cmd_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">mod_upper</span><span class="si">}</span><span class="s2"> modulation state set to </span><span class="si">{</span><span class="n">cmd_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.enable_sweep" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_sweep</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span><span class="o">.</span><span class="n">value</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SWEep:STATe </span><span class="si">{</span><span class="n">cmd_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sweep state set to </span><span class="si">{</span><span class="n">cmd_state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="nd">@validate_call</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s1">&#39;WaveformGenerator&#39;</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">WaveformGeneratorConfig</span><span class="p">,</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;WaveformGenerator&#39;</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="n">debug_mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_amplitude" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_amplitude</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> limit)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">amp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse amplitude float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">unit</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_voltage_unit</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Amplitude</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">amp</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">unit</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">amp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_angle_unit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_angle_unit</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_angle_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;UNIT:ANGLe?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">response</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;DEG&quot;</span><span class="p">,</span> <span class="s2">&quot;RAD&quot;</span><span class="p">,</span> <span class="s2">&quot;SEC&quot;</span><span class="p">]:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Unexpected angle unit response &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current global angle unit is </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_arbitrary_waveform_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_arbitrary_waveform_points</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_arbitrary_waveform_points</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARB:POINts?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">points</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Currently selected arbitrary waveform has </span><span class="si">{</span><span class="n">points</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">points</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARB:POINts?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse integer points from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">code</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Query SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARB:POINts? failed. Inst Err </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">. Returning 0.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_arbitrary_waveform_sample_rate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_arbitrary_waveform_sample_rate</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_arbitrary_waveform_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARB:SRATe?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> limit)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sr</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse sample rate float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Arbitrary waveform sample rate</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">sr</span><span class="si">}</span><span class="s2"> Sa/s&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sr</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_channel_configuration_summary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_channel_configuration_summary</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_channel_configuration_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:APPLy?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Configuration summary (APPLy?) returned: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="p">:</span> <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_complete_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_complete_config</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_complete_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">WaveformConfigResult</span><span class="p">:</span>
    <span class="n">ch_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Getting complete configuration snapshot for channel </span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="n">func_scpi_str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">freq</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_frequency</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">ampl</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_amplitude</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">offs</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_offset</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">output_state_enum</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_state</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">output_state_bool</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">output_state_enum</span> <span class="o">==</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span> <span class="k">else</span> <span class="kc">False</span>
    <span class="n">load_impedance_val</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_load_impedance</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">load_impedance_str</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">load_impedance_val</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">)</span> <span class="ow">and</span> <span class="n">load_impedance_val</span> <span class="o">==</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">INFINITY</span><span class="p">:</span>
        <span class="n">load_impedance_str</span> <span class="o">=</span> <span class="s2">&quot;INFinity&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">load_impedance_str</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">load_impedance_val</span><span class="p">)</span>
    <span class="n">voltage_unit_enum</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_voltage_unit</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="n">voltage_unit_str</span> <span class="o">=</span> <span class="n">voltage_unit_enum</span><span class="o">.</span><span class="n">value</span>
    <span class="n">phase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">func_scpi_str</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">WaveformType</span><span class="o">.</span><span class="n">DC</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">NOISE</span><span class="o">.</span><span class="n">value</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">phase</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_phase</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Note: Phase query failed for CH</span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2"> (function: </span><span class="si">{</span><span class="n">func_scpi_str</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>
    <span class="n">symmetry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">duty_cycle</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">func_scpi_str</span> <span class="o">==</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">RAMP</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">symmetry</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ramp_symmetry</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">func_scpi_str</span> <span class="o">==</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">duty_cycle</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_square_duty_cycle</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">func_scpi_str</span> <span class="o">==</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">duty_cycle</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pulse_duty_cycle</span><span class="p">(</span><span class="n">ch_num</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">InstrumentCommunicationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Note: Query failed for function-specific parameter for CH</span><span class="si">{</span><span class="n">ch_num</span><span class="si">}</span><span class="s2"> func </span><span class="si">{</span><span class="n">func_scpi_str</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">WaveformConfigResult</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">ch_num</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">func_scpi_str</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="n">freq</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="n">ampl</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="n">offs</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">phase</span><span class="p">,</span> <span class="n">symmetry</span><span class="o">=</span><span class="n">symmetry</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="n">duty_cycle</span><span class="p">,</span> <span class="n">output_state</span><span class="o">=</span><span class="n">output_state_bool</span><span class="p">,</span> <span class="n">load_impedance</span><span class="o">=</span><span class="n">load_impedance_str</span><span class="p">,</span> <span class="n">voltage_unit</span><span class="o">=</span><span class="n">voltage_unit_str</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_free_volatile_arbitrary_memory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_free_volatile_arbitrary_memory</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_free_volatile_arbitrary_memory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:DATA:VOLatile:FREE?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">free_points</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:DATA:VOLatile:FREE?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected non-integer response: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Free volatile arbitrary memory: </span><span class="si">{</span><span class="n">free_points</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">free_points</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_frequency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_frequency</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FREQ?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> limit)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">freq</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse frequency float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Frequency</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">freq</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_function</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">scpi_func</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Current function is </span><span class="si">{</span><span class="n">scpi_func</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">scpi_func</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_offset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_offset</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:OFFSet?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> limit)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">offs</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse offset float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Offset</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">offs</span><span class="si">}</span><span class="s2"> V&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">offs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_output_load_impedance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_load_impedance</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_output_load_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">]:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:LOAD?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> limit)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Raw impedance response</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">numeric_response</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">numeric_response</span> <span class="o">-</span> <span class="mf">9.9e37</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e30</span><span class="p">:</span> <span class="k">return</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">INFINITY</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="n">numeric_response</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">INFINITY</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span> <span class="k">return</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">INFINITY</span>
        <span class="k">for</span> <span class="n">enum_member</span> <span class="ow">in</span> <span class="n">OutputLoadImpedance</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="n">enum_member</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span> <span class="k">return</span> <span class="n">enum_member</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Could not parse impedance response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_output_polarity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_polarity</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_output_polarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">OutputPolarity</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:POLarity?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">OutputPolarity</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;NORM&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">OutputPolarity</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;INV&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">OutputPolarity</span><span class="o">.</span><span class="n">INVERTED</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:POLarity?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected polarity response from instrument: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_output_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_state</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_output_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SCPIOnOff</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:STATe?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span> <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Output state is </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">state</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_phase" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_phase</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:PHASe?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> limit)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ph</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse phase float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">unit</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_angle_unit</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Phase</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">ph</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ph</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_phase_unlock_error_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_phase_unlock_error_state</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_phase_unlock_error_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SCPIOnOff</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;SOUR1:PHASe:UNLock:ERRor:STATe?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span> <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Phase unlock error state is </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">state</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_duty_cycle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_duty_cycle</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_duty_cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:PULS:DCYCle?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_hold_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_hold_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_hold_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:PULS:HOLD?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_period" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_period</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_period</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:PULS:PERiod?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_transition_both" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_transition_both</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_transition_both</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Querying PULS:TRAN:BOTH; specific query may not exist or might return leading edge time.&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_pulse_transition_leading</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_transition_leading" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_transition_leading</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_transition_leading</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:PULS:TRANsition:LEADing?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_transition_trailing" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_transition_trailing</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_transition_trailing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:PULS:TRANsition:TRAiling?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_pulse_width" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pulse_width</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_pulse_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:PULS:WIDTh?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_ramp_symmetry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_ramp_symmetry</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_ramp_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:RAMP:SYMMetry?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_selected_arbitrary_waveform_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_selected_arbitrary_waveform_name</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_selected_arbitrary_waveform_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARBitrary?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span> <span class="n">response</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Currently selected arbitrary waveform is &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_square_duty_cycle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_square_duty_cycle</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_square_duty_cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:SQUare:DCYCle?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_square_period" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_square_period</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_square_period</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:SQUare:PERiod?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sync_output_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_sync_output_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SyncMode</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SYNC:MODE?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SyncMode</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;NORM&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">SyncMode</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;CARR&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">SyncMode</span><span class="o">.</span><span class="n">CARRIER</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;MARK&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">SyncMode</span><span class="o">.</span><span class="n">MARKER</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SYNC:MODE?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected sync mode response from instrument: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_polarity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sync_output_polarity</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_sync_output_polarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">OutputPolarity</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SYNC:POLarity?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">OutputPolarity</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;NORM&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">OutputPolarity</span><span class="o">.</span><span class="n">NORMAL</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;INV&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">OutputPolarity</span><span class="o">.</span><span class="n">INVERTED</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SYNC:POLarity?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected sync polarity response from instrument: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sync_output_source</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_sync_output_source</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;OUTPut:SYNC:SOURce?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;CH(\d+)&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
        <span class="n">src_ch</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sync output source is CH</span><span class="si">{</span><span class="n">src_ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">src_ch</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="s2">&quot;OUTPut:SYNC:SOURce?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected response querying Sync source: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_sync_output_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sync_output_state</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_sync_output_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SCPIOnOff</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;OUTPut:SYNC:STATe?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span> <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sync output state is </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">state</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_autorange_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voltage_autorange_state</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_voltage_autorange_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SCPIOnOff</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:RANGe:AUTO?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span> <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage autorange state is </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> (Query response: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">state</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_limit_high" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voltage_limit_high</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_voltage_limit_high</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:LIMit:HIGH?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> possible)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse high limit float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage high limit</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2"> V&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_limit_low" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voltage_limit_low</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_voltage_limit_low</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OutputLoadImpedance</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:LIMit:LOW?&quot;</span>
    <span class="n">type_str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">query_type</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span> <span class="n">type_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">query_type</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> possible)&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse low limit float from response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage low limit</span><span class="si">{</span><span class="n">type_str</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2"> V&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_limits_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voltage_limits_state</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_voltage_limits_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SCPIOnOff</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:LIMit:STATe?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">ON</span> <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span> <span class="k">else</span> <span class="n">SCPIOnOff</span><span class="o">.</span><span class="n">OFF</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage limits state is </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">state</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.get_voltage_unit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voltage_unit</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_voltage_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VoltageUnit</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:UNIT?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">VoltageUnit</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:UNIT?&quot;</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected voltage unit response from instrument: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.list_directory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">list_directory</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">list_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileSystemInfo</span><span class="p">:</span>
    <span class="n">path_scpi</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39; &quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">if</span> <span class="n">path</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;MMEMory:CATalog:ALL?</span><span class="si">{</span><span class="n">path_scpi</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected response format from MMEM:CAT?: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">bytes_used</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">bytes_free</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">FileSystemInfo</span><span class="p">(</span><span class="n">bytes_used</span><span class="o">=</span><span class="n">bytes_used</span><span class="p">,</span> <span class="n">bytes_free</span><span class="o">=</span><span class="n">bytes_free</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
            <span class="n">file_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;&quot;([^&quot;]+),([^&quot;]*),(\d+)&quot;&#39;</span>
            <span class="n">listings</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">file_pattern</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ftype</span><span class="p">,</span> <span class="n">size_str</span> <span class="ow">in</span> <span class="n">listings</span><span class="p">:</span>
                <span class="n">file_type</span> <span class="o">=</span> <span class="n">ftype</span> <span class="k">if</span> <span class="n">ftype</span> <span class="k">else</span> <span class="s1">&#39;FILE&#39;</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">size_str</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Could not parse size &#39;</span><span class="si">{</span><span class="n">size_str</span><span class="si">}</span><span class="s2">&#39; for file &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">info</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">file_type</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="n">size</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory listing for &#39;</span><span class="si">{</span><span class="n">path</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;current dir&#39;</span><span class="si">}</span><span class="s2">&#39;: Used=</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">bytes_used</span><span class="si">}</span><span class="s2">, Free=</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">bytes_free</span><span class="si">}</span><span class="s2">, Items=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">info</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
            <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to parse MMEM:CAT? response: &#39;</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&#39;. Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.select_arbitrary_waveform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_arbitrary_waveform</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">arb_name</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">select_arbitrary_waveform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">arb_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">arb_name</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;arb_name&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Arbitrary waveform name cannot be empty.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">in</span> <span class="n">arb_name</span> <span class="ow">or</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">in</span> <span class="n">arb_name</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;arb_name&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">arb_name</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Arbitrary waveform name cannot contain quotes.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">quoted_arb_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARBitrary </span><span class="si">{</span><span class="n">quoted_arb_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Active arbitrary waveform selection set to &#39;</span><span class="si">{</span><span class="n">arb_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_am_depth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_am_depth</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">depth_percent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_am_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">depth_percent</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">depth_percent</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">depth_percent</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="nb">float</span><span class="p">(</span><span class="n">depth_percent</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">120</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: AM depth </span><span class="si">{</span><span class="n">depth_percent</span><span class="si">}</span><span class="s2">% is outside typical 0-120 range.&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:AM:DEPTh </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: AM depth set to </span><span class="si">{</span><span class="n">depth_percent</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_am_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_am_source</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_am_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">source</span><span class="p">:</span> <span class="n">ModulationSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_src</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">value</span>
    <span class="k">if</span> <span class="n">cmd_src</span> <span class="o">==</span> <span class="sa">f</span><span class="s2">&quot;CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2"> cannot be its own AM source.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">cmd_src</span> <span class="o">==</span> <span class="n">ModulationSource</span><span class="o">.</span><span class="n">CH2</span><span class="o">.</span><span class="n">value</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_count</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;CH2 source invalid for 1-channel instrument.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:AM:SOURce </span><span class="si">{</span><span class="n">cmd_src</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: AM source set to </span><span class="si">{</span><span class="n">cmd_src</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_amplitude" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_amplitude</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_amplitude</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">amplitude</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">amp_cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">amplitude</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">):</span>
            <span class="n">channel_config_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">ch</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">channel_config_model</span><span class="o">.</span><span class="n">amplitude</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">amplitude</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Amplitude for CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage </span><span class="si">{</span><span class="n">amp_cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">unit</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_voltage_unit</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Amplitude set to </span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s2"> (in current unit: </span><span class="si">{</span><span class="n">unit</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">, using SCPI value: </span><span class="si">{</span><span class="n">amp_cmd_val</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_angle_unit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_angle_unit</span><span class="p">(</span><span class="n">unit</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_angle_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">unit_upper</span> <span class="o">=</span> <span class="n">unit</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">valid_scpi_units</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DEGREE&quot;</span><span class="p">,</span> <span class="s2">&quot;RADIAN&quot;</span><span class="p">,</span> <span class="s2">&quot;SECOND&quot;</span><span class="p">,</span> <span class="s2">&quot;DEG&quot;</span><span class="p">,</span> <span class="s2">&quot;RAD&quot;</span><span class="p">,</span> <span class="s2">&quot;SEC&quot;</span><span class="p">}</span>
    <span class="n">map_to_scpi_preferred</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DEG&quot;</span><span class="p">:</span> <span class="s2">&quot;DEGREE&quot;</span><span class="p">,</span> <span class="s2">&quot;DEGREES&quot;</span><span class="p">:</span> <span class="s2">&quot;DEGREE&quot;</span><span class="p">,</span> <span class="s2">&quot;RAD&quot;</span><span class="p">:</span> <span class="s2">&quot;RADIAN&quot;</span><span class="p">,</span> <span class="s2">&quot;RADIANS&quot;</span><span class="p">:</span> <span class="s2">&quot;RADIAN&quot;</span><span class="p">,</span> <span class="s2">&quot;SEC&quot;</span><span class="p">:</span> <span class="s2">&quot;SECOND&quot;</span><span class="p">,</span> <span class="s2">&quot;SECONDS&quot;</span><span class="p">:</span> <span class="s2">&quot;SECOND&quot;</span><span class="p">}</span>
    <span class="n">scpi_to_send</span> <span class="o">=</span> <span class="n">map_to_scpi_preferred</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">unit_upper</span><span class="p">,</span> <span class="n">unit_upper</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">scpi_to_send</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_scpi_units</span> <span class="ow">and</span> <span class="n">unit_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_scpi_units</span> <span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;unit&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span>
            <span class="n">valid_range</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DEGREE&quot;</span><span class="p">,</span> <span class="s2">&quot;RADIAN&quot;</span><span class="p">,</span> <span class="s2">&quot;SECONd&quot;</span><span class="p">],</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid angle unit.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UNIT:ANGLe </span><span class="si">{</span><span class="n">scpi_to_send</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Global angle unit set to </span><span class="si">{</span><span class="n">scpi_to_send</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_arbitrary_waveform_sample_rate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_arbitrary_waveform_sample_rate</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_arbitrary_waveform_sample_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">sample_rate</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">sample_rate</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sample_rate</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">):</span>
            <span class="n">channel_config_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">ch</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">channel_config_model</span><span class="p">,</span> <span class="s1">&#39;arbitrary&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">channel_config_model</span><span class="o">.</span><span class="n">arbitrary</span><span class="p">,</span> <span class="s1">&#39;sampling_rate&#39;</span><span class="p">):</span>
                <span class="n">channel_config_model</span><span class="o">.</span><span class="n">arbitrary</span><span class="o">.</span><span class="n">sampling_rate</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">sample_rate</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Arbitrary sample rate for CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC:ARB:SRATe </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Arbitrary waveform sample rate set to </span><span class="si">{</span><span class="n">sample_rate</span><span class="si">}</span><span class="s2"> Sa/s (using SCPI value: </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_burst_cycles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_burst_cycles</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">n_cycles</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_burst_cycles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">n_cycles</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">log_val</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">n_cycles</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n_cycles</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">nc_upper</span> <span class="o">=</span> <span class="n">n_cycles</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">nc_upper</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;MIN&quot;</span><span class="p">,</span> <span class="s2">&quot;MINIMUM&quot;</span><span class="p">}:</span>
            <span class="n">cmd_val</span> <span class="o">=</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">MINIMUM</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="n">nc_upper</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;MAX&quot;</span><span class="p">,</span> <span class="s2">&quot;MAXIMUM&quot;</span><span class="p">}:</span>
            <span class="n">cmd_val</span> <span class="o">=</span> <span class="n">OutputLoadImpedance</span><span class="o">.</span><span class="n">MAXIMUM</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="n">nc_upper</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;INF&quot;</span><span class="p">,</span> <span class="s2">&quot;INFINITY&quot;</span><span class="p">}:</span>
            <span class="n">cmd_val</span> <span class="o">=</span> <span class="s2">&quot;INFinity&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;n_cycles&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">n_cycles</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Invalid string for burst cycles.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n_cycles</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n_cycles</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;n_cycles&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">n_cycles</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Burst cycle count must be positive.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">inst_max_cycles</span> <span class="o">=</span> <span class="mi">100_000_000</span>
        <span class="k">if</span> <span class="n">n_cycles</span> <span class="o">&gt;</span> <span class="n">inst_max_cycles</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Burst cycles </span><span class="si">{</span><span class="n">n_cycles</span><span class="si">}</span><span class="s2"> &gt; typical max (</span><span class="si">{</span><span class="n">inst_max_cycles</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span><span class="p">)</span>
        <span class="n">cmd_val</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n_cycles</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;n_cycles&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">n_cycles</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid type &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">n_cycles</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39; for burst cycles.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:BURSt:NCYCles </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Burst cycles set to </span><span class="si">{</span><span class="n">log_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_burst_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_burst_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_burst_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">mode</span><span class="p">:</span> <span class="n">BurstMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:BURSt:MODE </span><span class="si">{</span><span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Burst mode set to </span><span class="si">{</span><span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_burst_period" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_burst_period</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">period_sec</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_burst_period</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">period_sec</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">period_sec</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:BURSt:INTernal:PERiod </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Internal burst period set to </span><span class="si">{</span><span class="n">period_sec</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_fm_deviation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_fm_deviation</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">deviation_hz</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_fm_deviation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">deviation_hz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">deviation_hz</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FM:DEViation </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: FM deviation set to </span><span class="si">{</span><span class="n">deviation_hz</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_frequency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_frequency</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">frequency</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">frequency</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">freq_cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">):</span>
            <span class="n">channel_config_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">channel_config_model</span><span class="o">.</span><span class="n">frequency</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">frequency</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Frequency for CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FREQ </span><span class="si">{</span><span class="n">freq_cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Frequency set to </span><span class="si">{</span><span class="n">frequency</span><span class="si">}</span><span class="s2"> Hz (using SCPI value: </span><span class="si">{</span><span class="n">freq_cmd_val</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_function</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">function_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the primary waveform function and associated parameters for a channel.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">function_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">WaveformType</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the primary waveform function and associated parameters for a channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">scpi_func_short</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_scpi_function_name</span><span class="p">(</span><span class="n">function_type</span><span class="p">)</span>

    <span class="n">standard_params_set</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># Assuming FUNC_ARB should be WaveformType.ARB.value</span>
    <span class="k">if</span> <span class="s1">&#39;frequency&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="n">scpi_func_short</span> <span class="o">!=</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">ARB</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;frequency&#39;</span><span class="p">))</span>
        <span class="n">standard_params_set</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="s1">&#39;amplitude&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_amplitude</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;amplitude&#39;</span><span class="p">))</span>
        <span class="n">standard_params_set</span><span class="p">[</span><span class="s1">&#39;amplitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="s1">&#39;offset&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_offset</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;offset&#39;</span><span class="p">))</span>
        <span class="n">standard_params_set</span><span class="p">[</span><span class="s1">&#39;offset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FUNC </span><span class="si">{</span><span class="n">scpi_func_short</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Function set to </span><span class="si">{</span><span class="n">function_type</span><span class="si">}</span><span class="s2"> (SCPI: </span><span class="si">{</span><span class="n">scpi_func_short</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="c1"># Ensure WAVEFORM_PARAM_COMMANDS keys are WaveformType enum members</span>
        <span class="c1"># And scpi_func_short is mapped to its corresponding WaveformType enum member if it&#39;s a string</span>
        <span class="n">func_enum_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WaveformType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">function_type</span><span class="p">,</span> <span class="n">WaveformType</span><span class="p">):</span>
            <span class="n">func_enum_key</span> <span class="o">=</span> <span class="n">function_type</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">function_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># First try to convert SCPI string directly to enum member</span>
                <span class="n">func_enum_key</span> <span class="o">=</span> <span class="n">WaveformType</span><span class="p">(</span><span class="n">scpi_func_short</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="c1"># If that fails, try to map profile config values to enum members</span>
                <span class="n">scpi_to_enum_map</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;SINUSOID&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">,</span>
                    <span class="s2">&quot;SQUARE&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="p">,</span>
                    <span class="s2">&quot;RAMP&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">RAMP</span><span class="p">,</span>
                    <span class="s2">&quot;PULSE&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="p">,</span>
                    <span class="s2">&quot;NOISE&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">NOISE</span><span class="p">,</span>
                    <span class="s2">&quot;DC&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">DC</span><span class="p">,</span>
                    <span class="s2">&quot;ARB&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">ARB</span><span class="p">,</span>
                    <span class="s2">&quot;ARBITRARY&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">ARB</span><span class="p">,</span>
                    <span class="c1"># Add enum values as fallback</span>
                    <span class="s2">&quot;SIN&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SINE</span><span class="p">,</span>
                    <span class="s2">&quot;SQU&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">SQUARE</span><span class="p">,</span>
                    <span class="s2">&quot;PULS&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">PULSE</span><span class="p">,</span>
                    <span class="s2">&quot;NOIS&quot;</span><span class="p">:</span> <span class="n">WaveformType</span><span class="o">.</span><span class="n">NOISE</span><span class="p">,</span>
                <span class="p">}</span>
                <span class="n">func_enum_key</span> <span class="o">=</span> <span class="n">scpi_to_enum_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scpi_func_short</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
                <span class="k">if</span> <span class="n">func_enum_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCPI function &#39;</span><span class="si">{</span><span class="n">scpi_func_short</span><span class="si">}</span><span class="s2">&#39; not mappable to WaveformType enum for parameter lookup.&quot;</span><span class="p">)</span>

        <span class="n">param_cmds_for_func</span> <span class="o">=</span> <span class="n">WAVEFORM_PARAM_COMMANDS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">func_enum_key</span><span class="p">)</span> <span class="k">if</span> <span class="n">func_enum_key</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">param_cmds_for_func</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No specific parameters defined for function &#39;</span><span class="si">{</span><span class="n">function_type</span><span class="si">}</span><span class="s2">&#39; (SCPI: </span><span class="si">{</span><span class="n">scpi_func_short</span><span class="si">}</span><span class="s2">). &quot;</span>
                      <span class="sa">f</span><span class="s2">&quot;Ignoring remaining kwargs: </span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">standard_params_set</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unknown parameters </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2"> passed for function </span><span class="si">{</span><span class="n">function_type</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">param_name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">param_name</span> <span class="ow">in</span> <span class="n">param_cmds_for_func</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">param_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;duty_cycle&quot;</span><span class="p">,</span> <span class="s2">&quot;symmetry&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">):</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parameter &#39;</span><span class="si">{</span><span class="n">param_name</span><span class="si">}</span><span class="s2">&#39; value </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">% is outside the &quot;</span>
                                      <span class="sa">f</span><span class="s2">&quot;typical 0-100 range. Instrument validation will apply.&quot;</span><span class="p">)</span>

                    <span class="n">value_to_format</span> <span class="o">=</span> <span class="n">value</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">ArbFilterType</span><span class="p">,</span> <span class="n">ArbAdvanceMode</span><span class="p">)):</span> <span class="c1"># Pass enum value for formatting</span>
                        <span class="n">value_to_format</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>

                    <span class="n">formatted_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">value_to_format</span><span class="p">)</span>
                    <span class="n">cmd_lambda</span> <span class="o">=</span> <span class="n">param_cmds_for_func</span><span class="p">[</span><span class="n">param_name</span><span class="p">]</span>
                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd_lambda</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">formatted_value</span><span class="p">)</span>

                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Parameter &#39;</span><span class="si">{</span><span class="n">param_name</span><span class="si">}</span><span class="s2">&#39; set to </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
                <span class="k">except</span> <span class="n">InstrumentParameterError</span> <span class="k">as</span> <span class="n">ipe</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                        <span class="n">parameter</span><span class="o">=</span><span class="n">param_name</span><span class="p">,</span>
                        <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                        <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid value for function &#39;</span><span class="si">{</span><span class="n">function_type</span><span class="si">}</span><span class="s2">&#39;. Cause: </span><span class="si">{</span><span class="n">ipe</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">ipe</span>
                <span class="k">except</span> <span class="n">InstrumentCommunicationError</span><span class="p">:</span>
                    <span class="k">raise</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error setting parameter &#39;</span><span class="si">{</span><span class="n">param_name</span><span class="si">}</span><span class="s2">&#39; for function &#39;</span><span class="si">{</span><span class="n">scpi_func_short</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">InstrumentCommunicationError</span><span class="p">(</span>
                        <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
                        <span class="n">command</span><span class="o">=</span><span class="n">cmd</span><span class="p">,</span>
                        <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to set parameter </span><span class="si">{</span><span class="n">param_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="n">param_name</span><span class="p">,</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Parameter is not supported for function &#39;</span><span class="si">{</span><span class="n">function_type</span><span class="si">}</span><span class="s2">&#39; (</span><span class="si">{</span><span class="n">scpi_func_short</span><span class="si">}</span><span class="s2">). Supported: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">param_cmds_for_func</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_offset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_offset</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">offset</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">offset_cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:OFFSet </span><span class="si">{</span><span class="n">offset_cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Offset set to </span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2"> V&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_output_load_impedance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_output_load_impedance</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">impedance</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_output_load_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">impedance</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_impedance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">impedance</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">impedance</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">):</span>
            <span class="n">channel_config_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">ch</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">channel_config_model</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">channel_config_model</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="s1">&#39;load_impedance&#39;</span><span class="p">):</span>
                <span class="n">channel_config_model</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">load_impedance</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">impedance</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Load impedance for CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:LOAD </span><span class="si">{</span><span class="n">cmd_impedance</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Output load impedance setting updated to </span><span class="si">{</span><span class="n">impedance</span><span class="si">}</span><span class="s2"> (using SCPI value: </span><span class="si">{</span><span class="n">cmd_impedance</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_output_polarity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_output_polarity</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">polarity</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_output_polarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">polarity</span><span class="p">:</span> <span class="n">OutputPolarity</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:POLarity </span><span class="si">{</span><span class="n">polarity</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Output polarity set to </span><span class="si">{</span><span class="n">polarity</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_output_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_output_state</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span> <span class="c1"># Duplicated @validate_call removed</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_output_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">state</span><span class="p">:</span> <span class="n">SCPIOnOff</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:STATe </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Output state set to </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_phase" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_phase</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">phase</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_phase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">phase</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">phase_cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">phase</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">phase</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">):</span>
            <span class="n">channel_config_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">ch</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">channel_config_model</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">assert_in_range</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">phase</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Phase for CH</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:PHASe </span><span class="si">{</span><span class="n">phase_cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">unit</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_angle_unit</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Phase set to </span><span class="si">{</span><span class="n">phase</span><span class="si">}</span><span class="s2"> (in current unit: </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">, using SCPI value: </span><span class="si">{</span><span class="n">phase_cmd_val</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_phase_reference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_phase_reference</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_phase_reference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:PHASe:REFerence&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Phase reference reset (current phase defined as 0).&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_phase_unlock_error_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_phase_unlock_error_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_phase_unlock_error_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">SCPIOnOff</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR1:PHASe:UNLock:ERRor:STATe </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Phase unlock error state set to </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_spacing" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sweep_spacing</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">spacing</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sweep_spacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">spacing</span><span class="p">:</span> <span class="n">SweepSpacing</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SWEep:SPACing </span><span class="si">{</span><span class="n">spacing</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sweep spacing set to </span><span class="si">{</span><span class="n">spacing</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_start_frequency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sweep_start_frequency</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">freq_hz</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sweep_start_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">freq_hz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">freq_hz</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FREQuency:STARt </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sweep start frequency set to </span><span class="si">{</span><span class="n">freq_hz</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_stop_frequency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sweep_stop_frequency</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">freq_hz</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sweep_stop_frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">freq_hz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">freq_hz</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:FREQuency:STOP </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sweep stop frequency set to </span><span class="si">{</span><span class="n">freq_hz</span><span class="si">}</span><span class="s2"> Hz&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sweep_time" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sweep_time</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">sweep_time_sec</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sweep_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">sweep_time_sec</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">sweep_time_sec</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SWEep:TIME </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sweep time set to </span><span class="si">{</span><span class="n">sweep_time_sec</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sync_output_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sync_output_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">mode</span><span class="p">:</span> <span class="n">SyncMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SYNC:MODE </span><span class="si">{</span><span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sync output mode set to </span><span class="si">{</span><span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_polarity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sync_output_polarity</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">polarity</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sync_output_polarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">polarity</span><span class="p">:</span> <span class="n">OutputPolarity</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SYNC:POLarity </span><span class="si">{</span><span class="n">polarity</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Sync output polarity set to </span><span class="si">{</span><span class="n">polarity</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sync_output_source</span><span class="p">(</span><span class="n">source_channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sync_output_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch_to_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">source_channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut:SYNC:SOURce CH</span><span class="si">{</span><span class="n">ch_to_set</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sync output source set to CH</span><span class="si">{</span><span class="n">ch_to_set</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_sync_output_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_sync_output_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_sync_output_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">SCPIOnOff</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OUTPut:SYNC:STATe </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sync output state set to </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_trigger_slope" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_trigger_slope</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">slope</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_trigger_slope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">slope</span><span class="p">:</span> <span class="n">TriggerSlope</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TRIGger</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SLOPe </span><span class="si">{</span><span class="n">slope</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Trigger slope set to </span><span class="si">{</span><span class="n">slope</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_trigger_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_trigger_source</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_trigger_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">source</span><span class="p">:</span> <span class="n">TriggerSource</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TRIGger</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:SOURce </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Trigger source set to </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_autorange_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage_autorange_state</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage_autorange_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">state</span><span class="p">:</span> <span class="n">SCPIOnOff</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:RANGe:AUTO </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage autorange state set to </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_limit_high" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage_limit_high</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">voltage</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage_limit_high</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">voltage</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">voltage</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:LIMit:HIGH </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage high limit set to </span><span class="si">{</span><span class="n">voltage</span><span class="si">}</span><span class="s2"> V (using SCPI value: </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_limit_low" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage_limit_low</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">voltage</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage_limit_low</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">voltage</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">OutputLoadImpedance</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="n">cmd_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_value_min_max_def</span><span class="p">(</span><span class="n">voltage</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:LIMit:LOW </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage low limit set to </span><span class="si">{</span><span class="n">voltage</span><span class="si">}</span><span class="s2"> V (using SCPI value: </span><span class="si">{</span><span class="n">cmd_val</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_limits_state" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage_limits_state</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage_limits_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">state</span><span class="p">:</span> <span class="n">SCPIOnOff</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:LIMit:STATe </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage limits state set to </span><span class="si">{</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.set_voltage_unit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_voltage_unit</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">unit</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_voltage_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">unit</span><span class="p">:</span> <span class="n">VoltageUnit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">:VOLTage:UNIT </span><span class="si">{</span><span class="n">unit</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Channel </span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">: Voltage unit set to </span><span class="si">{</span><span class="n">unit</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.synchronize_phase_all_channels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">synchronize_phase_all_channels</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validate_call</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">synchronize_phase_all_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel_count</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Warning: Phase synchronization command sent, but primarily intended for multi-channel instruments.&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;PHASe:SYNChronize&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;All channels/internal phase generators synchronized.&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.WaveformGenerator.WaveformGenerator.trigger_now" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">trigger_now</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/WaveformGenerator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">trigger_now</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">channel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TRIGger</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sent immediate channel-specific trigger command TRIGger</span><span class="si">{</span><span class="n">ch</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="s2">&quot;*TRG&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;Sent general bus trigger command *TRG&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_error_check</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="multimeter">Multimeter</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.Multimeter" class="doc doc-heading">
            <code>pytestlab.instruments.Multimeter</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">





<h3 id="pytestlab.instruments.Multimeter-attributes">Attributes</h3>

<div class="doc doc-object doc-attribute">



<h4 id="pytestlab.instruments.Multimeter.logger" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

    </div>

</div>
<h3 id="pytestlab.instruments.Multimeter-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Multimeter.Multimeter" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">Multimeter</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.multimeter_config.MultimeterConfig" href="../config/#pytestlab.config.multimeter_config.MultimeterConfig">MultimeterConfig</a>]</code></p>


        <p>Drives a Digital Multimeter (DMM) for various measurements.</p>
<p>This class provides a high-level interface for controlling a DMM, building
upon the base <code>Instrument</code> class. It includes methods for common DMM
operations such as measuring voltage, current, resistance, and frequency.
It also handles instrument-specific configurations and can incorporate
measurement uncertainty based on the provided configuration.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="config

  
      instance-attribute
   (pytestlab.instruments.Multimeter.Multimeter.config)" href="#pytestlab.instruments.Multimeter.Multimeter.config">config</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The Pydantic configuration object (<code>MultimeterConfig</code>)
    containing settings specific to this DMM.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="pytestlab.config.multimeter_config.MultimeterConfig" href="../config/#pytestlab.config.multimeter_config.MultimeterConfig">MultimeterConfig</a></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigType</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Changed to AsyncInstrumentIO</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Instrument class.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigType): Configuration for the instrument.</span>
<span class="sd">        backend (AsyncInstrumentIO): The communication backend instance.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span> <span class="c1"># Check against the bound base</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;A valid InstrumentConfig-compatible object must be provided, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="c1"># This will be an AsyncInstrumentIO instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_command_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Initializing with backend &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.Multimeter.Multimeter-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Multimeter.Multimeter.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.Multimeter.Multimeter-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.Multimeter.configure_measurement" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_measurement</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">range_val</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures the instrument for a measurement without triggering it.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_measurement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">:</span> <span class="n">DMMFunction</span><span class="p">,</span> <span class="n">range_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">resolution</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the instrument for a measurement without triggering it.&quot;&quot;&quot;</span>
    <span class="n">scpi_function_val</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="n">value</span>
    <span class="n">range_for_query</span> <span class="o">=</span> <span class="n">range_val</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">range_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;AUTO&quot;</span>
    <span class="n">resolution_for_query</span> <span class="o">=</span> <span class="n">resolution</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">resolution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;DEF&quot;</span>
    <span class="c1"># Using CONFigure command as per programming guide page 44</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;CONFigure:</span><span class="si">{</span><span class="n">scpi_function_val</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">range_for_query</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">resolution_for_query</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configured DMM for </span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> with range=</span><span class="si">{</span><span class="n">range_for_query</span><span class="si">}</span><span class="s2">, resolution=</span><span class="si">{</span><span class="n">resolution_for_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.Multimeter.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Multimeter&quot;</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">MultimeterConfig</span><span class="p">,</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Multimeter&quot;</span><span class="p">:</span>
    <span class="c1"># This method is generally handled by the `AutoInstrument` factory.</span>
    <span class="c1"># It&#39;s provided here for completeness but direct instantiation is preferred</span>
    <span class="c1"># when not using the factory.</span>
    <span class="c1"># If config is a dict that needs to be passed to MultimeterConfig constructor:</span>
    <span class="c1"># return cls(config=MultimeterConfig(**config), debug_mode=debug_mode)</span>
    <span class="c1"># If config is already a MultimeterConfig instance:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Please use AutoInstrument.from_config() to create instrument instances.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.Multimeter.get_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Retrieves the current measurement configuration from the DMM.</p>
<p>This method queries the instrument to determine its current settings,
such as the active measurement function, range, and resolution. It then
parses this information into a structured <code>MultimeterConfigResult</code> object.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="MultimeterConfigResult(measurement_mode, range_value, resolution, units='')

  
      dataclass
   (pytestlab.instruments.Multimeter.MultimeterConfigResult)" href="#pytestlab.instruments.Multimeter.MultimeterConfigResult">MultimeterConfigResult</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A <code>MultimeterConfigResult</code> dataclass instance with the DMM's current</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="MultimeterConfigResult(measurement_mode, range_value, resolution, units='')

  
      dataclass
   (pytestlab.instruments.Multimeter.MultimeterConfigResult)" href="#pytestlab.instruments.Multimeter.MultimeterConfigResult">MultimeterConfigResult</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="pytestlab.errors.InstrumentDataError">InstrumentDataError</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the configuration string from the DMM
                 cannot be parsed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MultimeterConfigResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the current measurement configuration from the DMM.</span>

<span class="sd">    This method queries the instrument to determine its current settings,</span>
<span class="sd">    such as the active measurement function, range, and resolution. It then</span>
<span class="sd">    parses this information into a structured `MultimeterConfigResult` object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `MultimeterConfigResult` dataclass instance with the DMM&#39;s current</span>
<span class="sd">        configuration.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentDataError: If the configuration string from the DMM</span>
<span class="sd">                             cannot be parsed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Query the instrument for its current configuration. The response is typically</span>
    <span class="c1"># a string like &#39;&quot;VOLT:DC 10,0.0001&quot;&#39;.</span>
    <span class="n">config_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;CONFigure?&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Handle cases where resolution is not returned, e.g., &quot;FRES 1.000000E+02&quot;</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">config_str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">mode_part</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># Settings part can be complex, find first comma</span>
        <span class="n">settings_part</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="k">if</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">settings_part</span><span class="p">:</span>
            <span class="n">range_str</span><span class="p">,</span> <span class="n">resolution_str</span> <span class="o">=</span> <span class="n">settings_part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">range_str</span> <span class="o">=</span> <span class="n">settings_part</span>
            <span class="n">resolution_str</span> <span class="o">=</span> <span class="s2">&quot;N/A&quot;</span> <span class="c1"># Resolution not specified in query response</span>

        <span class="c1"># Parse the string to extract the mode, range, and resolution.</span>
        <span class="n">range_value_float</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">range_str</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentDataError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Failed to parse configuration string: &#39;</span><span class="si">{</span><span class="n">config_str</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="c1"># Determine human-friendly measurement mode and assign units based on mode</span>
    <span class="n">measurement_mode_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1"># Renamed</span>
    <span class="n">unit_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1"># Renamed</span>
    <span class="n">mode_upper</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">mode_part</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">mode_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;VOLT&quot;</span><span class="p">):</span>
        <span class="n">measurement_mode_str</span> <span class="o">=</span> <span class="s2">&quot;Voltage&quot;</span>
        <span class="n">unit_str</span> <span class="o">=</span> <span class="s2">&quot;V&quot;</span>
    <span class="k">elif</span> <span class="n">mode_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;CURR&quot;</span><span class="p">):</span>
        <span class="n">measurement_mode_str</span> <span class="o">=</span> <span class="s2">&quot;Current&quot;</span>
        <span class="n">unit_str</span> <span class="o">=</span> <span class="s2">&quot;A&quot;</span>
    <span class="k">elif</span> <span class="s2">&quot;RES&quot;</span> <span class="ow">in</span> <span class="n">mode_upper</span><span class="p">:</span> <span class="c1"># Catches RES and FRES</span>
        <span class="n">measurement_mode_str</span> <span class="o">=</span> <span class="s2">&quot;Resistance&quot;</span>
        <span class="n">unit_str</span> <span class="o">=</span> <span class="s2">&quot;Ohm&quot;</span>
    <span class="k">elif</span> <span class="s2">&quot;FREQ&quot;</span> <span class="ow">in</span> <span class="n">mode_upper</span><span class="p">:</span>
        <span class="n">measurement_mode_str</span> <span class="o">=</span> <span class="s2">&quot;Frequency&quot;</span>
        <span class="n">unit_str</span> <span class="o">=</span> <span class="s2">&quot;Hz&quot;</span>
    <span class="k">elif</span> <span class="n">mode_upper</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;TEMP&quot;</span><span class="p">):</span>
        <span class="n">measurement_mode_str</span> <span class="o">=</span> <span class="s2">&quot;Temperature&quot;</span>
        <span class="n">unit_str</span> <span class="o">=</span> <span class="s2">&quot;C&quot;</span>  <span class="c1"># Default; could also be F depending on settings</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">measurement_mode_str</span> <span class="o">=</span> <span class="n">mode_part</span>

    <span class="k">return</span> <span class="n">MultimeterConfigResult</span><span class="p">(</span>
        <span class="n">measurement_mode</span><span class="o">=</span><span class="n">measurement_mode_str</span><span class="p">,</span>
        <span class="n">range_value</span><span class="o">=</span><span class="n">range_value_float</span><span class="p">,</span>
        <span class="n">resolution</span><span class="o">=</span><span class="n">resolution_str</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
        <span class="n">units</span><span class="o">=</span><span class="n">unit_str</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.Multimeter.measure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">range_val</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Performs a measurement and returns the result.</p>
<p>This is the primary method for acquiring data from the DMM. It configures
the measurement, triggers it, and reads the result. If measurement
accuracy specifications are provided in the instrument's configuration,
this method will calculate the uncertainty and return the value as a
<code>UFloat</code> object.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The measurement function to perform (e.g., DC Voltage).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pytestlab.config.multimeter_config.DMMFunction">DMMFunction</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>range_val</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The measurement range (e.g., "1V", "AUTO"). If not provided,
       "AUTO" is used. The value is validated against the ranges
       defined in the instrument's configuration.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>resolution</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The desired resolution (e.g., "MIN", "MAX", "DEF"). If not
        provided, "DEF" (default) is used.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="pytestlab.experiments.results.MeasurementResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.experiments.results.MeasurementResult)" href="../experiments/#pytestlab.experiments.results.MeasurementResult">MeasurementResult</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A <code>MeasurementResult</code> object containing the measured value (as a float</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="pytestlab.experiments.results.MeasurementResult(values, instrument, units, measurement_type, timestamp=None, envelope=None, sampling_rate=None, **kwargs) (pytestlab.experiments.results.MeasurementResult)" href="../experiments/#pytestlab.experiments.results.MeasurementResult">MeasurementResult</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>or <code>UFloat</code>), units, and other metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If an unsupported <code>range_val</code> is provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">:</span> <span class="n">DMMFunction</span><span class="p">,</span> <span class="n">range_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">resolution</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs a measurement and returns the result.</span>

<span class="sd">    This is the primary method for acquiring data from the DMM. It configures</span>
<span class="sd">    the measurement, triggers it, and reads the result. If measurement</span>
<span class="sd">    accuracy specifications are provided in the instrument&#39;s configuration,</span>
<span class="sd">    this method will calculate the uncertainty and return the value as a</span>
<span class="sd">    `UFloat` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        function: The measurement function to perform (e.g., DC Voltage).</span>
<span class="sd">        range_val: The measurement range (e.g., &quot;1V&quot;, &quot;AUTO&quot;). If not provided,</span>
<span class="sd">                   &quot;AUTO&quot; is used. The value is validated against the ranges</span>
<span class="sd">                   defined in the instrument&#39;s configuration.</span>
<span class="sd">        resolution: The desired resolution (e.g., &quot;MIN&quot;, &quot;MAX&quot;, &quot;DEF&quot;). If not</span>
<span class="sd">                    provided, &quot;DEF&quot; (default) is used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `MeasurementResult` object containing the measured value (as a float</span>
<span class="sd">        or `UFloat`), units, and other metadata.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If an unsupported `range_val` is provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scpi_function_val</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="n">value</span>
    <span class="n">is_autorange</span> <span class="o">=</span> <span class="n">range_val</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">range_val</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;AUTO&quot;</span>

    <span class="c1"># The MEASure command is a combination of CONFigure, INITiate, and FETCh.</span>
    <span class="c1"># This is convenient but makes querying the actual range used in autorange tricky.</span>
    <span class="c1"># For accurate uncertainty, we will use CONFigure separately when in autorange.</span>
    <span class="k">if</span> <span class="n">is_autorange</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">:RANGe:AUTO ON&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolution</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">:RESolution </span><span class="si">{</span><span class="n">resolution</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">response_str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="s2">&quot;READ?&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Use the combined MEASure? command for fixed range</span>
        <span class="n">range_for_query</span> <span class="o">=</span> <span class="n">range_val</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">range_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;AUTO&quot;</span>
        <span class="n">resolution_for_query</span> <span class="o">=</span> <span class="n">resolution</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">resolution</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;DEF&quot;</span>
        <span class="n">query_command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;MEASURE:</span><span class="si">{</span><span class="n">scpi_function_val</span><span class="si">}</span><span class="s2">? </span><span class="si">{</span><span class="n">range_for_query</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">resolution_for_query</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing DMM measure query: </span><span class="si">{</span><span class="n">query_command</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">response_str</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="n">query_command</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">reading</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">response_str</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentDataError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">instrument</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">],</span> <span class="sa">f</span><span class="s2">&quot;Could not parse measurement reading: &#39;</span><span class="si">{</span><span class="n">response_str</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">value_to_return</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">UFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">reading</span>

    <span class="c1"># --- Uncertainty Calculation ---</span>
    <span class="n">function_spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_function_spec</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">function_spec</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Determine the actual range used by the instrument to find the correct spec</span>
            <span class="n">current_instrument_config</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
            <span class="n">actual_instrument_range</span> <span class="o">=</span> <span class="n">current_instrument_config</span><span class="o">.</span><span class="n">range_value</span>

            <span class="c1"># Find the matching range specification</span>
            <span class="n">matching_range_spec</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="c1"># Find the smallest nominal range that is &gt;= the actual range used.</span>
            <span class="c1"># Assumes specs in YAML are sorted by nominal value, which is typical.</span>
            <span class="k">for</span> <span class="n">r_spec</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">function_spec</span><span class="o">.</span><span class="n">ranges</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">nominal</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">r_spec</span><span class="o">.</span><span class="n">nominal</span> <span class="o">&gt;=</span> <span class="n">actual_instrument_range</span><span class="p">:</span>
                    <span class="n">matching_range_spec</span> <span class="o">=</span> <span class="n">r_spec</span>
                    <span class="k">break</span>

            <span class="c1"># Fallback to the largest range if no suitable one is found (e.g. if actual &gt; largest nominal)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">matching_range_spec</span><span class="p">:</span>
                <span class="n">matching_range_spec</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">function_spec</span><span class="o">.</span><span class="n">ranges</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">nominal</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">matching_range_spec</span><span class="p">:</span>
                <span class="n">accuracy_spec</span> <span class="o">=</span> <span class="n">matching_range_spec</span><span class="o">.</span><span class="n">default_accuracy</span>
                <span class="k">if</span> <span class="n">accuracy_spec</span><span class="p">:</span>
                    <span class="c1"># Use the spec&#39;s nominal value for the &#39;% of range&#39; calculation</span>
                    <span class="n">range_for_calc</span> <span class="o">=</span> <span class="n">matching_range_spec</span><span class="o">.</span><span class="n">nominal</span>
                    <span class="n">std_dev</span> <span class="o">=</span> <span class="n">accuracy_spec</span><span class="o">.</span><span class="n">calculate_uncertainty</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">range_for_calc</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">std_dev</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">value_to_return</span> <span class="o">=</span> <span class="n">ufloat</span><span class="p">(</span><span class="n">reading</span><span class="p">,</span> <span class="n">std_dev</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied accuracy spec for range </span><span class="si">{</span><span class="n">range_for_calc</span><span class="si">}</span><span class="s2">, value: </span><span class="si">{</span><span class="n">value_to_return</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calculated uncertainty is zero. Returning float.&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No applicable accuracy specification found for function &#39;</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; at range </span><span class="si">{</span><span class="n">actual_instrument_range</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find a matching range specification for function &#39;</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; at range </span><span class="si">{</span><span class="n">actual_instrument_range</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error during uncertainty calculation: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">. Returning float.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No measurement function specification in config for &#39;</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Returning float.&quot;</span><span class="p">)</span>

    <span class="n">units_val</span><span class="p">,</span> <span class="n">measurement_name_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_measurement_unit_and_type</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">MeasurementResult</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">value_to_return</span><span class="p">,</span>
        <span class="n">instrument</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="n">units</span><span class="o">=</span><span class="n">units_val</span><span class="p">,</span>
        <span class="n">measurement_type</span><span class="o">=</span><span class="n">measurement_name_val</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.Multimeter.set_measurement_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_measurement_function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures the primary measurement function of the DMM.</p>
<p>This method sets the DMM to measure a specific quantity, such as DC
Voltage, AC Current, or Resistance.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>function</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The desired measurement function, as defined by the
      <code>DMMFunction</code> enum.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="pytestlab.config.multimeter_config.DMMFunction">DMMFunction</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_measurement_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">:</span> <span class="n">DMMFunction</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the primary measurement function of the DMM.</span>

<span class="sd">    This method sets the DMM to measure a specific quantity, such as DC</span>
<span class="sd">    Voltage, AC Current, or Resistance.</span>

<span class="sd">    Args:</span>
<span class="sd">        function: The desired measurement function, as defined by the</span>
<span class="sd">                  `DMMFunction` enum.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Using the recommended SCPI command from the programming guide (page 145)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;SENSe:FUNCtion &quot;</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Set measurement function to </span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">function</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.Multimeter.set_trigger_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_trigger_source</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the trigger source for initiating a measurement.</p>
<p>The trigger source determines what event will cause the DMM to start
taking a reading.
- "IMM": Immediate, the DMM triggers as soon as it's ready.
- "EXT": External, a hardware signal on the rear panel triggers the DMM.
- "BUS": A software command (<code>*TRG</code>) triggers the DMM.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The desired trigger source.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Literal">Literal</span>[&#39;IMM&#39;, &#39;EXT&#39;, &#39;BUS&#39;]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_trigger_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;IMM&quot;</span><span class="p">,</span> <span class="s2">&quot;EXT&quot;</span><span class="p">,</span> <span class="s2">&quot;BUS&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the trigger source for initiating a measurement.</span>

<span class="sd">    The trigger source determines what event will cause the DMM to start</span>
<span class="sd">    taking a reading.</span>
<span class="sd">    - &quot;IMM&quot;: Immediate, the DMM triggers as soon as it&#39;s ready.</span>
<span class="sd">    - &quot;EXT&quot;: External, a hardware signal on the rear panel triggers the DMM.</span>
<span class="sd">    - &quot;BUS&quot;: A software command (`*TRG`) triggers the DMM.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The desired trigger source.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TRIG:SOUR </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Set trigger source to </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.Multimeter.MultimeterConfigResult" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">MultimeterConfigResult</span><span class="p">(</span><span class="n">measurement_mode</span><span class="p">,</span> <span class="n">range_value</span><span class="p">,</span> <span class="n">resolution</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">


        <p>Stores the current measurement configuration of the multimeter.</p>
<p>This data class holds the state of the multimeter's configuration at a
point in time, such as the measurement mode, range, and resolution. It is
typically returned by methods that query the instrument's status.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="measurement_mode

  
      instance-attribute
   (pytestlab.instruments.Multimeter.MultimeterConfigResult.measurement_mode)" href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.measurement_mode">measurement_mode</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The type of measurement being made (e.g., "Voltage").</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="range_value

  
      instance-attribute
   (pytestlab.instruments.Multimeter.MultimeterConfigResult.range_value)" href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.range_value">range_value</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The configured measurement range.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="resolution

  
      instance-attribute
   (pytestlab.instruments.Multimeter.MultimeterConfigResult.resolution)" href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.resolution">resolution</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The configured resolution.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="units = ''

  
      class-attribute
      instance-attribute
   (pytestlab.instruments.Multimeter.MultimeterConfigResult.units)" href="#pytestlab.instruments.Multimeter.MultimeterConfigResult.units">units</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The units for the measurement range (e.g., "V", "A").</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">





<h5 id="pytestlab.instruments.Multimeter.MultimeterConfigResult-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Multimeter.MultimeterConfigResult.measurement_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measurement_mode</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Multimeter.MultimeterConfigResult.range_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">range_value</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Multimeter.MultimeterConfigResult.resolution" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolution</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.Multimeter.MultimeterConfigResult.units" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.Multimeter.MultimeterConfigResult-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.Multimeter.MultimeterConfigResult.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/Multimeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Measurement Mode: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_mode</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Range: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">range_value</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Resolution: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resolution</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h3 id="pytestlab.instruments.Multimeter-functions">Functions</h3>



  </div>

    </div>

</div><h3 id="dc-active-load">DC Active Load</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.DCActiveLoad" class="doc doc-heading">
            <code>pytestlab.instruments.DCActiveLoad</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.DCActiveLoad-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">DCActiveLoad</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a></code></p>


        <p>Drives a DC Electronic Load instrument, such as the Keysight EL30000 series.</p>
<p>This class provides a driver for controlling a DC Active Load, enabling
programmatic control over its operating modes and settings. It is designed
to work with SCPI-compliant instruments and leverages a detailed Pydantic
configuration model to provide uncertainty-aware measurements and feature-rich
control.</p>
<p>The driver supports the following primary operations:
- Setting the operating mode (Constant Current, Voltage, Power, Resistance).
- Programming the load value for the current mode.
- Enabling or disabling the load's input.
- Measuring voltage, current, and power with uncertainty.
- Configuring and controlling transient and battery test modes.</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DCActiveLoadConfig</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.current_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_mode</span> <span class="o">=</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.configure_transient_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_transient_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the operating mode of the transient generator.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_transient_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;CONTinuous&#39;</span><span class="p">,</span> <span class="s1">&#39;PULSe&#39;</span><span class="p">,</span> <span class="s1">&#39;TOGGle&#39;</span><span class="p">,</span> <span class="s1">&#39;LIST&#39;</span><span class="p">],</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the operating mode of the transient generator.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TRANsient:MODE </span><span class="si">{</span><span class="n">mode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.enable_battery_test" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_battery_test</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables or disables the battery test operation.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable_battery_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables or disables the battery test operation.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:ENABle </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.enable_input" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_input</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables or disables the load's input.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>state</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>True to enable the input, False to disable.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel to control (default is 1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">enable_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables or disables the load&#39;s input.</span>

<span class="sd">    Args:</span>
<span class="sd">        state: True to enable the input, False to disable.</span>
<span class="sd">        channel: The channel to control (default is 1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;INPut:STATe </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Input on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> turned </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.fetch_datalogger_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_datalogger_data</span><span class="p">(</span><span class="n">num_points</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches the specified number of logged data points.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_datalogger_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_points</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches the specified number of logged data points.&quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FETCh:SCALar:DLOG? </span><span class="si">{</span><span class="n">num_points</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.fetch_scope_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_scope_data</span><span class="p">(</span><span class="n">measurement</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches the captured waveform (scope) data as a NumPy array.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_scope_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">measurement</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;current&quot;</span><span class="p">,</span> <span class="s2">&quot;voltage&quot;</span><span class="p">,</span> <span class="s2">&quot;power&quot;</span><span class="p">],</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches the captured waveform (scope) data as a NumPy array.&quot;&quot;&quot;</span>
    <span class="n">scpi_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;current&quot;</span><span class="p">:</span> <span class="s2">&quot;CURRent&quot;</span><span class="p">,</span> <span class="s2">&quot;voltage&quot;</span><span class="p">:</span> <span class="s2">&quot;VOLTage&quot;</span><span class="p">,</span> <span class="s2">&quot;power&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">}</span>
    <span class="n">raw_data</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_raw</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FETCh:ARRay:</span><span class="si">{</span><span class="n">scpi_map</span><span class="p">[</span><span class="n">measurement</span><span class="p">]</span><span class="si">}</span><span class="s2">? (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="c1"># Assumes the backend handles binary block data parsing; if not, call self._read_to_np</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">frombuffer</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span> <span class="c1"># Assuming float data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.from_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">simulate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Creates a DCActiveLoad instance from a configuration.</p>
<p>This factory method allows for the creation of a DCActiveLoad driver from
either a raw dictionary or a <code>DCActiveLoadConfig</code> object. It simplifies
the instantiation process by handling the configuration object creation
internally.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A dictionary or a <code>DCActiveLoadConfig</code> object containing the
    instrument's settings.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <a class="autorefs autorefs-internal" title="pytestlab.config.dc_active_load_config.DCActiveLoadConfig" href="../config/#pytestlab.config.dc_active_load_config.DCActiveLoadConfig">DCActiveLoadConfig</a>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>debug_mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, enables detailed logging for debugging purposes.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>simulate</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, initializes the instrument in simulation mode.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="DCActiveLoad(config, backend, **kwargs) (pytestlab.instruments.DCActiveLoad.DCActiveLoad)" href="#pytestlab.instruments.DCActiveLoad.DCActiveLoad">DCActiveLoad</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>An initialized DCActiveLoad object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentConfigurationError(instrument=None, message='') (pytestlab.errors.InstrumentConfigurationError)" href="../errors/#pytestlab.errors.InstrumentConfigurationError">InstrumentConfigurationError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the provided config is not a dict or
                          a <code>DCActiveLoadConfig</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">DCActiveLoad</span><span class="p">],</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">DCActiveLoadConfig</span><span class="p">],</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">simulate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DCActiveLoad</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a DCActiveLoad instance from a configuration.</span>

<span class="sd">    This factory method allows for the creation of a DCActiveLoad driver from</span>
<span class="sd">    either a raw dictionary or a `DCActiveLoadConfig` object. It simplifies</span>
<span class="sd">    the instantiation process by handling the configuration object creation</span>
<span class="sd">    internally.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: A dictionary or a `DCActiveLoadConfig` object containing the</span>
<span class="sd">                instrument&#39;s settings.</span>
<span class="sd">        debug_mode: If True, enables detailed logging for debugging purposes.</span>
<span class="sd">        simulate: If True, initializes the instrument in simulation mode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An initialized DCActiveLoad object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentConfigurationError: If the provided config is not a dict or</span>
<span class="sd">                                      a `DCActiveLoadConfig` instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">conf_obj</span><span class="p">:</span> <span class="n">DCActiveLoadConfig</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">conf_obj</span> <span class="o">=</span> <span class="n">DCActiveLoadConfig</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">DCActiveLoadConfig</span><span class="p">):</span>
        <span class="n">conf_obj</span> <span class="o">=</span> <span class="n">config</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="s2">&quot;DCActiveLoad&quot;</span><span class="p">,</span> <span class="s2">&quot;Configuration must be a dict or DCActiveLoadConfig instance.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">conf_obj</span><span class="p">,</span> <span class="n">debug_mode</span><span class="o">=</span><span class="n">debug_mode</span><span class="p">,</span> <span class="n">simulate</span><span class="o">=</span><span class="n">simulate</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.get_battery_test_measurement" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_battery_test_measurement</span><span class="p">(</span><span class="n">metric</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Queries a measurement from the ongoing battery test.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_battery_test_measurement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;capacity&quot;</span><span class="p">,</span> <span class="s2">&quot;power&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Queries a measurement from the ongoing battery test.&quot;&quot;&quot;</span>
    <span class="n">scpi_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;capacity&quot;</span><span class="p">:</span> <span class="s2">&quot;CAPacity&quot;</span><span class="p">,</span> <span class="s2">&quot;power&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;TIMe&quot;</span><span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:MEASure:</span><span class="si">{</span><span class="n">scpi_map</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span><span class="si">}</span><span class="s2">? (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.is_input_enabled" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_input_enabled</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Queries the state of the load's input.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="bool">bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>True if the input is enabled, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">is_input_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Queries the state of the load&#39;s input.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the input is enabled, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;INPut:STATe? (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.measure_current" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_current</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Measures the sinking current, including uncertainty if available.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_current</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Measures the sinking current, including uncertainty if available.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_measure_with_uncertainty</span><span class="p">(</span><span class="s2">&quot;current&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.measure_power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_power</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Measures the power being dissipated, including uncertainty if available.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_power</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Measures the power being dissipated, including uncertainty if available.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_measure_with_uncertainty</span><span class="p">(</span><span class="s2">&quot;power&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.measure_voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measure_voltage</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Measures the voltage across the load, including uncertainty if available.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">measure_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Measures the voltage across the load, including uncertainty if available.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_measure_with_uncertainty</span><span class="p">(</span><span class="s2">&quot;voltage&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_battery_cutoff_capacity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_battery_cutoff_capacity</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures the capacity (Ah) cutoff condition for the battery test.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_battery_cutoff_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the capacity (Ah) cutoff condition for the battery test.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:CUTOff:CAPacity:STATe </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:CUTOff:CAPacity </span><span class="si">{</span><span class="n">capacity</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_battery_cutoff_timer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_battery_cutoff_timer</span><span class="p">(</span><span class="n">time_s</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures the timer (seconds) cutoff condition for the battery test.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_battery_cutoff_timer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_s</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the timer (seconds) cutoff condition for the battery test.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:CUTOff:TIMer:STATe </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:CUTOff:TIMer </span><span class="si">{</span><span class="n">time_s</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_battery_cutoff_voltage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_battery_cutoff_voltage</span><span class="p">(</span><span class="n">voltage</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures the voltage cutoff condition for the battery test.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_battery_cutoff_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">voltage</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the voltage cutoff condition for the battery test.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:CUTOff:VOLTage:STATe </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">state</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BATTery:CUTOff:VOLTage </span><span class="si">{</span><span class="n">voltage</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_load</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Programs the load's setpoint for the current operating mode.</p>
<p>This method sets the target value that the load will maintain. The unit
of the <code>value</code> argument depends on the currently active mode:
- "CC" mode: <code>value</code> is in Amperes (A).
- "CV" mode: <code>value</code> is in Volts (V).
- "CP" mode: <code>value</code> is in Watts (W).
- "CR" mode: <code>value</code> is in Ohms ().</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The target value for the load.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="float">float</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the operating mode has not been set first
                      by calling <code>set_mode()</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Programs the load&#39;s setpoint for the current operating mode.</span>

<span class="sd">    This method sets the target value that the load will maintain. The unit</span>
<span class="sd">    of the `value` argument depends on the currently active mode:</span>
<span class="sd">    - &quot;CC&quot; mode: `value` is in Amperes (A).</span>
<span class="sd">    - &quot;CV&quot; mode: `value` is in Volts (V).</span>
<span class="sd">    - &quot;CP&quot; mode: `value` is in Watts (W).</span>
<span class="sd">    - &quot;CR&quot; mode: `value` is in Ohms ().</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The target value for the load.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the operating mode has not been set first</span>
<span class="sd">                                  by calling `set_mode()`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="s2">&quot;Load mode has not been set. Call set_mode() first.&quot;</span><span class="p">)</span>

    <span class="n">command_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;CC&quot;</span><span class="p">:</span> <span class="s2">&quot;CURRent&quot;</span><span class="p">,</span> <span class="s2">&quot;CV&quot;</span><span class="p">:</span> <span class="s2">&quot;VOLTage&quot;</span><span class="p">,</span> <span class="s2">&quot;CP&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">,</span> <span class="s2">&quot;CR&quot;</span><span class="p">:</span> <span class="s2">&quot;RESistance&quot;</span><span class="p">}</span>
    <span class="n">scpi_param</span> <span class="o">=</span> <span class="n">command_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">scpi_param</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scpi_param</span><span class="si">}</span><span class="s2">:LEVel:IMMediate:AMPLitude </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Load value set to </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> in mode </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Internal error: Unknown current_mode &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_mode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the operating mode of the electronic load.</p>
<p>This method configures the load to operate in one of the supported modes.
The mode determines what physical quantity the load will attempt to keep
constant.</p>
<p>The supported modes are:
- "CC": Constant Current
- "CV": Constant Voltage
- "CP": Constant Power
- "CR": Constant Resistance</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The desired operating mode. The input is case-insensitive.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="pytestlab.errors.InstrumentParameterError(parameter=None, value=None, valid_range=None, message='') (pytestlab.errors.InstrumentParameterError)" href="../errors/#pytestlab.errors.InstrumentParameterError">InstrumentParameterError</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the specified mode is not supported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the operating mode of the electronic load.</span>

<span class="sd">    This method configures the load to operate in one of the supported modes.</span>
<span class="sd">    The mode determines what physical quantity the load will attempt to keep</span>
<span class="sd">    constant.</span>

<span class="sd">    The supported modes are:</span>
<span class="sd">    - &quot;CC&quot;: Constant Current</span>
<span class="sd">    - &quot;CV&quot;: Constant Voltage</span>
<span class="sd">    - &quot;CP&quot;: Constant Power</span>
<span class="sd">    - &quot;CR&quot;: Constant Resistance</span>

<span class="sd">    Args:</span>
<span class="sd">        mode: The desired operating mode. The input is case-insensitive.</span>

<span class="sd">    Raises:</span>
<span class="sd">        InstrumentParameterError: If the specified mode is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mode_upper</span> <span class="o">=</span> <span class="n">mode</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="n">mode_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;CC&quot;</span><span class="p">:</span> <span class="s2">&quot;CURR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CV&quot;</span><span class="p">:</span> <span class="s2">&quot;VOLTage&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CP&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CR&quot;</span><span class="p">:</span> <span class="s2">&quot;RESistance&quot;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">mode_upper</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode_map</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;mode&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="n">valid_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">mode_map</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
            <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unsupported mode &#39;</span><span class="si">{</span><span class="n">mode</span><span class="si">}</span><span class="s2">&#39;. Valid modes are: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mode_map</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FUNC </span><span class="si">{</span><span class="n">mode_map</span><span class="p">[</span><span class="n">mode_upper</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="o">=</span> <span class="n">mode_upper</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Operating mode set to </span><span class="si">{</span><span class="n">mode_upper</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_range</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the operating range for the current mode.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The maximum expected value to set the range. Can also be "MIN" or "MAX".</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="float">float</span>, <span title="str">str</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel to configure (default is 1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the operating range for the current mode.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The maximum expected value to set the range. Can also be &quot;MIN&quot; or &quot;MAX&quot;.</span>
<span class="sd">        channel: The channel to configure (default is 1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="s2">&quot;Mode must be set before setting range.&quot;</span><span class="p">)</span>
    <span class="n">command_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;CC&quot;</span><span class="p">:</span> <span class="s2">&quot;CURRent&quot;</span><span class="p">,</span> <span class="s2">&quot;CV&quot;</span><span class="p">:</span> <span class="s2">&quot;VOLTage&quot;</span><span class="p">,</span> <span class="s2">&quot;CP&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">,</span> <span class="s2">&quot;CR&quot;</span><span class="p">:</span> <span class="s2">&quot;RESistance&quot;</span><span class="p">}</span>
    <span class="n">scpi_param</span> <span class="o">=</span> <span class="n">command_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scpi_param</span><span class="si">}</span><span class="s2">:RANGe </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Range for mode </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="si">}</span><span class="s2"> on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> set for value </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_slew_rate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_slew_rate</span><span class="p">(</span><span class="n">rate</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the slew rate for the current operating mode.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rate</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The desired slew rate. Units depend on the mode (A/s, V/s, etc.).
  Can also be "MIN", "MAX", or "INF".</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="float">float</span>, <span title="str">str</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel to configure (default is 1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_slew_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the slew rate for the current operating mode.</span>

<span class="sd">    Args:</span>
<span class="sd">        rate: The desired slew rate. Units depend on the mode (A/s, V/s, etc.).</span>
<span class="sd">              Can also be &quot;MIN&quot;, &quot;MAX&quot;, or &quot;INF&quot;.</span>
<span class="sd">        channel: The channel to configure (default is 1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="s2">&quot;Mode must be set before setting slew rate.&quot;</span><span class="p">)</span>

    <span class="n">command_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;CC&quot;</span><span class="p">:</span> <span class="s2">&quot;CURRent&quot;</span><span class="p">,</span> <span class="s2">&quot;CV&quot;</span><span class="p">:</span> <span class="s2">&quot;VOLTage&quot;</span><span class="p">,</span> <span class="s2">&quot;CP&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">,</span> <span class="s2">&quot;CR&quot;</span><span class="p">:</span> <span class="s2">&quot;RESistance&quot;</span><span class="p">}</span>
    <span class="n">scpi_param</span> <span class="o">=</span> <span class="n">command_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scpi_param</span><span class="si">}</span><span class="s2">:SLEW </span><span class="si">{</span><span class="n">rate</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Slew rate for mode </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="si">}</span><span class="s2"> on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> set to </span><span class="si">{</span><span class="n">rate</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.set_transient_level" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_transient_level</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Sets the secondary (transient) level for the current operating mode.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_transient_level</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the secondary (transient) level for the current operating mode.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InstrumentParameterError</span><span class="p">(</span><span class="s2">&quot;Mode must be set before setting transient level.&quot;</span><span class="p">)</span>
    <span class="n">command_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;CC&quot;</span><span class="p">:</span> <span class="s2">&quot;CURRent&quot;</span><span class="p">,</span> <span class="s2">&quot;CV&quot;</span><span class="p">:</span> <span class="s2">&quot;VOLTage&quot;</span><span class="p">,</span> <span class="s2">&quot;CP&quot;</span><span class="p">:</span> <span class="s2">&quot;POWer&quot;</span><span class="p">,</span> <span class="s2">&quot;CR&quot;</span><span class="p">:</span> <span class="s2">&quot;RESistance&quot;</span><span class="p">}</span>
    <span class="n">scpi_param</span> <span class="o">=</span> <span class="n">command_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">)</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scpi_param</span><span class="si">}</span><span class="s2">:TLEVel </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.short_input" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">short_input</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Enables or disables a short circuit on the input.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>state</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>True to enable the short, False to disable.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The channel to control (default is 1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">short_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enables or disables a short circuit on the input.</span>

<span class="sd">    Args:</span>
<span class="sd">        state: True to enable the short, False to disable.</span>
<span class="sd">        channel: The channel to control (default is 1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;INPut:SHORt:STATe </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Input short on channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> turned </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.start_transient" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start_transient</span><span class="p">(</span><span class="n">continuous</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Initiates the transient trigger system.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_transient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">continuous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initiates the transient trigger system.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;INITiate:CONTinuous:TRANsient </span><span class="si">{</span><span class="s1">&#39;ON&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">continuous</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;OFF&#39;</span><span class="si">}</span><span class="s2">, (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">continuous</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;INITiate:TRANsient (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.DCActiveLoad.DCActiveLoad.stop_transient" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stop_transient</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Aborts any pending or in-progress transient operations.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stop_transient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Aborts any pending or in-progress transient operations.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ABORt:TRANsient (@</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h3 id="pytestlab.instruments.DCActiveLoad-functions">Functions</h3>

<div class="doc doc-object doc-function">


<h4 id="pytestlab.instruments.DCActiveLoad.health_check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Performs a health check on the DC Electronic Load.</p>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/DCActiveLoad.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HealthReport</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Performs a health check on the DC Electronic Load.&quot;&quot;&quot;</span>
        <span class="n">report</span> <span class="o">=</span> <span class="n">HealthReport</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">instrument_idn</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">()</span>
            <span class="n">errors</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_errors</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
                <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">WARNING</span>
                <span class="n">report</span><span class="o">.</span><span class="n">warnings</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;Stored Error: </span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">code</span><span class="p">,</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">OK</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">HealthStatus</span><span class="o">.</span><span class="n">ERROR</span>
            <span class="n">report</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Health check failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="spectrum-analyzer">Spectrum Analyzer</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.SpectrumAnalyser" class="doc doc-heading">
            <code>pytestlab.instruments.SpectrumAnalyser</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.SpectrumAnalyser-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PlaceholderMeasurementResult</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_label</span><span class="o">=</span><span class="s1">&#39;Frequency (Hz)&#39;</span><span class="p">,</span> <span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;Amplitude (dBm)&#39;</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">








                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/SpectrumAnalyser.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">y</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">x_label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">,</span> <span class="n">y_label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Amplitude (dBm)&quot;</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">x_label</span> <span class="o">=</span> <span class="n">x_label</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">y_label</span> <span class="o">=</span> <span class="n">y_label</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.x" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">x</span> <span class="o">=</span> <span class="n">x</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.x_label" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">x_label</span> <span class="o">=</span> <span class="n">x_label</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.y" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">y</span> <span class="o">=</span> <span class="n">y</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult.y_label" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">y_label</span> <span class="o">=</span> <span class="n">y_label</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.SpectrumAnalyser.PlaceholderMeasurementResult-functions">Functions</h5>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">SpectrumAnalyser</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.spectrum_analyzer_config.SpectrumAnalyzerConfig" href="../config/#pytestlab.config.spectrum_analyzer_config.SpectrumAnalyzerConfig">SpectrumAnalyzerConfig</a>]</code></p>








                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigType</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Changed to AsyncInstrumentIO</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Instrument class.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigType): Configuration for the instrument.</span>
<span class="sd">        backend (AsyncInstrumentIO): The communication backend instance.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span> <span class="c1"># Check against the bound base</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;A valid InstrumentConfig-compatible object must be provided, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="c1"># This will be an AsyncInstrumentIO instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_command_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Initializing with backend &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser.configure_measurement" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_measurement</span><span class="p">(</span><span class="n">center_freq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">span</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rbw</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/SpectrumAnalyser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_measurement</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">center_freq</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">span</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">rbw</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">center_freq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FREQ:CENT </span><span class="si">{</span><span class="n">center_freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Use SCPI_MAP later</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">frequency_center</span> <span class="o">=</span> <span class="n">center_freq</span> <span class="c1"># Update config</span>
    <span class="k">if</span> <span class="n">span</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FREQ:SPAN </span><span class="si">{</span><span class="n">span</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">frequency_span</span> <span class="o">=</span> <span class="n">span</span> <span class="c1"># Update config</span>
    <span class="k">if</span> <span class="n">rbw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BAND </span><span class="si">{</span><span class="n">rbw</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># RBW command</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resolution_bandwidth</span> <span class="o">=</span> <span class="n">rbw</span> <span class="c1"># Update config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.SpectrumAnalyser.SpectrumAnalyser.get_trace" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_trace</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/SpectrumAnalyser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_trace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PlaceholderMeasurementResult</span><span class="p">:</span> <span class="c1"># Use actual MeasurementResult later</span>
    <span class="c1"># Example: Query trace data, parse it (often CSV or binary)</span>
    <span class="c1"># raw_data_str = await self._query(f&quot;TRAC:DATA? TRACE{channel}&quot;) # Use SCPI_MAP</span>
    <span class="c1"># For simulation, SimBackend needs to be taught to respond to this</span>
    <span class="c1"># For now, return dummy data</span>
    <span class="c1"># freqs = [1e9, 2e9, 3e9] # Dummy frequencies</span>
    <span class="c1"># amps = [-20, -30, -25]  # Dummy amplitudes</span>
    <span class="c1"># return PlaceholderMeasurementResult(x=freqs, y=amps)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;get_trace for SpectrumAnalyser is a placeholder and returns dummy data.&quot;</span><span class="p">)</span>
    <span class="c1"># Simulating a basic trace for now</span>
    <span class="n">sim_freqs</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">frequency_center</span> <span class="ow">or</span> <span class="mf">1e9</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">frequency_span</span> <span class="ow">or</span> <span class="mf">100e6</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">frequency_span</span> <span class="ow">or</span> <span class="mf">100e6</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)]</span>
    <span class="n">sim_amps</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">20.0</span> <span class="o">-</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)]</span> <span class="c1"># Dummy amplitudes</span>
    <span class="k">return</span> <span class="n">PlaceholderMeasurementResult</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">sim_freqs</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">sim_amps</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="vector-network-analyzer-vna">Vector Network Analyzer (VNA)</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.VectorNetworkAnalyser" class="doc doc-heading">
            <code>pytestlab.instruments.VectorNetworkAnalyser</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.VectorNetworkAnalyser-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.VectorNetworkAnalyser.SParameterData" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">SParameterData</span><span class="p">(</span><span class="n">frequencies</span><span class="p">,</span> <span class="n">s_params</span><span class="p">,</span> <span class="n">param_names</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">








                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/VectorNetworkAnalyser.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequencies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">s_params</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">complex</span><span class="p">]],</span> <span class="n">param_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frequencies</span> <span class="o">=</span> <span class="n">frequencies</span> <span class="c1"># List of frequencies</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">s_params</span> <span class="o">=</span> <span class="n">s_params</span>       <span class="c1"># List of lists, each inner list contains complex S-param values for a given S-parameter type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">param_names</span> <span class="o">=</span> <span class="n">param_names</span> <span class="c1"># List of S-parameter names, e.g., [&quot;S11&quot;, &quot;S21&quot;]</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.VectorNetworkAnalyser.SParameterData-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.VectorNetworkAnalyser.SParameterData.frequencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">frequencies</span> <span class="o">=</span> <span class="n">frequencies</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.VectorNetworkAnalyser.SParameterData.param_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">param_names</span> <span class="o">=</span> <span class="n">param_names</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.VectorNetworkAnalyser.SParameterData.s_params" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">s_params</span> <span class="o">=</span> <span class="n">s_params</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.VectorNetworkAnalyser.SParameterData-functions">Functions</h5>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">VectorNetworkAnalyser</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.vna_config.VNAConfig" href="../config/#pytestlab.config.vna_config.VNAConfig">VNAConfig</a>]</code></p>








                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigType</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Changed to AsyncInstrumentIO</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Instrument class.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigType): Configuration for the instrument.</span>
<span class="sd">        backend (AsyncInstrumentIO): The communication backend instance.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span> <span class="c1"># Check against the bound base</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;A valid InstrumentConfig-compatible object must be provided, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="c1"># This will be an AsyncInstrumentIO instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_command_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Initializing with backend &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h5 id="pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser-attributes">Attributes</h5>

<div class="doc doc-object doc-attribute">



<h6 id="pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser.model_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arbitrary_types_allowed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

    </div>

</div>

<h5 id="pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser.configure_s_parameter_sweep" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_s_parameter_sweep</span><span class="p">(</span><span class="n">s_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">start_freq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stop_freq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_points</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">if_bandwidth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">power_level</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/VectorNetworkAnalyser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_s_parameter_sweep</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">s_params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># e.g. [&quot;S11&quot;, &quot;S21&quot;]</span>
    <span class="n">start_freq</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">stop_freq</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">num_points</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">if_bandwidth</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">power_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">s_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># SCPI command to select S-parameters might be like: CALC:PAR:DEF &quot;S11&quot;</span>
        <span class="c1"># This is highly instrument specific. For now, just update config.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">s_parameters</span> <span class="o">=</span> <span class="n">s_params</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;VNA S-parameters set to: </span><span class="si">{</span><span class="n">s_params</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">start_freq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SENS:FREQ:STAR </span><span class="si">{</span><span class="n">start_freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Example SCPI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">start_frequency</span> <span class="o">=</span> <span class="n">start_freq</span>
    <span class="k">if</span> <span class="n">stop_freq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SENS:FREQ:STOP </span><span class="si">{</span><span class="n">stop_freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Example SCPI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">stop_frequency</span> <span class="o">=</span> <span class="n">stop_freq</span>
    <span class="k">if</span> <span class="n">num_points</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SENS:SWE:POIN </span><span class="si">{</span><span class="n">num_points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Example SCPI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_points</span> <span class="o">=</span> <span class="n">num_points</span>
    <span class="k">if</span> <span class="n">if_bandwidth</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SENS:BWID </span><span class="si">{</span><span class="n">if_bandwidth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Example SCPI for IF bandwidth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">if_bandwidth</span> <span class="o">=</span> <span class="n">if_bandwidth</span>
    <span class="k">if</span> <span class="n">power_level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SOUR:POW </span><span class="si">{</span><span class="n">power_level</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Example SCPI for power</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">power_level</span> <span class="o">=</span> <span class="n">power_level</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;VNA measurement configured (simulated).&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.VectorNetworkAnalyser.VectorNetworkAnalyser.get_s_parameter_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_s_parameter_data</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/VectorNetworkAnalyser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_s_parameter_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SParameterData</span><span class="p">:</span>
    <span class="c1"># Example: Query S-parameter data. This is often complex, involving selecting</span>
    <span class="c1"># the S-parameter, then querying data (e.g., in Real, Imaginary or LogMag, Phase format).</span>
    <span class="c1"># raw_data_str = await self._query(f&quot;CALC:DATA? SDAT&quot;) # Example SCPI for S-parameter data</span>
    <span class="c1"># For simulation, SimBackend needs to be taught to respond.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;get_s_parameter_data for VNA is a placeholder and returns dummy data.&quot;</span><span class="p">)</span>

    <span class="n">num_points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_points</span> <span class="ow">or</span> <span class="mi">101</span>
    <span class="n">start_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">start_frequency</span> <span class="ow">or</span> <span class="mf">1e9</span>
    <span class="n">stop_f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">stop_frequency</span> <span class="ow">or</span> <span class="mf">2e9</span>

    <span class="n">frequencies</span> <span class="o">=</span> <span class="p">[</span><span class="n">start_f</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="n">stop_f</span> <span class="o">-</span> <span class="n">start_f</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">num_points</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">num_points</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_points</span><span class="p">)]</span>

    <span class="n">s_params_to_measure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">s_parameters</span> <span class="ow">or</span> <span class="p">[</span><span class="s2">&quot;S11&quot;</span><span class="p">]</span>
    <span class="n">sim_s_params_data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">complex</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">s_params_to_measure</span><span class="p">:</span>
        <span class="c1"># Dummy data: e.g., S11 a simple reflection, S21 a simple transmission</span>
        <span class="n">param_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_points</span><span class="p">):</span>
            <span class="c1"># Create some varying complex numbers</span>
            <span class="n">real_part</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="n">num_points</span> 
            <span class="n">imag_part</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.05</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">i</span> <span class="o">/</span> <span class="n">num_points</span><span class="p">)</span>
            <span class="n">param_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="n">real_part</span><span class="p">,</span> <span class="n">imag_part</span><span class="p">))</span>
        <span class="n">sim_s_params_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param_data</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">SParameterData</span><span class="p">(</span><span class="n">frequencies</span><span class="o">=</span><span class="n">frequencies</span><span class="p">,</span> <span class="n">s_params</span><span class="o">=</span><span class="n">sim_s_params_data</span><span class="p">,</span> <span class="n">param_names</span><span class="o">=</span><span class="n">s_params_to_measure</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="power-meter">Power Meter</h3>


<div class="doc doc-object doc-module">



<h2 id="pytestlab.instruments.PowerMeter" class="doc doc-heading">
            <code>pytestlab.instruments.PowerMeter</code>


</h2>

    <div class="doc doc-contents first">









  <div class="doc doc-children">






<h3 id="pytestlab.instruments.PowerMeter-classes">Classes</h3>

<div class="doc doc-object doc-class">



<h4 id="pytestlab.instruments.PowerMeter.PowerMeter" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PowerMeter</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pytestlab.instruments.Instrument(config, backend, **kwargs) (pytestlab.instruments.instrument.Instrument)" href="#pytestlab.instruments.Instrument">Instrument</a>[<a class="autorefs autorefs-internal" title="pytestlab.config.power_meter_config.PowerMeterConfig" href="../config/#pytestlab.config.power_meter_config.PowerMeterConfig">PowerMeterConfig</a>]</code></p>


        <p>Drives a Power Meter instrument for power measurements.</p>
<p>This class provides a high-level interface for controlling a power meter,
building upon the base <code>Instrument</code> class. It includes methods for
configuring the power sensor and reading power values.</p>







                  <details class="quote">
                    <summary>Source code in <code>pytestlab/instruments/instrument.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ConfigType</span><span class="p">,</span> <span class="n">backend</span><span class="p">:</span> <span class="n">AsyncInstrumentIO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Changed to AsyncInstrumentIO</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Instrument class.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ConfigType): Configuration for the instrument.</span>
<span class="sd">        backend (AsyncInstrumentIO): The communication backend instance.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">InstrumentConfig</span><span class="p">):</span> <span class="c1"># Check against the bound base</span>
        <span class="k">raise</span> <span class="n">InstrumentConfigurationError</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;A valid InstrumentConfig-compatible object must be provided, but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span> <span class="c1"># This will be an AsyncInstrumentIO instance</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_command_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">logger_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="s1">&#39;model&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instrument &#39;</span><span class="si">{</span><span class="n">logger_name</span><span class="si">}</span><span class="s2">&#39;: Initializing with backend &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="pytestlab.instruments.PowerMeter.PowerMeter-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerMeter.PowerMeter.configure_sensor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_sensor</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">averaging_count</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Configures the settings for a specific power sensor channel.</p>
<p>This method allows setting the frequency compensation, averaging count,
and power units for the measurement.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The sensor channel number to configure (default is 1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>freq</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The frequency compensation value in Hz.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>averaging_count</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The number of measurements to average.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>units</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The desired power units (e.g., "dBm", "W").</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerMeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">configure_sensor</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">freq</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">averaging_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">units</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the settings for a specific power sensor channel.</span>

<span class="sd">    This method allows setting the frequency compensation, averaging count,</span>
<span class="sd">    and power units for the measurement.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The sensor channel number to configure (default is 1).</span>
<span class="sd">        freq: The frequency compensation value in Hz.</span>
<span class="sd">        averaging_count: The number of measurements to average.</span>
<span class="sd">        units: The desired power units (e.g., &quot;dBm&quot;, &quot;W&quot;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The specific SCPI commands can vary between power meter models.</span>
    <span class="c1"># The following are common examples.</span>

    <span class="c1"># Set the frequency compensation for the sensor.</span>
    <span class="k">if</span> <span class="n">freq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SENS</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:FREQ </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">frequency_compensation_value</span> <span class="o">=</span> <span class="n">freq</span>  <span class="c1"># Update local config state</span>

    <span class="c1"># Set the number of readings to average.</span>
    <span class="k">if</span> <span class="n">averaging_count</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SENS</span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2">:AVER:COUN </span><span class="si">{</span><span class="n">averaging_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">averaging_count</span> <span class="o">=</span> <span class="n">averaging_count</span>  <span class="c1"># Update local config state</span>

    <span class="c1"># Set the units for the power measurement.</span>
    <span class="k">if</span> <span class="n">units</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Validate that the requested units are supported by the config model.</span>
        <span class="k">if</span> <span class="n">units</span> <span class="ow">in</span> <span class="n">PowerMeterConfig</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="s1">&#39;power_units&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">__args__</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;UNIT:POW </span><span class="si">{</span><span class="n">units</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">power_units</span> <span class="o">=</span> <span class="n">units</span>  <span class="c1"># type: ignore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid power units &#39;</span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">&#39; specified. Using config default &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">power_units</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Power meter sensor channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> configured.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="pytestlab.instruments.PowerMeter.PowerMeter.read_power" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_power</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h6>


    <div class="doc doc-contents ">

        <p>Reads the power from a specified sensor channel.</p>
<p>This method queries the instrument for a power reading. Note that this
is a placeholder implementation and currently returns simulated data.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The sensor channel number to read from (default is 1).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>1</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="float">float</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>The measured power as a float. The units depend on the current</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="float">float</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>instrument configuration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pytestlab/instruments/PowerMeter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads the power from a specified sensor channel.</span>

<span class="sd">    This method queries the instrument for a power reading. Note that this</span>
<span class="sd">    is a placeholder implementation and currently returns simulated data.</span>

<span class="sd">    Args:</span>
<span class="sd">        channel: The sensor channel number to read from (default is 1).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The measured power as a float. The units depend on the current</span>
<span class="sd">        instrument configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># In a real implementation, you would query the instrument.</span>
    <span class="c1"># Example: raw_power_str = await self._query(f&quot;FETC{channel}?&quot;)</span>
    <span class="c1"># The SimBackend would need to be configured to provide realistic responses.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;read_power for PowerMeter channel </span><span class="si">{</span><span class="n">channel</span><span class="si">}</span><span class="s2"> is a placeholder and returns dummy data.&quot;</span><span class="p">)</span>

    <span class="c1"># Simulate a power reading based on the configured units.</span>
    <span class="n">sim_power</span> <span class="o">=</span> <span class="o">-</span><span class="mf">10.0</span>  <span class="c1"># Default dummy power in dBm</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">power_units</span> <span class="o">==</span> <span class="s2">&quot;W&quot;</span><span class="p">:</span>
        <span class="n">sim_power</span> <span class="o">=</span> <span class="mf">0.0001</span>  <span class="c1"># 100uW</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">power_units</span> <span class="o">==</span> <span class="s2">&quot;mW&quot;</span><span class="p">:</span>
        <span class="n">sim_power</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># 0.1mW</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">power_units</span> <span class="o">==</span> <span class="s2">&quot;uW&quot;</span><span class="p">:</span>
        <span class="n">sim_power</span> <span class="o">=</span> <span class="mf">100.0</span>  <span class="c1"># 100uW</span>

    <span class="c1"># For more realistic simulations, a small random variation could be added.</span>
    <span class="c1"># import random</span>
    <span class="c1"># sim_power *= (1 + random.uniform(-0.01, 0.01))</span>

    <span class="k">return</span> <span class="n">sim_power</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><hr />
<h2 id="facade-pattern">Facade Pattern</h2>
<p>All instrument drivers expose "facade" objects for common operations, enabling a fluent, chainable API. For example, you can configure and enable a channel with:</p>
<div class="highlight"><pre><span></span><code><span class="k">await</span> <span class="n">scope</span><span class="o">.</span><span class="n">channel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
</code></pre></div>
<p>See the <a href="../../tutorials/10_minute_tour.ipynb">10-Minute Tour</a> for practical examples.</p>
<hr />
<h2 id="simulation-support">Simulation Support</h2>
<p>All drivers support simulation via the <code>simulate=True</code> flag or by using a simulated backend. See the <a href="../../user_guide/simulation/">Simulation Guide</a> for details.</p>
<hr />
<h2 id="extending-drivers">Extending Drivers</h2>
<p>To add support for a new instrument, create a profile YAML file and use <code>AutoInstrument.from_config()</code> or subclass <code>Instrument</code>. See <a href="../../profiles/creating/">Creating Profiles</a> for guidance.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 8, 2025 17:30:54 UTC">July 8, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/pytestlab/pytestlab" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/pytestlab/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>